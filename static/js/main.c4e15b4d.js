/*! For license information please see main.c4e15b4d.js.LICENSE.txt */
(function(){var __webpack_modules__={50176:function(e,t,r){r(79169),r(63090),e.exports=r(63093).Array.from},70964:function(e,t,r){r(48901),e.exports=r(63093).Array.isArray},2735:function(e,t,r){r(39361),r(79169),e.exports=r(19032)},23565:function(e,t,r){var n=r(63093),a=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},68080:function(e,t,r){r(57044),e.exports=r(63093).Number.isNaN},68207:function(e,t,r){r(82464),e.exports=r(63093).Object.assign},25380:function(e,t,r){r(97660);var n=r(63093).Object;e.exports=function(e,t){return n.create(e,t)}},82624:function(e,t,r){r(15356);var n=r(63093).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},44221:function(e,t,r){r(52812);var n=r(63093).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},72818:function(e,t,r){r(15898),e.exports=r(63093).Object.getOwnPropertySymbols},87595:function(e,t,r){r(92810),e.exports=r(63093).Object.getPrototypeOf},15297:function(e,t,r){r(5338),e.exports=r(63093).Object.keys},21900:function(e,t,r){r(99269),e.exports=r(63093).Object.setPrototypeOf},16111:function(e,t,r){r(68785),e.exports=r(63093).parseInt},89448:function(e,t,r){r(56536),r(79169),r(39361),r(63723),r(36556),r(8421),e.exports=r(63093).Promise},98828:function(e,t,r){r(56536),r(79169),r(39361),r(6348),r(30093),r(42235),r(68572),e.exports=r(63093).Set},71922:function(e,t,r){r(15898),r(56536),r(52145),r(74775),e.exports=r(63093).Symbol},72974:function(e,t,r){r(79169),r(39361),e.exports=r(33485).f("iterator")},90446:function(e,t,r){e.exports=r(33485).f("toPrimitive")},69488:function(e,t,r){r(56536),r(39361),r(11610),r(91877),r(20206),e.exports=r(63093).WeakMap},18679:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},86687:function(e){e.exports=function(){}},8003:function(e){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},49226:function(e,t,r){var n=r(44425);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},51705:function(e,t,r){var n=r(26510);e.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},43206:function(e,t,r){var n=r(6303),a=r(45321),o=r(10139);e.exports=function(e){return function(t,r,i){var s,c=n(t),u=a(c.length),l=o(i,u);if(e&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}}},18485:function(e,t,r){var n=r(31133),a=r(65474),o=r(54922),i=r(45321),s=r(243);e.exports=function(e,t){var r=1==e,c=2==e,u=3==e,l=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var m,v,_=o(t),y=a(_),g=n(s,h,3),b=i(y.length),w=0,k=r?p(t,b):c?p(t,0):void 0;b>w;w++)if((d||w in y)&&(v=g(m=y[w],w,_),e))if(r)k[w]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:k.push(m)}else if(l)return!1;return f?-1:u||l?l:k}}},33723:function(e,t,r){var n=r(44425),a=r(35730),o=r(23032)("species");e.exports=function(e){var t;return a(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),n(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},243:function(e,t,r){var n=r(33723);e.exports=function(e,t){return new(n(e))(t)}},85158:function(t,r,n){var a=n(47489),o=n(23032)("toStringTag"),i="Arguments"==a(function(){return arguments}());t.exports=function(t){var r,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,r){try{return t[r]}catch(e){}}(r=Object(t),o))?n:i?a(r):"Object"==(s=a(r))&&"function"==typeof r.callee?"Arguments":s}},47489:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},21706:function(e,t,r){"use strict";var n=r(56007).f,a=r(69270),o=r(561),i=r(31133),s=r(8003),c=r(26510),u=r(60354),l=r(85490),f=r(7183),d=r(97305),p=r(57010).fastKey,h=r(10069),m=d?"_s":"size",v=function(e,t){var r,n=p(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,u){var l=e((function(e,n){s(e,l,t,"_i"),e._t=t,e._i=a(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=n&&c(n,r,e[u],e)}));return o(l.prototype,{clear:function(){for(var e=h(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var r=h(this,t),n=v(r,e);if(n){var a=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=a),a&&(a.p=o),r._f==n&&(r._f=a),r._l==n&&(r._l=o),r[m]--}return!!n},forEach:function(e){h(this,t);for(var r,n=i(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!v(h(this,t),e)}}),d&&n(l.prototype,"size",{get:function(){return h(this,t)[m]}}),l},def:function(e,t,r){var n,a,o=v(e,t);return o?o.v=r:(e._l=o={i:a=p(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[m]++,"F"!==a&&(e._i[a]=o)),e},getEntry:v,setStrong:function(e,t,r){u(e,t,(function(e,r){this._t=h(e,t),this._k=r,this._l=void 0}),(function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?l(0,"keys"==t?r.k:"values"==t?r.v:[r.k,r.v]):(e._t=void 0,l(1))}),r?"entries":"values",!r,!0),f(t)}}},80540:function(e,t,r){var n=r(85158),a=r(51705);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return a(this)}}},77760:function(e,t,r){"use strict";var n=r(561),a=r(57010).getWeak,o=r(49226),i=r(44425),s=r(8003),c=r(26510),u=r(18485),l=r(3920),f=r(10069),d=u(5),p=u(6),h=0,m=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},_=function(e,t){return d(e.a,(function(e){return e[0]===t}))};v.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var r=_(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,o){var u=e((function(e,n){s(e,u,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=n&&c(n,r,e[o],e)}));return n(u.prototype,{delete:function(e){if(!i(e))return!1;var r=a(e);return!0===r?m(f(this,t)).delete(e):r&&l(r,this._i)&&delete r[this._i]},has:function(e){if(!i(e))return!1;var r=a(e);return!0===r?m(f(this,t)).has(e):r&&l(r,this._i)}}),u},def:function(e,t,r){var n=a(o(t),!0);return!0===n?m(e).set(t,r):n[e._i]=r,e},ufstore:m}},66924:function(e,t,r){"use strict";var n=r(3220),a=r(14518),o=r(57010),i=r(84930),s=r(44379),c=r(561),u=r(26510),l=r(8003),f=r(44425),d=r(8182),p=r(56007).f,h=r(18485)(0),m=r(97305);e.exports=function(e,t,r,v,_,y){var g=n[e],b=g,w=_?"set":"add",k=b&&b.prototype,x={};return m&&"function"==typeof b&&(y||k.forEach&&!i((function(){(new b).entries().next()})))?(b=t((function(t,r){l(t,b,e,"_c"),t._c=new g,void 0!=r&&u(r,_,t[w],t)})),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;!(e in k)||y&&"clear"==e||s(b.prototype,e,(function(r,n){if(l(this,b,e),!t&&y&&!f(r))return"get"==e&&void 0;var a=this._c[e](0===r?0:r,n);return t?this:a}))})),y||p(b.prototype,"size",{get:function(){return this._c.size}})):(b=v.getConstructor(t,e,_,w),c(b.prototype,r),o.NEED=!0),d(b,e),x[e]=b,a(a.G+a.W+a.F,x),y||v.setStrong(b,e,_),b}},63093:function(e){var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},10101:function(e,t,r){"use strict";var n=r(56007),a=r(35831);e.exports=function(e,t,r){t in e?n.f(e,t,a(0,r)):e[t]=r}},31133:function(e,t,r){var n=r(18679);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},59359:function(e){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},97305:function(e,t,r){e.exports=!r(84930)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},3299:function(e,t,r){var n=r(44425),a=r(3220).document,o=n(a)&&n(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},75834:function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},94331:function(e,t,r){var n=r(31304),a=r(18382),o=r(55066);e.exports=function(e){var t=n(e),r=a.f;if(r)for(var i,s=r(e),c=o.f,u=0;s.length>u;)c.call(e,i=s[u++])&&t.push(i);return t}},14518:function(e,t,r){var n=r(3220),a=r(63093),o=r(31133),i=r(44379),s=r(3920),c="prototype",u=function(e,t,r){var l,f,d,p=e&u.F,h=e&u.G,m=e&u.S,v=e&u.P,_=e&u.B,y=e&u.W,g=h?a:a[t]||(a[t]={}),b=g[c],w=h?n:m?n[t]:(n[t]||{})[c];for(l in h&&(r=t),r)(f=!p&&w&&void 0!==w[l])&&s(g,l)||(d=f?w[l]:r[l],g[l]=h&&"function"!=typeof w[l]?r[l]:_&&f?o(d,n):y&&w[l]==d?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[c]=e[c],t}(d):v&&"function"==typeof d?o(Function.call,d):d,v&&((g.virtual||(g.virtual={}))[l]=d,e&u.R&&b&&!b[l]&&i(b,l,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},84930:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},26510:function(e,t,r){var n=r(31133),a=r(12441),o=r(92566),i=r(49226),s=r(45321),c=r(25816),u={},l={},f=e.exports=function(e,t,r,f,d){var p,h,m,v,_=d?function(){return e}:c(e),y=n(r,f,t?2:1),g=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(o(_)){for(p=s(e.length);p>g;g++)if((v=t?y(i(h=e[g])[0],h[1]):y(e[g]))===u||v===l)return v}else for(m=_.call(e);!(h=m.next()).done;)if((v=a(m,y,h.value,t))===u||v===l)return v};f.BREAK=u,f.RETURN=l},3220:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},3920:function(e){var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},44379:function(e,t,r){var n=r(56007),a=r(35831);e.exports=r(97305)?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},588:function(e,t,r){var n=r(3220).document;e.exports=n&&n.documentElement},17209:function(e,t,r){e.exports=!r(97305)&&!r(84930)((function(){return 7!=Object.defineProperty(r(3299)("div"),"a",{get:function(){return 7}}).a}))},44990:function(e){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},65474:function(e,t,r){var n=r(47489);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},92566:function(e,t,r){var n=r(64502),a=r(23032)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[a]===e)}},35730:function(e,t,r){var n=r(47489);e.exports=Array.isArray||function(e){return"Array"==n(e)}},44425:function(e){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},12441:function(t,r,n){var a=n(49226);t.exports=function(t,r,n,o){try{return o?r(a(n)[0],n[1]):r(n)}catch(e){var i=t.return;throw void 0!==i&&a(i.call(t)),e}}},95415:function(e,t,r){"use strict";var n=r(69270),a=r(35831),o=r(8182),i={};r(44379)(i,r(23032)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(i,{next:a(1,r)}),o(e,t+" Iterator")}},60354:function(e,t,r){"use strict";var n=r(34436),a=r(14518),o=r(29763),i=r(44379),s=r(64502),c=r(95415),u=r(8182),l=r(65194),f=r(23032)("iterator"),d=!([].keys&&"next"in[].keys()),p="keys",h="values",m=function(){return this};e.exports=function(e,t,r,v,_,y,g){c(r,t,v);var b,w,k,x=function(e){if(!d&&e in O)return O[e];switch(e){case p:case h:return function(){return new r(this,e)}}return function(){return new r(this,e)}},j=t+" Iterator",E=_==h,S=!1,O=e.prototype,P=O[f]||O["@@iterator"]||_&&O[_],A=P||x(_),T=_?E?x("entries"):A:void 0,C="Array"==t&&O.entries||P;if(C&&(k=l(C.call(new e)))!==Object.prototype&&k.next&&(u(k,j,!0),n||"function"==typeof k[f]||i(k,f,m)),E&&P&&P.name!==h&&(S=!0,A=function(){return P.call(this)}),n&&!g||!d&&!S&&O[f]||i(O,f,A),s[t]=A,s[j]=m,_)if(b={values:E?A:x(h),keys:y?A:x(p),entries:T},g)for(w in b)w in O||o(O,w,b[w]);else a(a.P+a.F*(d||S),t,b);return b}},98661:function(t,r,n){var a=n(23032)("iterator"),o=!1;try{var i=[7][a]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(e){}t.exports=function(t,r){if(!r&&!o)return!1;var n=!1;try{var i=[7],s=i[a]();s.next=function(){return{done:n=!0}},i[a]=function(){return s},t(i)}catch(e){}return n}},85490:function(e){e.exports=function(e,t){return{value:t,done:!!e}}},64502:function(e){e.exports={}},34436:function(e){e.exports=!0},57010:function(e,t,r){var n=r(46918)("meta"),a=r(44425),o=r(3920),i=r(56007).f,s=0,c=Object.isExtensible||function(){return!0},u=!r(84930)((function(){return c(Object.preventExtensions({}))})),l=function(e){i(e,n,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[n].w},onFreeze:function(e){return u&&f.NEED&&c(e)&&!o(e,n)&&l(e),e}}},9734:function(t,r,n){var a=n(3220),o=n(26998).set,i=a.MutationObserver||a.WebKitMutationObserver,s=a.process,c=a.Promise,u="process"==n(47489)(s);t.exports=function(){var t,r,n,l=function(){var a,o;for(u&&(a=s.domain)&&a.exit();t;){o=t.fn,t=t.next;try{o()}catch(e){throw t?n():r=void 0,e}}r=void 0,a&&a.enter()};if(u)n=function(){s.nextTick(l)};else if(!i||a.navigator&&a.navigator.standalone)if(c&&c.resolve){var f=c.resolve(void 0);n=function(){f.then(l)}}else n=function(){o.call(a,l)};else{var d=!0,p=document.createTextNode("");new i(l).observe(p,{characterData:!0}),n=function(){p.data=d=!d}}return function(e){var a={fn:e,next:void 0};r&&(r.next=a),t||(t=a,n()),r=a}}},36253:function(e,t,r){"use strict";var n=r(18679);function a(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)}e.exports.f=function(e){return new a(e)}},47382:function(e,t,r){"use strict";var n=r(97305),a=r(31304),o=r(18382),i=r(55066),s=r(54922),c=r(65474),u=Object.assign;e.exports=!u||r(84930)((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n}))?function(e,t){for(var r=s(e),u=arguments.length,l=1,f=o.f,d=i.f;u>l;)for(var p,h=c(arguments[l++]),m=f?a(h).concat(f(h)):a(h),v=m.length,_=0;v>_;)p=m[_++],n&&!d.call(h,p)||(r[p]=h[p]);return r}:u},69270:function(e,t,r){var n=r(49226),a=r(16287),o=r(75834),i=r(72596)("IE_PROTO"),s=function(){},c="prototype",u=function(){var e,t=r(3299)("iframe"),n=o.length;for(t.style.display="none",r(588).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u[c][o[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(s[c]=n(e),r=new s,s[c]=null,r[i]=e):r=u(),void 0===t?r:a(r,t)}},56007:function(t,r,n){var a=n(49226),o=n(17209),i=n(32548),s=Object.defineProperty;r.f=n(97305)?Object.defineProperty:function(t,r,n){if(a(t),r=i(r,!0),a(n),o)try{return s(t,r,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[r]=n.value),t}},16287:function(e,t,r){var n=r(56007),a=r(49226),o=r(31304);e.exports=r(97305)?Object.defineProperties:function(e,t){a(e);for(var r,i=o(t),s=i.length,c=0;s>c;)n.f(e,r=i[c++],t[r]);return e}},30826:function(t,r,n){var a=n(55066),o=n(35831),i=n(6303),s=n(32548),c=n(3920),u=n(17209),l=Object.getOwnPropertyDescriptor;r.f=n(97305)?l:function(t,r){if(t=i(t),r=s(r,!0),u)try{return l(t,r)}catch(e){}if(c(t,r))return o(!a.f.call(t,r),t[r])}},23208:function(t,r,n){var a=n(6303),o=n(95733).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(e){return s.slice()}}(t):o(a(t))}},95733:function(e,t,r){var n=r(26567),a=r(75834).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},18382:function(e,t){t.f=Object.getOwnPropertySymbols},65194:function(e,t,r){var n=r(3920),a=r(54922),o=r(72596)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},26567:function(e,t,r){var n=r(3920),a=r(6303),o=r(43206)(!1),i=r(72596)("IE_PROTO");e.exports=function(e,t){var r,s=a(e),c=0,u=[];for(r in s)r!=i&&n(s,r)&&u.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~o(u,r)||u.push(r));return u}},31304:function(e,t,r){var n=r(26567),a=r(75834);e.exports=Object.keys||function(e){return n(e,a)}},55066:function(e,t){t.f={}.propertyIsEnumerable},70874:function(e,t,r){var n=r(14518),a=r(63093),o=r(84930);e.exports=function(e,t){var r=(a.Object||{})[e]||Object[e],i={};i[e]=t(r),n(n.S+n.F*o((function(){r(1)})),"Object",i)}},24049:function(e,t,r){var n=r(3220).parseInt,a=r(28685).trim,o=r(58917),i=/^[-+]?0[xX]/;e.exports=8!==n(o+"08")||22!==n(o+"0x16")?function(e,t){var r=a(String(e),3);return n(r,t>>>0||(i.test(r)?16:10))}:n},19934:function(t){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},77116:function(e,t,r){var n=r(49226),a=r(44425),o=r(36253);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},35831:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},561:function(e,t,r){var n=r(44379);e.exports=function(e,t,r){for(var a in t)r&&e[a]?e[a]=t[a]:n(e,a,t[a]);return e}},29763:function(e,t,r){e.exports=r(44379)},74573:function(e,t,r){"use strict";var n=r(14518),a=r(18679),o=r(31133),i=r(26510);e.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,s,c=arguments[1];return a(this),(t=void 0!==c)&&a(c),void 0==e?new this:(r=[],t?(n=0,s=o(c,arguments[2],2),i(e,!1,(function(e){r.push(s(e,n++))}))):i(e,!1,r.push,r),new this(r))}})}},72758:function(e,t,r){"use strict";var n=r(14518);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},96573:function(t,r,n){var a=n(44425),o=n(49226),i=function(e,t){if(o(e),!a(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,a){try{(a=n(31133)(Function.call,n(30826).f(Object.prototype,"__proto__").set,2))(t,[]),r=!(t instanceof Array)}catch(e){r=!0}return function(e,t){return i(e,t),r?e.__proto__=t:a(e,t),e}}({},!1):void 0),check:i}},7183:function(e,t,r){"use strict";var n=r(3220),a=r(63093),o=r(56007),i=r(97305),s=r(23032)("species");e.exports=function(e){var t="function"==typeof a[e]?a[e]:n[e];i&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},8182:function(e,t,r){var n=r(56007).f,a=r(3920),o=r(23032)("toStringTag");e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},72596:function(e,t,r){var n=r(5628)("keys"),a=r(46918);e.exports=function(e){return n[e]||(n[e]=a(e))}},5628:function(e,t,r){var n=r(63093),a=r(3220),o="__core-js_shared__",i=a[o]||(a[o]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(34436)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},312:function(e,t,r){var n=r(49226),a=r(18679),o=r(23032)("species");e.exports=function(e,t){var r,i=n(e).constructor;return void 0===i||void 0==(r=n(i)[o])?t:a(r)}},87268:function(e,t,r){var n=r(72579),a=r(59359);e.exports=function(e){return function(t,r){var o,i,s=String(a(t)),c=n(r),u=s.length;return c<0||c>=u?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(i=s.charCodeAt(c+1))<56320||i>57343?e?s.charAt(c):o:e?s.slice(c,c+2):i-56320+(o-55296<<10)+65536}}},28685:function(e,t,r){var n=r(14518),a=r(59359),o=r(84930),i=r(58917),s="["+i+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),l=function(e,t,r){var a={},s=o((function(){return!!i[e]()||"\u200b\x85"!="\u200b\x85"[e]()})),c=a[e]=s?t(f):i[e];r&&(a[r]=c),n(n.P+n.F*s,"String",a)},f=l.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=l},58917:function(e){e.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},26998:function(e,t,r){var n,a,o,i=r(31133),s=r(44990),c=r(588),u=r(3299),l=r(3220),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,v=0,_={},y="onreadystatechange",g=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},b=function(e){g.call(e.data)};d&&p||(d=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return _[++v]=function(){s("function"==typeof e?e:Function(e),t)},n(v),v},p=function(e){delete _[e]},"process"==r(47489)(f)?n=function(e){f.nextTick(i(g,e,1))}:m&&m.now?n=function(e){m.now(i(g,e,1))}:h?(o=(a=new h).port2,a.port1.onmessage=b,n=i(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):n=y in u("script")?function(e){c.appendChild(u("script"))[y]=function(){c.removeChild(this),g.call(e)}}:function(e){setTimeout(i(g,e,1),0)}),e.exports={set:d,clear:p}},10139:function(e,t,r){var n=r(72579),a=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?a(e+t,0):o(e,t)}},72579:function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},6303:function(e,t,r){var n=r(65474),a=r(59359);e.exports=function(e){return n(a(e))}},45321:function(e,t,r){var n=r(72579),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},54922:function(e,t,r){var n=r(59359);e.exports=function(e){return Object(n(e))}},32548:function(e,t,r){var n=r(44425);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},46918:function(e){var t=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},58411:function(e,t,r){var n=r(3220).navigator;e.exports=n&&n.userAgent||""},10069:function(e,t,r){var n=r(44425);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},10305:function(e,t,r){var n=r(3220),a=r(63093),o=r(34436),i=r(33485),s=r(56007).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:i.f(e)})}},33485:function(e,t,r){t.f=r(23032)},23032:function(e,t,r){var n=r(5628)("wks"),a=r(46918),o=r(3220).Symbol,i="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=i&&o[e]||(i?o:a)("Symbol."+e))}).store=n},25816:function(e,t,r){var n=r(85158),a=r(23032)("iterator"),o=r(64502);e.exports=r(63093).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||o[n(e)]}},19032:function(e,t,r){var n=r(49226),a=r(25816);e.exports=r(63093).getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},63090:function(e,t,r){"use strict";var n=r(31133),a=r(14518),o=r(54922),i=r(12441),s=r(92566),c=r(45321),u=r(10101),l=r(25816);a(a.S+a.F*!r(98661)((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,a,f,d=o(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,_=0,y=l(d);if(v&&(m=n(m,h>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(r=new p(t=c(d.length));t>_;_++)u(r,_,v?m(d[_],_):d[_]);else for(f=y.call(d),r=new p;!(a=f.next()).done;_++)u(r,_,v?i(f,m,[a.value,_],!0):a.value);return r.length=_,r}})},48901:function(e,t,r){var n=r(14518);n(n.S,"Array",{isArray:r(35730)})},74296:function(e,t,r){"use strict";var n=r(86687),a=r(85490),o=r(64502),i=r(6303);e.exports=r(60354)(Array,"Array",(function(e,t){this._t=i(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},57044:function(e,t,r){var n=r(14518);n(n.S,"Number",{isNaN:function(e){return e!=e}})},82464:function(e,t,r){var n=r(14518);n(n.S+n.F,"Object",{assign:r(47382)})},97660:function(e,t,r){var n=r(14518);n(n.S,"Object",{create:r(69270)})},15356:function(e,t,r){var n=r(14518);n(n.S+n.F*!r(97305),"Object",{defineProperty:r(56007).f})},52812:function(e,t,r){var n=r(6303),a=r(30826).f;r(70874)("getOwnPropertyDescriptor",(function(){return function(e,t){return a(n(e),t)}}))},92810:function(e,t,r){var n=r(54922),a=r(65194);r(70874)("getPrototypeOf",(function(){return function(e){return a(n(e))}}))},5338:function(e,t,r){var n=r(54922),a=r(31304);r(70874)("keys",(function(){return function(e){return a(n(e))}}))},99269:function(e,t,r){var n=r(14518);n(n.S,"Object",{setPrototypeOf:r(96573).set})},56536:function(){},68785:function(e,t,r){var n=r(14518),a=r(24049);n(n.G+n.F*(parseInt!=a),{parseInt:a})},63723:function(t,r,n){"use strict";var a,o,i,s,c=n(34436),u=n(3220),l=n(31133),f=n(85158),d=n(14518),p=n(44425),h=n(18679),m=n(8003),v=n(26510),_=n(312),y=n(26998).set,g=n(9734)(),b=n(36253),w=n(19934),k=n(58411),x=n(77116),j="Promise",E=u.TypeError,S=u.process,O=S&&S.versions,P=O&&O.v8||"",A=u[j],T="process"==f(S),C=function(){},R=o=b.f,I=!!function(){try{var t=A.resolve(1),r=(t.constructor={})[n(23032)("species")]=function(e){e(C,C)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(C)instanceof r&&0!==P.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(e){}}(),D=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},F=function(t,r){if(!t._n){t._n=!0;var n=t._c;g((function(){for(var a=t._v,o=1==t._s,i=0,s=function(r){var n,i,s,c=o?r.ok:r.fail,u=r.resolve,l=r.reject,f=r.domain;try{c?(o||(2==t._h&&U(t),t._h=1),!0===c?n=a:(f&&f.enter(),n=c(a),f&&(f.exit(),s=!0)),n===r.promise?l(E("Promise-chain cycle")):(i=D(n))?i.call(n,u,l):u(n)):l(a)}catch(e){f&&!s&&f.exit(),l(e)}};n.length>i;)s(n[i++]);t._c=[],t._n=!1,r&&!t._h&&N(t)}))}},N=function(e){y.call(u,(function(){var t,r,n,a=e._v,o=M(e);if(o&&(t=w((function(){T?S.emit("unhandledRejection",a,e):(r=u.onunhandledrejection)?r({promise:e,reason:a}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",a)})),e._h=T||M(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},U=function(e){y.call(u,(function(){var t;T?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},q=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),F(t,!0))},L=function(t){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw E("Promise can't be resolved itself");(r=D(t))?g((function(){var a={_w:n,_d:!1};try{r.call(t,l(L,a,1),l(q,a,1))}catch(e){q.call(a,e)}})):(n._v=t,n._s=1,F(n,!1))}catch(e){q.call({_w:n,_d:!1},e)}}};I||(A=function(e){m(this,A,j,"_h"),h(e),a.call(this);try{e(l(L,this,1),l(q,this,1))}catch(t){q.call(this,t)}},(a=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(561)(A.prototype,{then:function(e,t){var r=R(_(this,A));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=T?S.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&F(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new a;this.promise=e,this.resolve=l(L,e,1),this.reject=l(q,e,1)},b.f=R=function(e){return e===A||e===s?new i(e):o(e)}),d(d.G+d.W+d.F*!I,{Promise:A}),n(8182)(A,j),n(7183)(j),s=n(63093)[j],d(d.S+d.F*!I,j,{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(c||!I),j,{resolve:function(e){return x(c&&this===s?A:this,e)}}),d(d.S+d.F*!(I&&n(98661)((function(e){A.all(e).catch(C)}))),j,{all:function(e){var t=this,r=R(t),n=r.resolve,a=r.reject,o=w((function(){var r=[],o=0,i=1;v(e,!1,(function(e){var s=o++,c=!1;r.push(void 0),i++,t.resolve(e).then((function(e){c||(c=!0,r[s]=e,--i||n(r))}),a)})),--i||n(r)}));return o.e&&a(o.v),r.promise},race:function(e){var t=this,r=R(t),n=r.reject,a=w((function(){v(e,!1,(function(e){t.resolve(e).then(r.resolve,n)}))}));return a.e&&n(a.v),r.promise}})},6348:function(e,t,r){"use strict";var n=r(21706),a=r(10069);e.exports=r(66924)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(a(this,"Set"),e=0===e?0:e,e)}},n)},79169:function(e,t,r){"use strict";var n=r(87268)(!0);r(60354)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},15898:function(e,t,r){"use strict";var n=r(3220),a=r(3920),o=r(97305),i=r(14518),s=r(29763),c=r(57010).KEY,u=r(84930),l=r(5628),f=r(8182),d=r(46918),p=r(23032),h=r(33485),m=r(10305),v=r(94331),_=r(35730),y=r(49226),g=r(44425),b=r(54922),w=r(6303),k=r(32548),x=r(35831),j=r(69270),E=r(23208),S=r(30826),O=r(18382),P=r(56007),A=r(31304),T=S.f,C=P.f,R=E.f,I=n.Symbol,D=n.JSON,F=D&&D.stringify,N="prototype",M=p("_hidden"),U=p("toPrimitive"),q={}.propertyIsEnumerable,L=l("symbol-registry"),$=l("symbols"),W=l("op-symbols"),B=Object[N],z="function"==typeof I&&!!O.f,V=n.QObject,K=!V||!V[N]||!V[N].findChild,H=o&&u((function(){return 7!=j(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=T(B,t);n&&delete B[t],C(e,t,r),n&&e!==B&&C(B,t,n)}:C,G=function(e){var t=$[e]=j(I[N]);return t._k=e,t},J=z&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},Q=function(e,t,r){return e===B&&Q(W,t,r),y(e),t=k(t,!0),y(r),a($,t)?(r.enumerable?(a(e,M)&&e[M][t]&&(e[M][t]=!1),r=j(r,{enumerable:x(0,!1)})):(a(e,M)||C(e,M,x(1,{})),e[M][t]=!0),H(e,t,r)):C(e,t,r)},Y=function(e,t){y(e);for(var r,n=v(t=w(t)),a=0,o=n.length;o>a;)Q(e,r=n[a++],t[r]);return e},X=function(e){var t=q.call(this,e=k(e,!0));return!(this===B&&a($,e)&&!a(W,e))&&(!(t||!a(this,e)||!a($,e)||a(this,M)&&this[M][e])||t)},Z=function(e,t){if(e=w(e),t=k(t,!0),e!==B||!a($,t)||a(W,t)){var r=T(e,t);return!r||!a($,t)||a(e,M)&&e[M][t]||(r.enumerable=!0),r}},ee=function(e){for(var t,r=R(w(e)),n=[],o=0;r.length>o;)a($,t=r[o++])||t==M||t==c||n.push(t);return n},te=function(e){for(var t,r=e===B,n=R(r?W:w(e)),o=[],i=0;n.length>i;)!a($,t=n[i++])||r&&!a(B,t)||o.push($[t]);return o};z||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(r){this===B&&t.call(W,r),a(this,M)&&a(this[M],e)&&(this[M][e]=!1),H(this,e,x(1,r))};return o&&K&&H(B,e,{configurable:!0,set:t}),G(e)},s(I[N],"toString",(function(){return this._k})),S.f=Z,P.f=Q,r(95733).f=E.f=ee,r(55066).f=X,O.f=te,o&&!r(34436)&&s(B,"propertyIsEnumerable",X,!0),h.f=function(e){return G(p(e))}),i(i.G+i.W+i.F*!z,{Symbol:I});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;re.length>ne;)p(re[ne++]);for(var ae=A(p.store),oe=0;ae.length>oe;)m(ae[oe++]);i(i.S+i.F*!z,"Symbol",{for:function(e){return a(L,e+="")?L[e]:L[e]=I(e)},keyFor:function(e){if(!J(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){K=!0},useSimple:function(){K=!1}}),i(i.S+i.F*!z,"Object",{create:function(e,t){return void 0===t?j(e):Y(j(e),t)},defineProperty:Q,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ie=u((function(){O.f(1)}));i(i.S+i.F*ie,"Object",{getOwnPropertySymbols:function(e){return O.f(b(e))}}),D&&i(i.S+i.F*(!z||u((function(){var e=I();return"[null]"!=F([e])||"{}"!=F({a:e})||"{}"!=F(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],a=1;arguments.length>a;)n.push(arguments[a++]);if(r=t=n[1],(g(t)||void 0!==e)&&!J(e))return _(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!J(t))return t}),n[1]=t,F.apply(D,n)}}),I[N][U]||r(44379)(I[N],U,I[N].valueOf),f(I,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},11610:function(e,t,r){"use strict";var n,a=r(3220),o=r(18485)(0),i=r(29763),s=r(57010),c=r(47382),u=r(77760),l=r(44425),f=r(10069),d=r(10069),p=!a.ActiveXObject&&"ActiveXObject"in a,h="WeakMap",m=s.getWeak,v=Object.isExtensible,_=u.ufstore,y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(e){if(l(e)){var t=m(e);return!0===t?_(f(this,h)).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(f(this,h),e,t)}},b=e.exports=r(66924)(h,y,g,u,!0,!0);d&&p&&(c((n=u.getConstructor(y,h)).prototype,g),s.NEED=!0,o(["delete","has","get","set"],(function(e){var t=b.prototype,r=t[e];i(t,e,(function(t,a){if(l(t)&&!v(t)){this._f||(this._f=new n);var o=this._f[e](t,a);return"set"==e?this:o}return r.call(this,t,a)}))})))},36556:function(e,t,r){"use strict";var n=r(14518),a=r(63093),o=r(3220),i=r(312),s=r(77116);n(n.P+n.R,"Promise",{finally:function(e){var t=i(this,a.Promise||o.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then((function(){return r}))}:e,r?function(r){return s(t,e()).then((function(){throw r}))}:e)}})},8421:function(e,t,r){"use strict";var n=r(14518),a=r(36253),o=r(19934);n(n.S,"Promise",{try:function(e){var t=a.f(this),r=o(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},68572:function(e,t,r){r(74573)("Set")},42235:function(e,t,r){r(72758)("Set")},30093:function(e,t,r){var n=r(14518);n(n.P+n.R,"Set",{toJSON:r(80540)("Set")})},52145:function(e,t,r){r(10305)("asyncIterator")},74775:function(e,t,r){r(10305)("observable")},20206:function(e,t,r){r(74573)("WeakMap")},91877:function(e,t,r){r(72758)("WeakMap")},39361:function(e,t,r){r(74296);for(var n=r(3220),a=r(44379),o=r(64502),i=r(23032)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],l=n[u],f=l&&l.prototype;f&&!f[i]&&a(f,i,u),o[u]=o.Array}},12532:function(e,t){"use strict";var r,n=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case s:case i:case d:case p:return e;default:switch(e=e&&e.$$typeof){case l:case u:case f:case m:case h:case c:return e;default:return t}}case a:return t}}}r=Symbol.for("react.module.reference")},27523:function(e,t,r){"use strict";r(12532)},35254:function(e,t,r){"use strict";var n=r(56690).default,a=r(89728).default,o=r(41588).default,i=r(73808).default,s=r(61655).default,c=r(26389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var u=r(71616),l=r(34978),f=r(78116),d=r(62095),p=["/properties"],h="http://json-schema.org/draft-07/schema",m=function(e){s(r,e);var t=c(r);function r(){return n(this,r),t.apply(this,arguments)}return a(r,[{key:"_addVocabularies",value:function(){var e=this;o(i(r.prototype),"_addVocabularies",this).call(this),l.default.forEach((function(t){return e.addVocabulary(t)})),this.opts.discriminator&&this.addKeyword(f.default)}},{key:"_addDefaultMetaSchema",value:function(){if(o(i(r.prototype),"_addDefaultMetaSchema",this).call(this),this.opts.meta){var e=this.opts.$data?this.$dataMetaSchema(d,p):d;this.addMetaSchema(e,h,!1),this.refs["http://json-schema.org/schema"]=h}}},{key:"defaultMeta",value:function(){return this.opts.defaultMeta=o(i(r.prototype),"defaultMeta",this).call(this)||(this.getSchema(h)?h:void 0)}}]),r}(u.default);e.exports=t=m,Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var v=r(86114);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return v.KeywordCxt}});var _=r(97361);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return _._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return _.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return _.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return _.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return _.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return _.CodeGen}});var y=r(72055);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return y.default}});var g=r(97382);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return g.default}})},13277:function(e,t,r){"use strict";var n,a,o=r(59400).default,i=r(861).default,s=r(38416).default,c=r(61655).default,u=r(26389).default,l=r(89728).default,f=r(56690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;var d=l((function e(){f(this,e)}));t._CodeOrName=d,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var p=function(e){c(n,e);var r=u(n);function n(e){var a;if(f(this,n),a=r.call(this),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");return a.str=e,a}return l(n,[{key:"toString",value:function(){return this.str}},{key:"emptyStr",value:function(){return!1}},{key:"names",get:function(){return s({},this.str,1)}}]),n}(d);t.Name=p;var h=function(e){c(r,e);var t=u(r);function r(e){var n;return f(this,r),(n=t.call(this))._items="string"===typeof e?[e]:e,n}return l(r,[{key:"toString",value:function(){return this.str}},{key:"emptyStr",value:function(){if(this._items.length>1)return!1;var e=this._items[0];return""===e||'""'===e}},{key:"str",get:function(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce((function(e,t){return"".concat(e).concat(t)}),"")}},{key:"names",get:function(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce((function(e,t){return t instanceof p&&(e[t.str]=(e[t.str]||0)+1),e}),{})}}]),r}(d);function m(e){for(var t=[e[0]],r=0,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];for(;r<a.length;)y(t,a[r]),t.push(e[++r]);return new h(t)}t._Code=h,t.nil=new h(""),t._=m;var v=new h("+");function _(e){for(var t=[b(e[0])],r=0,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];for(;r<a.length;)t.push(v),y(t,a[r]),t.push(v,b(e[++r]));return function(e){var t=1;for(;t<e.length-1;){if(e[t]===v){var r=g(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}(t),new h(t)}function y(e,t){var r;t instanceof h?e.push.apply(e,i(t._items)):t instanceof p?e.push(t):e.push("number"==typeof(r=t)||"boolean"==typeof r||null===r?r:b(Array.isArray(r)?r.join(","):r))}function g(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof p||'"'!==e[e.length-1])return;return"string"!=typeof t?"".concat(e.slice(0,-1)).concat(t,'"'):'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof p?void 0:'"'.concat(e).concat(t.slice(1))}function b(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=_,t.addCodeArg=y,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:_(n||(n=o(["","",""])),e,t)},t.stringify=function(e){return new h(b(e))},t.safeStringify=b,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new h(".".concat(e)):m(a||(a=o(["[","]"])),e)},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new h("".concat(e));throw new Error("CodeGen: invalid export name: ".concat(e,", use explicit $id name mapping"))},t.regexpCode=function(e){return new h(e.toString())}},97361:function(e,t,r){"use strict";var n,a,o,i,s,c,u=r(59400).default,l=r(27424).default,f=r(41588).default,d=r(73808).default,p=r(861).default,h=r(42122).default,m=r(61655).default,v=r(26389).default,_=r(56690).default,y=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;var g=r(13277),b=r(32584),w=r(13277);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return w._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return w.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return w.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return w.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return w.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return w.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return w.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return w.Name}});var k=r(32584);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return k.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return k.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return k.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return k.varKinds}}),t.operators={GT:new g._Code(">"),GTE:new g._Code(">="),LT:new g._Code("<"),LTE:new g._Code("<="),EQ:new g._Code("==="),NEQ:new g._Code("!=="),NOT:new g._Code("!"),OR:new g._Code("||"),AND:new g._Code("&&"),ADD:new g._Code("+")};var x=function(){function e(){_(this,e)}return y(e,[{key:"optimizeNodes",value:function(){return this}},{key:"optimizeNames",value:function(e,t){return this}}]),e}(),j=function(e){m(r,e);var t=v(r);function r(e,n,a){var o;return _(this,r),(o=t.call(this)).varKind=e,o.name=n,o.rhs=a,o}return y(r,[{key:"render",value:function(e){var t=e.es5,r=e._n,n=t?b.varKinds.var:this.varKind,a=void 0===this.rhs?"":" = ".concat(this.rhs);return"".concat(n," ").concat(this.name).concat(a,";")+r}},{key:"optimizeNames",value:function(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=G(this.rhs,e,t)),this}},{key:"names",get:function(){return this.rhs instanceof g._CodeOrName?this.rhs.names:{}}}]),r}(x),E=function(e){m(r,e);var t=v(r);function r(e,n,a){var o;return _(this,r),(o=t.call(this)).lhs=e,o.rhs=n,o.sideEffects=a,o}return y(r,[{key:"render",value:function(e){var t=e._n;return"".concat(this.lhs," = ").concat(this.rhs,";")+t}},{key:"optimizeNames",value:function(e,t){if(!(this.lhs instanceof g.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=G(this.rhs,e,t),this}},{key:"names",get:function(){return H(this.lhs instanceof g.Name?{}:h({},this.lhs.names),this.rhs)}}]),r}(x),S=function(e){m(r,e);var t=v(r);function r(e,n,a,o){var i;return _(this,r),(i=t.call(this,e,a,o)).op=n,i}return y(r,[{key:"render",value:function(e){var t=e._n;return"".concat(this.lhs," ").concat(this.op,"= ").concat(this.rhs,";")+t}}]),r}(E),O=function(e){m(r,e);var t=v(r);function r(e){var n;return _(this,r),(n=t.call(this)).label=e,n.names={},n}return y(r,[{key:"render",value:function(e){var t=e._n;return"".concat(this.label,":")+t}}]),r}(x),P=function(e){m(r,e);var t=v(r);function r(e){var n;return _(this,r),(n=t.call(this)).label=e,n.names={},n}return y(r,[{key:"render",value:function(e){var t=e._n,r=this.label?" ".concat(this.label):"";return"break".concat(r,";")+t}}]),r}(x),A=function(e){m(r,e);var t=v(r);function r(e){var n;return _(this,r),(n=t.call(this)).error=e,n}return y(r,[{key:"render",value:function(e){var t=e._n;return"throw ".concat(this.error,";")+t}},{key:"names",get:function(){return this.error.names}}]),r}(x),T=function(e){m(r,e);var t=v(r);function r(e){var n;return _(this,r),(n=t.call(this)).code=e,n}return y(r,[{key:"render",value:function(e){var t=e._n;return"".concat(this.code,";")+t}},{key:"optimizeNodes",value:function(){return"".concat(this.code)?this:void 0}},{key:"optimizeNames",value:function(e,t){return this.code=G(this.code,e,t),this}},{key:"names",get:function(){return this.code instanceof g._CodeOrName?this.code.names:{}}}]),r}(x),C=function(e){m(r,e);var t=v(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _(this,r),(e=t.call(this)).nodes=n,e}return y(r,[{key:"render",value:function(e){return this.nodes.reduce((function(t,r){return t+r.render(e)}),"")}},{key:"optimizeNodes",value:function(){for(var e=this.nodes,t=e.length;t--;){var r=e[t].optimizeNodes();Array.isArray(r)?e.splice.apply(e,[t,1].concat(p(r))):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}},{key:"optimizeNames",value:function(e,t){for(var r=this.nodes,n=r.length;n--;){var a=r[n];a.optimizeNames(e,t)||(J(e,a.names),r.splice(n,1))}return r.length>0?this:void 0}},{key:"names",get:function(){return this.nodes.reduce((function(e,t){return K(e,t.names)}),{})}}]),r}(x),R=function(e){m(r,e);var t=v(r);function r(){return _(this,r),t.apply(this,arguments)}return y(r,[{key:"render",value:function(e){return"{"+e._n+f(d(r.prototype),"render",this).call(this,e)+"}"+e._n}}]),r}(C),I=function(e){m(r,e);var t=v(r);function r(){return _(this,r),t.apply(this,arguments)}return y(r)}(C),D=function(e){m(r,e);var t=v(r);function r(){return _(this,r),t.apply(this,arguments)}return y(r)}(R);D.kind="else";var F=function(e){m(r,e);var t=v(r);function r(e,n){var a;return _(this,r),(a=t.call(this,n)).condition=e,a}return y(r,[{key:"render",value:function(e){var t="if(".concat(this.condition,")")+f(d(r.prototype),"render",this).call(this,e);return this.else&&(t+="else "+this.else.render(e)),t}},{key:"optimizeNodes",value:function(){f(d(r.prototype),"optimizeNodes",this).call(this);var e=this.condition;if(!0===e)return this.nodes;var t=this.else;if(t){var n=t.optimizeNodes();t=this.else=Array.isArray(n)?new D(n):n}return t?!1===e?t instanceof r?t:t.nodes:this.nodes.length?this:new r(Q(e),t instanceof r?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}},{key:"optimizeNames",value:function(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),f(d(r.prototype),"optimizeNames",this).call(this,e,t)||this.else)return this.condition=G(this.condition,e,t),this}},{key:"names",get:function(){var e=f(d(r.prototype),"names",this);return H(e,this.condition),this.else&&K(e,this.else.names),e}}]),r}(R);F.kind="if";var N=function(e){m(r,e);var t=v(r);function r(){return _(this,r),t.apply(this,arguments)}return y(r)}(R);N.kind="for";var M=function(e){m(r,e);var t=v(r);function r(e){var n;return _(this,r),(n=t.call(this)).iteration=e,n}return y(r,[{key:"render",value:function(e){return"for(".concat(this.iteration,")")+f(d(r.prototype),"render",this).call(this,e)}},{key:"optimizeNames",value:function(e,t){if(f(d(r.prototype),"optimizeNames",this).call(this,e,t))return this.iteration=G(this.iteration,e,t),this}},{key:"names",get:function(){return K(f(d(r.prototype),"names",this),this.iteration.names)}}]),r}(N),U=function(e){m(r,e);var t=v(r);function r(e,n,a,o){var i;return _(this,r),(i=t.call(this)).varKind=e,i.name=n,i.from=a,i.to=o,i}return y(r,[{key:"render",value:function(e){var t=e.es5?b.varKinds.var:this.varKind,n=this.name,a=this.from,o=this.to;return"for(".concat(t," ").concat(n,"=").concat(a,"; ").concat(n,"<").concat(o,"; ").concat(n,"++)")+f(d(r.prototype),"render",this).call(this,e)}},{key:"names",get:function(){var e=H(f(d(r.prototype),"names",this),this.from);return H(e,this.to)}}]),r}(N),q=function(e){m(r,e);var t=v(r);function r(e,n,a,o){var i;return _(this,r),(i=t.call(this)).loop=e,i.varKind=n,i.name=a,i.iterable=o,i}return y(r,[{key:"render",value:function(e){return"for(".concat(this.varKind," ").concat(this.name," ").concat(this.loop," ").concat(this.iterable,")")+f(d(r.prototype),"render",this).call(this,e)}},{key:"optimizeNames",value:function(e,t){if(f(d(r.prototype),"optimizeNames",this).call(this,e,t))return this.iterable=G(this.iterable,e,t),this}},{key:"names",get:function(){return K(f(d(r.prototype),"names",this),this.iterable.names)}}]),r}(N),L=function(e){m(r,e);var t=v(r);function r(e,n,a){var o;return _(this,r),(o=t.call(this)).name=e,o.args=n,o.async=a,o}return y(r,[{key:"render",value:function(e){var t=this.async?"async ":"";return"".concat(t,"function ").concat(this.name,"(").concat(this.args,")")+f(d(r.prototype),"render",this).call(this,e)}}]),r}(R);L.kind="func";var $=function(e){m(r,e);var t=v(r);function r(){return _(this,r),t.apply(this,arguments)}return y(r,[{key:"render",value:function(e){return"return "+f(d(r.prototype),"render",this).call(this,e)}}]),r}(C);$.kind="return";var W=function(e){m(r,e);var t=v(r);function r(){return _(this,r),t.apply(this,arguments)}return y(r,[{key:"render",value:function(e){var t="try"+f(d(r.prototype),"render",this).call(this,e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}},{key:"optimizeNodes",value:function(){var e,t;return f(d(r.prototype),"optimizeNodes",this).call(this),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}},{key:"optimizeNames",value:function(e,t){var n,a;return f(d(r.prototype),"optimizeNames",this).call(this,e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(a=this.finally)||void 0===a||a.optimizeNames(e,t),this}},{key:"names",get:function(){var e=f(d(r.prototype),"names",this);return this.catch&&K(e,this.catch.names),this.finally&&K(e,this.finally.names),e}}]),r}(R),B=function(e){m(r,e);var t=v(r);function r(e){var n;return _(this,r),(n=t.call(this)).error=e,n}return y(r,[{key:"render",value:function(e){return"catch(".concat(this.error,")")+f(d(r.prototype),"render",this).call(this,e)}}]),r}(R);B.kind="catch";var z=function(e){m(r,e);var t=v(r);function r(){return _(this,r),t.apply(this,arguments)}return y(r,[{key:"render",value:function(e){return"finally"+f(d(r.prototype),"render",this).call(this,e)}}]),r}(R);z.kind="finally";var V=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(this,e),this._values={},this._blockStarts=[],this._constants={},this.opts=h(h({},r),{},{_n:r.lines?"\n":""}),this._extScope=t,this._scope=new b.Scope({parent:t}),this._nodes=[new I]}return y(e,[{key:"toString",value:function(){return this._root.render(this.opts)}},{key:"name",value:function(e){return this._scope.name(e)}},{key:"scopeName",value:function(e){return this._extScope.name(e)}},{key:"scopeValue",value:function(e,t){var r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}},{key:"getScopeValue",value:function(e,t){return this._extScope.getValue(e,t)}},{key:"scopeRefs",value:function(e){return this._extScope.scopeRefs(e,this._values)}},{key:"scopeCode",value:function(){return this._extScope.scopeCode(this._values)}},{key:"_def",value:function(e,t,r,n){var a=this._scope.toName(t);return void 0!==r&&n&&(this._constants[a.str]=r),this._leafNode(new j(e,a,r)),a}},{key:"const",value:function(e,t,r){return this._def(b.varKinds.const,e,t,r)}},{key:"let",value:function(e,t,r){return this._def(b.varKinds.let,e,t,r)}},{key:"var",value:function(e,t,r){return this._def(b.varKinds.var,e,t,r)}},{key:"assign",value:function(e,t,r){return this._leafNode(new E(e,t,r))}},{key:"add",value:function(e,r){return this._leafNode(new S(e,t.operators.ADD,r))}},{key:"code",value:function(e){return"function"==typeof e?e():e!==g.nil&&this._leafNode(new T(e)),this}},{key:"object",value:function(){for(var e=["{"],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var a=0,o=r;a<o.length;a++){var i=l(o[a],2),s=i[0],c=i[1];e.length>1&&e.push(","),e.push(s),(s!==c||this.opts.es5)&&(e.push(":"),(0,g.addCodeArg)(e,c))}return e.push("}"),new g._Code(e)}},{key:"if",value:function(e,t,r){if(this._blockNode(new F(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}},{key:"elseIf",value:function(e){return this._elseNode(new F(e))}},{key:"else",value:function(){return this._elseNode(new D)}},{key:"endIf",value:function(){return this._endBlockNode(F,D)}},{key:"_for",value:function(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}},{key:"for",value:function(e,t){return this._for(new M(e),t)}},{key:"forRange",value:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.opts.es5?b.varKinds.var:b.varKinds.let,o=this._scope.toName(e);return this._for(new U(a,o,t,r),(function(){return n(o)}))}},{key:"forOf",value:function(e,t,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.varKinds.const,s=this._scope.toName(e);if(this.opts.es5){var c=t instanceof g.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,g._)(n||(n=u(["",".length"])),c),(function(e){o.var(s,(0,g._)(a||(a=u(["","[","]"])),c,e)),r(s)}))}return this._for(new q("of",i,s,t),(function(){return r(s)}))}},{key:"forIn",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.es5?b.varKinds.var:b.varKinds.const;if(this.opts.ownProperties)return this.forOf(e,(0,g._)(o||(o=u(["Object.keys(",")"])),t),r);var a=this._scope.toName(e);return this._for(new q("in",n,a,t),(function(){return r(a)}))}},{key:"endFor",value:function(){return this._endBlockNode(N)}},{key:"label",value:function(e){return this._leafNode(new O(e))}},{key:"break",value:function(e){return this._leafNode(new P(e))}},{key:"return",value:function(e){var t=new $;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode($)}},{key:"try",value:function(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');var n=new W;if(this._blockNode(n),this.code(e),t){var a=this.name("e");this._currNode=n.catch=new B(a),t(a)}return r&&(this._currNode=n.finally=new z,this.code(r)),this._endBlockNode(B,z)}},{key:"throw",value:function(e){return this._leafNode(new A(e))}},{key:"block",value:function(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}},{key:"endBlock",value:function(e){var t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");var r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error("CodeGen: wrong number of nodes: ".concat(r," vs ").concat(e," expected"));return this._nodes.length=t,this}},{key:"func",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.nil,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return this._blockNode(new L(e,t,r)),n&&this.code(n).endFunc(),this}},{key:"endFunc",value:function(){return this._endBlockNode(L)}},{key:"optimize",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}},{key:"_leafNode",value:function(e){return this._currNode.nodes.push(e),this}},{key:"_blockNode",value:function(e){this._currNode.nodes.push(e),this._nodes.push(e)}},{key:"_endBlockNode",value:function(e,t){var r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error('CodeGen: not in block "'.concat(t?"".concat(e.kind,"/").concat(t.kind):e.kind,'"'))}},{key:"_elseNode",value:function(e){var t=this._currNode;if(!(t instanceof F))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}},{key:"_root",get:function(){return this._nodes[0]}},{key:"_currNode",get:function(){var e=this._nodes;return e[e.length-1]},set:function(e){var t=this._nodes;t[t.length-1]=e}}]),e}();function K(e,t){for(var r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function H(e,t){return t instanceof g._CodeOrName?K(e,t.names):e}function G(e,t,r){return e instanceof g.Name?n(e):function(e){return e instanceof g._Code&&e._items.some((function(e){return e instanceof g.Name&&1===t[e.str]&&void 0!==r[e.str]}))}(e)?new g._Code(e._items.reduce((function(e,t){return t instanceof g.Name&&(t=n(t)),t instanceof g._Code?e.push.apply(e,p(t._items)):e.push(t),e}),[])):e;function n(e){var n=r[e.str];return void 0===n||1!==t[e.str]?e:(delete t[e.str],n)}}function J(e,t){for(var r in t)e[r]=(e[r]||0)-(t[r]||0)}function Q(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:(0,g._)(i||(i=u(["!",""])),ee(e))}t.CodeGen=V,t.not=Q;var Y=Z(t.operators.AND);t.and=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(Y)};var X=Z(t.operators.OR);function Z(e){return function(t,r){return t===g.nil?r:r===g.nil?t:(0,g._)(s||(s=u([""," "," ",""])),ee(t),e,ee(r))}}function ee(e){return e instanceof g.Name?e:(0,g._)(c||(c=u(["(",")"])),e)}t.or=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(X)}},32584:function(e,t,r){"use strict";var n,a,o,i,s,c=r(42122).default,u=r(59400).default,l=r(89728).default,f=r(56690).default,d=r(61655).default,p=r(26389).default,h=r(33496).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;var m,v=r(13277),_=function(e){d(r,e);var t=p(r);function r(e){var n;return f(this,r),(n=t.call(this,'CodeGen: "code" for '.concat(e," not defined"))).value=e.value,n}return l(r)}(h(Error));!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(m=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new v.Name("const"),let:new v.Name("let"),var:new v.Name("var")};var y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.prefixes,n=t.parent;f(this,e),this._names={},this._prefixes=r,this._parent=n}return l(e,[{key:"toName",value:function(e){return e instanceof v.Name?e:this.name(e)}},{key:"name",value:function(e){return new v.Name(this._newName(e))}},{key:"_newName",value:function(e){var t=this._names[e]||this._nameGroup(e);return"".concat(e).concat(t.index++)}},{key:"_nameGroup",value:function(e){var t,r;if((null===(r=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===r?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error('CodeGen: prefix "'.concat(e,'" is not allowed in this scope'));return this._names[e]={prefix:e,index:0}}}]),e}();t.Scope=y;var g=function(e){d(r,e);var t=p(r);function r(e,n){var a;return f(this,r),(a=t.call(this,n)).prefix=e,a}return l(r,[{key:"setValue",value:function(e,t){var r=t.property,a=t.itemIndex;this.value=e,this.scopePath=(0,v._)(n||(n=u([".","[","]"])),new v.Name(r),a)}}]),r}(v.Name);t.ValueScopeName=g;var b=(0,v._)(a||(a=u(["\n"],["\\n"]))),w=function(e){d(n,e);var r=p(n);function n(e){var t;return f(this,n),(t=r.call(this,e))._values={},t._scope=e.scope,t.opts=c(c({},e),{},{_n:e.lines?b:v.nil}),t}return l(n,[{key:"get",value:function(){return this._scope}},{key:"name",value:function(e){return new g(e,this._newName(e))}},{key:"value",value:function(e,t){var r;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");var n=this.toName(e),a=n.prefix,o=null!==(r=t.key)&&void 0!==r?r:t.ref,i=this._values[a];if(i){var s=i.get(o);if(s)return s}else i=this._values[a]=new Map;i.set(o,n);var c=this._scope[a]||(this._scope[a]=[]),u=c.length;return c[u]=t.ref,n.setValue(t,{property:a,itemIndex:u}),n}},{key:"getValue",value:function(e,t){var r=this._values[e];if(r)return r.get(t)}},{key:"scopeRefs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._values;return this._reduceValues(t,(function(t){if(void 0===t.scopePath)throw new Error('CodeGen: name "'.concat(t,'" has no value'));return(0,v._)(o||(o=u(["","",""])),e,t.scopePath)}))}},{key:"scopeCode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._values,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return this._reduceValues(e,(function(e){if(void 0===e.value)throw new Error('CodeGen: name "'.concat(e,'" has no value'));return e.value.code}),t,r)}},{key:"_reduceValues",value:function(e,r){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,c=v.nil,l=function(){var l=e[f];if(!l)return 1;var d=a[f]=a[f]||new Map;l.forEach((function(e){if(!d.has(e)){d.set(e,m.Started);var a=r(e);if(a){var l=n.opts.es5?t.varKinds.var:t.varKinds.const;c=(0,v._)(i||(i=u(["",""," "," = ",";",""])),c,l,e,a,n.opts._n)}else{if(!(a=null===o||void 0===o?void 0:o(e)))throw new _(e);c=(0,v._)(s||(s=u(["","","",""])),c,a,n.opts._n)}d.set(e,m.Completed)}}))};for(var f in e)l();return c}}]),n}(y);t.ValueScope=w},36927:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p,h,m,v,_,y,g,b,w,k,x,j,E,S,O,P=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;var A=r(97361),T=r(92632),C=r(6205);function R(e,t){var r=e.const("err",t);e.if((0,A._)(v||(v=P([""," === null"])),C.default.vErrors),(function(){return e.assign(C.default.vErrors,(0,A._)(_||(_=P(["[","]"])),r))}),(0,A._)(y||(y=P(["",".push(",")"])),C.default.vErrors,r)),e.code((0,A._)(g||(g=P(["","++"])),C.default.errors))}function I(e,t){var r=e.gen,n=e.validateName;e.schemaEnv.$async?r.throw((0,A._)(b||(b=P(["new ","(",")"])),e.ValidationError,t)):(r.assign((0,A._)(w||(w=P(["",".errors"])),n),t),r.return(!1))}t.keywordError={message:function(e){var t=e.keyword;return(0,A.str)(n||(n=P(['must pass "','" keyword validation'])),t)}},t.keyword$DataError={message:function(e){var t=e.keyword,r=e.schemaType;return r?(0,A.str)(a||(a=P(['"','" keyword must be '," ($data)"])),t,r):(0,A.str)(o||(o=P(['"','" keyword is invalid ($data)'])),t)}},t.reportError=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keywordError,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=e.it,s=o.gen,c=o.compositeRule,u=o.allErrors,l=F(e,r,n);(null!==a&&void 0!==a?a:c||u)?R(s,l):I(o,(0,A._)(i||(i=P(["[","]"])),l))},t.reportExtraError=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keywordError,n=arguments.length>2?arguments[2]:void 0,a=e.it,o=a.gen,i=a.compositeRule,s=a.allErrors;R(o,F(e,r,n)),i||s||I(a,C.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(C.default.errors,t),e.if((0,A._)(s||(s=P([""," !== null"])),C.default.vErrors),(function(){return e.if(t,(function(){return e.assign((0,A._)(c||(c=P(["",".length"])),C.default.vErrors),t)}),(function(){return e.assign(C.default.vErrors,null)}))}))},t.extendErrors=function(e){var t=e.gen,r=e.keyword,n=e.schemaValue,a=e.data,o=e.errsCount,i=e.it;if(void 0===o)throw new Error("ajv implementation error");var s=t.name("err");t.forRange("i",o,C.default.errors,(function(e){t.const(s,(0,A._)(u||(u=P(["","[","]"])),C.default.vErrors,e)),t.if((0,A._)(l||(l=P(["",".instancePath === undefined"])),s),(function(){return t.assign((0,A._)(f||(f=P(["",".instancePath"])),s),(0,A.strConcat)(C.default.instancePath,i.errorPath))})),t.assign((0,A._)(d||(d=P(["",".schemaPath"])),s),(0,A.str)(p||(p=P(["","/",""])),i.errSchemaPath,r)),i.opts.verbose&&(t.assign((0,A._)(h||(h=P(["",".schema"])),s),n),t.assign((0,A._)(m||(m=P(["",".data"])),s),a))}))};var D={keyword:new A.Name("keyword"),schemaPath:new A.Name("schemaPath"),params:new A.Name("params"),propertyName:new A.Name("propertyName"),message:new A.Name("message"),schema:new A.Name("schema"),parentSchema:new A.Name("parentSchema")};function F(e,t,r){return!1===e.it.createErrors?(0,A._)(k||(k=P(["{}"]))):function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.gen,a=e.it,o=[N(a,r),M(e,r)];return function(e,t,r){var n=t.params,a=t.message,o=e.keyword,i=e.data,s=e.schemaValue,c=e.it,u=c.opts,l=c.propertyName,f=c.topSchemaRef,d=c.schemaPath;r.push([D.keyword,o],[D.params,"function"==typeof n?n(e):n||(0,A._)(S||(S=P(["{}"])))]),u.messages&&r.push([D.message,"function"==typeof a?a(e):a]);u.verbose&&r.push([D.schema,s],[D.parentSchema,(0,A._)(O||(O=P(["","",""])),f,d)],[C.default.data,i]);l&&r.push([D.propertyName,l])}(e,t,o),n.object.apply(n,o)}(e,t,r)}function N(e,t){var r=e.errorPath,n=t.instancePath,a=n?(0,A.str)(x||(x=P(["","",""])),r,(0,T.getErrorPath)(n,T.Type.Str)):r;return[C.default.instancePath,(0,A.strConcat)(C.default.instancePath,a)]}function M(e,t){var r=e.keyword,n=e.it.errSchemaPath,a=t.schemaPath,o=t.parentSchema?n:(0,A.str)(j||(j=P(["","/",""])),n,r);return a&&(o=(0,A.str)(E||(E=P(["","",""])),o,(0,T.getErrorPath)(a,T.Type.Str))),[D.schemaPath,o]}},22859:function(t,r,n){"use strict";var a,o,i=n(74704).default,s=n(59400).default,c=n(89728).default,u=n(56690).default;Object.defineProperty(r,"__esModule",{value:!0}),r.resolveSchema=r.getCompilingSchema=r.resolveRef=r.compileSchema=r.SchemaEnv=void 0;var l=n(97361),f=n(72055),d=n(6205),p=n(26839),h=n(92632),m=n(86114),v=c((function e(t){var r,n;u(this,e),this.refs={},this.dynamicAnchors={},"object"==typeof t.schema&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=null!==(r=t.baseId)&&void 0!==r?r:(0,p.normalizeId)(null===n||void 0===n?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=null===n||void 0===n?void 0:n.$async,this.refs={}}));function _(t){var r=g.call(this,t);if(r)return r;var n,i=(0,p.getFullPath)(this.opts.uriResolver,t.root.baseId),c=this.opts.code,u=c.es5,h=c.lines,v=this.opts.ownProperties,_=new l.CodeGen(this.scope,{es5:u,lines:h,ownProperties:v});t.$async&&(n=_.scopeValue("Error",{ref:f.default,code:(0,l._)(a||(a=s(['require("ajv/dist/runtime/validation_error").default'])))}));var y=_.scopeName("validate");t.validateName=y;var b,w={gen:_,allErrors:this.opts.allErrors,data:d.default.data,parentData:d.default.parentData,parentDataProperty:d.default.parentDataProperty,dataNames:[d.default.data],dataPathArr:[l.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:_.scopeValue("schema",!0===this.opts.code.source?{ref:t.schema,code:(0,l.stringify)(t.schema)}:{ref:t.schema}),validateName:y,ValidationError:n,schema:t.schema,schemaEnv:t,rootId:i,baseId:t.baseId||i,schemaPath:l.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,l._)(o||(o=s(['""']))),opts:this.opts,self:this};try{this._compilations.add(t),(0,m.validateFunctionCode)(w),_.optimize(this.opts.code.optimize);var k=_.toString();b="".concat(_.scopeRefs(d.default.scope),"return ").concat(k),this.opts.code.process&&(b=this.opts.code.process(b,t));var x=new Function("".concat(d.default.self),"".concat(d.default.scope),b)(this,this.scope.get());if(this.scope.value(y,{ref:x}),x.errors=null,x.schema=t.schema,x.schemaEnv=t,t.$async&&(x.$async=!0),!0===this.opts.code.source&&(x.source={validateName:y,validateCode:k,scopeValues:_._values}),this.opts.unevaluated){var j=w.props,E=w.items;x.evaluated={props:j instanceof l.Name?void 0:j,items:E instanceof l.Name?void 0:E,dynamicProps:j instanceof l.Name,dynamicItems:E instanceof l.Name},x.source&&(x.source.evaluated=(0,l.stringify)(x.evaluated))}return t.validate=x,t}catch(e){throw delete t.validate,delete t.validateName,b&&this.logger.error("Error compiling schema, function code:",b),e}finally{this._compilations.delete(t)}}function y(e){return(0,p.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:_.call(this,e)}function g(e){var t,r,n,a=i(this._compilations);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(n=e,(r=o).schema===n.schema&&r.root===n.root&&r.baseId===n.baseId)return o}}catch(s){a.e(s)}finally{a.f()}}function b(e,t){for(var r;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||w.call(this,e,t)}function w(e,t){var r=this.opts.uriResolver.parse(t),n=(0,p._getFullPath)(this.opts.uriResolver,r),a=(0,p.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return x.call(this,r,e);var o=(0,p.normalizeId)(n),i=this.refs[o]||this.schemas[o];if("string"==typeof i){var s=w.call(this,e,i);if("object"!==typeof(null===s||void 0===s?void 0:s.schema))return;return x.call(this,r,s)}if("object"===typeof(null===i||void 0===i?void 0:i.schema)){if(i.validate||_.call(this,i),o===(0,p.normalizeId)(t)){var c=i.schema,u=this.opts.schemaId,l=c[u];return l&&(a=(0,p.resolveUrl)(this.opts.uriResolver,a,l)),new v({schema:c,schemaId:u,root:e,baseId:a})}return x.call(this,r,i)}}r.SchemaEnv=v,r.compileSchema=_,r.resolveRef=function(e,t,r){var n;r=(0,p.resolveUrl)(this.opts.uriResolver,t,r);var a=e.refs[r];if(a)return a;var o=b.call(this,e,r);if(void 0===o){var i=null===(n=e.localRefs)||void 0===n?void 0:n[r],s=this.opts.schemaId;i&&(o=new v({schema:i,schemaId:s,root:e,baseId:t}))}return void 0!==o?e.refs[r]=y.call(this,o):void 0},r.getCompilingSchema=g,r.resolveSchema=w;var k=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function x(e,t){var r,n=t.baseId,a=t.schema,o=t.root;if("/"===(null===(r=e.fragment)||void 0===r?void 0:r[0])){var s,c,u=i(e.fragment.slice(1).split("/"));try{for(u.s();!(s=u.n()).done;){var l=s.value;if("boolean"===typeof a)return;var f=a[(0,h.unescapeFragment)(l)];if(void 0===f)return;var d="object"===typeof(a=f)&&a[this.opts.schemaId];!k.has(l)&&d&&(n=(0,p.resolveUrl)(this.opts.uriResolver,n,d))}}catch(y){u.e(y)}finally{u.f()}if("boolean"!=typeof a&&a.$ref&&!(0,h.schemaHasRulesButRef)(a,this.RULES)){var m=(0,p.resolveUrl)(this.opts.uriResolver,n,a.$ref);c=w.call(this,o,m)}var _=this.opts.schemaId;return(c=c||new v({schema:a,schemaId:_,root:o,baseId:n})).schema!==c.root.schema?c:void 0}}},6205:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(97361),a={data:new n.Name("data"),valCxt:new n.Name("valCxt"),instancePath:new n.Name("instancePath"),parentData:new n.Name("parentData"),parentDataProperty:new n.Name("parentDataProperty"),rootData:new n.Name("rootData"),dynamicAnchors:new n.Name("dynamicAnchors"),vErrors:new n.Name("vErrors"),errors:new n.Name("errors"),this:new n.Name("this"),self:new n.Name("self"),scope:new n.Name("scope"),json:new n.Name("json"),jsonPos:new n.Name("jsonPos"),jsonLen:new n.Name("jsonLen"),jsonPart:new n.Name("jsonPart")};t.default=a},97382:function(e,t,r){"use strict";var n=r(89728).default,a=r(56690).default,o=r(61655).default,i=r(26389).default,s=r(33496).default;Object.defineProperty(t,"__esModule",{value:!0});var c=r(26839),u=function(e){o(r,e);var t=i(r);function r(e,n,o,i){var s;return a(this,r),(s=t.call(this,i||"can't resolve reference ".concat(o," from id ").concat(n))).missingRef=(0,c.resolveUrl)(e,n,o),s.missingSchema=(0,c.normalizeId)((0,c.getFullPath)(e,s.missingRef)),s}return n(r)}(s(Error));t.default=u},26839:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;var n=r(92632),a=r(78262),o=r(86740),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"boolean"==typeof e||(!0===t?!c(e):!!t&&u(e)<=t)};var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(var t in e){if(s.has(t))return!0;var r=e[t];if(Array.isArray(r)&&r.some(c))return!0;if("object"==typeof r&&c(r))return!0}return!1}function u(e){var t=0;for(var r in e){if("$ref"===r)return 1/0;if(t++,!i.has(r)&&("object"==typeof e[r]&&(0,n.eachItem)(e[r],(function(e){return t+=u(e)})),t===1/0))return 1/0}return t}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!1!==(arguments.length>2?arguments[2]:void 0)&&(t=p(t));var r=e.parse(t);return f(e,r)}function f(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=l,t._getFullPath=f;var d=/#\/?$/;function p(e){return e?e.replace(d,""):""}t.normalizeId=p,t.resolveUrl=function(e,t,r){return r=p(r),e.resolve(t,r)};var h=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){var r=this;if("boolean"==typeof e)return{};var n=this.opts,i=n.schemaId,s=n.uriResolver,c=p(e[i]||t),u={"":c},f=l(s,c,!1),d={},m=new Set;return o(e,{allKeys:!0},(function(e,t,n,a){if(void 0!==a){var o=f+t,s=u[a];"string"==typeof e[i]&&(s=c.call(r,e[i])),l.call(r,e.$anchor),l.call(r,e.$dynamicAnchor),u[t]=s}function c(t){var r=this.opts.uriResolver.resolve;if(t=p(s?r(s,t):t),m.has(t))throw _(t);m.add(t);var n=this.refs[t];return"string"==typeof n&&(n=this.refs[n]),"object"==typeof n?v(e,n.schema,t):t!==p(o)&&("#"===t[0]?(v(e,d[t],t),d[t]=e):this.refs[t]=o),t}function l(e){if("string"==typeof e){if(!h.test(e))throw new Error('invalid anchor "'.concat(e,'"'));c.call(this,"#".concat(e))}}})),d;function v(e,t,r){if(void 0!==t&&!a(e,t))throw _(r)}function _(e){return new Error('reference "'.concat(e,'" resolves to more than one schema'))}}},15379:function(e,t,r){"use strict";var n=r(42122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;var a=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&a.has(e)},t.getRules=function(){var e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:n(n({},e),{},{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},92632:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p,h,m,v,_,y,g,b,w=r(42122).default,k=r(59400).default,x=r(74704).default;Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;var j=r(97361),E=r(13277);function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema,r=e.opts,n=e.self;if(r.strictSchema&&"boolean"!==typeof t){var a=n.RULES.keywords;for(var o in t)a[o]||F(e,'unknown keyword: "'.concat(o,'"'))}}function O(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0;return!1}function P(e){return"number"==typeof e?"".concat(e):e.replace(/~/g,"~0").replace(/\//g,"~1")}function A(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function T(e){var t=e.mergeNames,r=e.mergeToName,n=e.mergeValues,a=e.resultToName;return function(e,o,i,s){var c=void 0===i?o:i instanceof j.Name?(o instanceof j.Name?t(e,o,i):r(e,o,i),i):o instanceof j.Name?(r(e,i,o),o):n(o,i);return s!==j.Name||c instanceof j.Name?c:a(e,c)}}function C(e,t){if(!0===t)return e.var("props",!0);var r=e.var("props",(0,j._)(m||(m=k(["{}"]))));return void 0!==t&&R(e,r,t),r}function R(e,t,r){Object.keys(r).forEach((function(r){return e.assign((0,j._)(v||(v=k(["","",""])),t,(0,j.getProperty)(r)),!0)}))}t.toHash=function(e){var t,r={},n=x(e);try{for(n.s();!(t=n.n()).done;){r[t.value]=!0}}catch(a){n.e(a)}finally{n.f()}return r},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(S(e,t),!O(t,e.self.RULES.all))},t.checkUnknownRules=S,t.schemaHasRules=O,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if("$ref"!==r&&t.all[r])return!0;return!1},t.schemaRefOrVal=function(e,t,r,o){var i=e.topSchemaRef,s=e.schemaPath;if(!o){if("number"==typeof t||"boolean"==typeof t)return t;if("string"==typeof t)return(0,j._)(n||(n=k(["",""])),t)}return(0,j._)(a||(a=k(["","","",""])),i,s,(0,j.getProperty)(r))},t.unescapeFragment=function(e){return A(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(P(e))},t.escapeJsonPointer=P,t.unescapeJsonPointer=A,t.eachItem=function(e,t){if(Array.isArray(e)){var r,n=x(e);try{for(n.s();!(r=n.n()).done;){t(r.value)}}catch(a){n.e(a)}finally{n.f()}}else t(e)},t.mergeEvaluated={props:T({mergeNames:function(e,t,r){return e.if((0,j._)(o||(o=k([""," !== true && "," !== undefined"])),r,t),(function(){e.if((0,j._)(i||(i=k([""," === true"])),t),(function(){return e.assign(r,!0)}),(function(){return e.assign(r,(0,j._)(s||(s=k([""," || {}"])),r)).code((0,j._)(c||(c=k(["Object.assign(",", ",")"])),r,t))}))}))},mergeToName:function(e,t,r){return e.if((0,j._)(u||(u=k([""," !== true"])),r),(function(){!0===t?e.assign(r,!0):(e.assign(r,(0,j._)(l||(l=k([""," || {}"])),r)),R(e,r,t))}))},mergeValues:function(e,t){return!0===e||w(w({},e),t)},resultToName:C}),items:T({mergeNames:function(e,t,r){return e.if((0,j._)(f||(f=k([""," !== true && "," !== undefined"])),r,t),(function(){return e.assign(r,(0,j._)(d||(d=k([""," === true ? true : "," > "," ? "," : ",""])),t,r,t,r,t))}))},mergeToName:function(e,t,r){return e.if((0,j._)(p||(p=k([""," !== true"])),r),(function(){return e.assign(r,!0===t||(0,j._)(h||(h=k([""," > "," ? "," : ",""])),r,t,r,t))}))},mergeValues:function(e,t){return!0===e||Math.max(e,t)},resultToName:function(e,t){return e.var("items",t)}})},t.evaluatedPropsToName=C,t.setEvaluated=R;var I,D={};function F(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.opts.strictSchema;if(r){if(t="strict mode: ".concat(t),!0===r)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:D[t.code]||(D[t.code]=new E._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(I=t.Type||(t.Type={})),t.getErrorPath=function(e,t,r){if(e instanceof j.Name){var n=t===I.Num;return r?n?(0,j._)(_||(_=k(['"[" + ',' + "]"'])),e):(0,j._)(y||(y=k(['"[\'" + ',' + "\']"'])),e):n?(0,j._)(g||(g=k(['"/" + ',""])),e):(0,j._)(b||(b=k(['"/" + ','.replace(/~/g, "~0").replace(/\\//g, "~1")'],['"/" + ','.replace(/~/g, "~0").replace(/\\\\//g, "~1")'])),e)}return r?(0,j.getProperty)(e).toString():"/"+P(e)},t.checkStrictMode=F},56702:function(e,t){"use strict";function r(e,t){return t.rules.some((function(t){return n(e,t)}))}function n(e,t){var r;return void 0!==e[t.keyword]||(null===(r=t.definition.implements)||void 0===r?void 0:r.some((function(t){return void 0!==e[t]})))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function(e,t){var n=e.schema,a=e.self.RULES.types[t];return a&&!0!==a&&r(n,a)},t.shouldUseGroup=r,t.shouldUseRule=n},1855:function(e,t,r){"use strict";var n,a=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;var o=r(36927),i=r(97361),s=r(6205),c={message:"boolean schema is false"};function u(e,t){var r={gen:e.gen,keyword:"false schema",data:e.data,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,o.reportError)(r,c,void 0,t)}t.topBoolOrEmptySchema=function(e){var t=e.gen,r=e.schema,o=e.validateName;!1===r?u(e,!1):"object"==typeof r&&!0===r.$async?t.return(s.default.data):(t.assign((0,i._)(n||(n=a(["",".errors"])),o),null),t.return(!0))},t.boolOrEmptySchema=function(e,t){var r=e.gen;!1===e.schema?(r.var(t,!1),u(e)):r.var(t,!0)}},9688:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p,h,m,v,_,y,g,b,w,k,x,j,E,S,O,P,A,T,C,R,I,D,F,N=r(74704).default,M=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;var U,q=r(15379),L=r(56702),$=r(36927),W=r(97361),B=r(92632);function z(e){var t=Array.isArray(e)?e:e?[e]:[];if(t.every(q.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(U=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){var t=z(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=z,t.coerceAndCheckDataType=function(e,t){var r=e.gen,E=e.data,S=e.opts,O=function(e,t){return t?e.filter((function(e){return V.has(e)||"array"===t&&"array"===e})):[]}(t,S.coerceTypes),P=t.length>0&&!(0===O.length&&1===t.length&&(0,L.schemaHasRulesForType)(e,t[0]));if(P){var A=H(t,E,S.strictNumbers,U.Wrong);r.if(A,(function(){O.length?function(e,t,r){var E=e.gen,S=e.data,O=e.opts,P=E.let("dataType",(0,W._)(n||(n=M(["typeof ",""])),S)),A=E.let("coerced",(0,W._)(a||(a=M(["undefined"]))));"array"===O.coerceTypes&&E.if((0,W._)(o||(o=M([""," == 'object' && Array.isArray(",") && ",".length == 1"])),P,S,S),(function(){return E.assign(S,(0,W._)(i||(i=M(["","[0]"])),S)).assign(P,(0,W._)(s||(s=M(["typeof ",""])),S)).if(H(t,S,O.strictNumbers),(function(){return E.assign(A,S)}))}));E.if((0,W._)(c||(c=M([""," !== undefined"])),A));var T,C=N(r);try{for(C.s();!(T=C.n()).done;){var R=T.value;(V.has(R)||"array"===R&&"array"===O.coerceTypes)&&I(R)}}catch(D){C.e(D)}finally{C.f()}function I(e){switch(e){case"string":return void E.elseIf((0,W._)(l||(l=M(["",' == "number" || ',' == "boolean"'])),P,P)).assign(A,(0,W._)(f||(f=M(['"" + ',""])),S)).elseIf((0,W._)(d||(d=M([""," === null"])),S)).assign(A,(0,W._)(p||(p=M(['""']))));case"number":return void E.elseIf((0,W._)(h||(h=M(["",' == "boolean" || '," === null\n              || (",' == "string" && '," && "," == +",")"])),P,S,P,S,S,S)).assign(A,(0,W._)(m||(m=M(["+",""])),S));case"integer":return void E.elseIf((0,W._)(v||(v=M(["",' === "boolean" || '," === null\n              || (",' === "string" && '," && "," == +"," && !("," % 1))"])),P,S,P,S,S,S,S)).assign(A,(0,W._)(_||(_=M(["+",""])),S));case"boolean":return void E.elseIf((0,W._)(y||(y=M(["",' === "false" || '," === 0 || "," === null"])),S,S,S)).assign(A,!1).elseIf((0,W._)(g||(g=M(["",' === "true" || '," === 1"])),S,S)).assign(A,!0);case"null":return E.elseIf((0,W._)(b||(b=M(["",' === "" || '," === 0 || "," === false"])),S,S,S)),void E.assign(A,null);case"array":E.elseIf((0,W._)(w||(w=M(["",' === "string" || ',' === "number"\n              || ',' === "boolean" || '," === null"])),P,P,P,S)).assign(A,(0,W._)(k||(k=M(["[","]"])),S))}}E.else(),J(e),E.endIf(),E.if((0,W._)(u||(u=M([""," !== undefined"])),A),(function(){E.assign(S,A),function(e,t){var r=e.gen,n=e.parentData,a=e.parentDataProperty;r.if((0,W._)(x||(x=M([""," !== undefined"])),n),(function(){return r.assign((0,W._)(j||(j=M(["","[","]"])),n,a),t)}))}(e,A)}))}(e,t,O):J(e)}))}return P};var V=new Set(["string","number","integer","boolean","null"]);function K(e,t,r){var n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:U.Correct,o=a===U.Correct?W.operators.EQ:W.operators.NEQ;switch(e){case"null":return(0,W._)(E||(E=M([""," "," null"])),t,o);case"array":n=(0,W._)(S||(S=M(["Array.isArray(",")"])),t);break;case"object":n=(0,W._)(O||(O=M([""," && typeof ",' == "object" && !Array.isArray(',")"])),t,t,t);break;case"integer":n=i((0,W._)(P||(P=M(["!("," % 1) && !isNaN(",")"])),t,t));break;case"number":n=i();break;default:return(0,W._)(A||(A=M(["typeof "," "," ",""])),t,o,e)}return a===U.Correct?n:(0,W.not)(n);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W.nil;return(0,W.and)((0,W._)(T||(T=M(["typeof ",' == "number"'])),t),e,r?(0,W._)(C||(C=M(["isFinite(",")"])),t):W.nil)}}function H(e,t,r,n){if(1===e.length)return K(e[0],t,r,n);var a,o=(0,B.toHash)(e);if(o.array&&o.object){var i=(0,W._)(R||(R=M(["typeof ",' != "object"'])),t);a=o.null?i:(0,W._)(I||(I=M(["!"," || ",""])),t,i),delete o.null,delete o.array,delete o.object}else a=W.nil;for(var s in o.number&&delete o.integer,o)a=(0,W.and)(a,K(s,t,r,n));return a}t.checkDataType=K,t.checkDataTypes=H;var G={message:function(e){var t=e.schema;return"must be ".concat(t)},params:function(e){var t=e.schema,r=e.schemaValue;return"string"==typeof t?(0,W._)(D||(D=M(["{type: ","}"])),t):(0,W._)(F||(F=M(["{type: ","}"])),r)}};function J(e){var t=function(e){var t=e.gen,r=e.data,n=e.schema,a=(0,B.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:e}}(e);(0,$.reportError)(t,G)}t.reportTypeError=J},23449:function(e,t,r){"use strict";var n,a,o,i,s=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;var c=r(97361),u=r(92632);function l(e,t,r){var l=e.gen,f=e.compositeRule,d=e.data,p=e.opts;if(void 0!==r){var h=(0,c._)(n||(n=s(["","",""])),d,(0,c.getProperty)(t));if(f)(0,u.checkStrictMode)(e,"default is ignored for: ".concat(h));else{var m=(0,c._)(a||(a=s([""," === undefined"])),h);"empty"===p.useDefaults&&(m=(0,c._)(o||(o=s([""," || "," === null || ",' === ""'])),m,h,h)),l.if(m,(0,c._)(i||(i=s([""," = ",""])),h,(0,c.stringify)(r)))}}}t.assignDefaults=function(e,t){var r=e.schema,n=r.properties,a=r.items;if("object"===t&&n)for(var o in n)l(e,o,n[o].default);else"array"===t&&Array.isArray(a)&&a.forEach((function(t,r){return l(e,r,t.default)}))}},86114:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p,h,m,v,_,y,g,b,w,k,x,j,E,S,O,P,A,T,C,R,I,D,F,N,M,U,q,L,$,W=r(42122).default,B=r(56690).default,z=r(89728).default,V=r(74704).default,K=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;var H=r(1855),G=r(9688),J=r(56702),Q=r(9688),Y=r(23449),X=r(14270),Z=r(40896),ee=r(97361),te=r(6205),re=r(26839),ne=r(92632),ae=r(36927);function oe(e,t){var r=e.gen,_=e.validateName,y=e.schema,g=e.schemaEnv,b=e.opts;b.code.es5?r.func(_,(0,ee._)(n||(n=K(["",", ",""])),te.default.data,te.default.valCxt),g.$async,(function(){r.code((0,ee._)(a||(a=K(['"use strict"; ',""])),ie(y,b))),function(e,t){e.if(te.default.valCxt,(function(){e.var(te.default.instancePath,(0,ee._)(c||(c=K(["",".",""])),te.default.valCxt,te.default.instancePath)),e.var(te.default.parentData,(0,ee._)(u||(u=K(["",".",""])),te.default.valCxt,te.default.parentData)),e.var(te.default.parentDataProperty,(0,ee._)(l||(l=K(["",".",""])),te.default.valCxt,te.default.parentDataProperty)),e.var(te.default.rootData,(0,ee._)(f||(f=K(["",".",""])),te.default.valCxt,te.default.rootData)),t.dynamicRef&&e.var(te.default.dynamicAnchors,(0,ee._)(d||(d=K(["",".",""])),te.default.valCxt,te.default.dynamicAnchors))}),(function(){e.var(te.default.instancePath,(0,ee._)(p||(p=K(['""'])))),e.var(te.default.parentData,(0,ee._)(h||(h=K(["undefined"])))),e.var(te.default.parentDataProperty,(0,ee._)(m||(m=K(["undefined"])))),e.var(te.default.rootData,te.default.data),t.dynamicRef&&e.var(te.default.dynamicAnchors,(0,ee._)(v||(v=K(["{}"]))))}))}(r,b),r.code(t)})):r.func(_,(0,ee._)(o||(o=K(["",", ",""])),te.default.data,function(e){return(0,ee._)(i||(i=K(["{",'="", ',", ",", ","=","","}={}"])),te.default.instancePath,te.default.parentData,te.default.parentDataProperty,te.default.rootData,te.default.data,e.dynamicRef?(0,ee._)(s||(s=K([", ","={}"])),te.default.dynamicAnchors):ee.nil)}(b)),g.$async,(function(){return r.code(ie(y,b)).code(t)}))}function ie(e,t){var r="object"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,ee._)(j||(j=K(["/*# sourceURL="," */"])),r):ee.nil}function se(e,t){ue(e)&&(le(e),ce(e))?function(e,t){var r=e.schema,n=e.gen,a=e.opts;a.$comment&&r.$comment&&de(e);(function(e){var t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,re.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);var o=n.const("_errs",te.default.errors);fe(e,o),n.var(t,(0,ee._)(E||(E=K([""," === ",""])),o,te.default.errors))}(e,t):(0,H.boolOrEmptySchema)(e,t)}function ce(e){var t=e.schema,r=e.self;if("boolean"==typeof t)return!t;for(var n in t)if(r.RULES.all[n])return!0;return!1}function ue(e){return"boolean"!=typeof e.schema}function le(e){(0,ne.checkUnknownRules)(e),function(e){var t=e.schema,r=e.errSchemaPath,n=e.opts,a=e.self;t.$ref&&n.ignoreKeywordsWithRef&&(0,ne.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn('$ref: keywords ignored in schema at path "'.concat(r,'"'))}(e)}function fe(e,t){if(e.opts.jtd)return pe(e,[],!1,t);var r=(0,G.getSchemaTypes)(e.schema);pe(e,r,!(0,G.coerceAndCheckDataType)(e,r),t)}function de(e){var t=e.gen,r=e.schemaEnv,n=e.schema,a=e.errSchemaPath,o=e.opts,i=n.$comment;if(!0===o.$comment)t.code((0,ee._)(S||(S=K(["",".logger.log(",")"])),te.default.self,i));else if("function"==typeof o.$comment){var s=(0,ee.str)(O||(O=K(["","/$comment"])),a),c=t.scopeValue("root",{ref:r.root});t.code((0,ee._)(P||(P=K(["",".opts.$comment(",", ",", ",".schema)"])),te.default.self,i,s,c))}}function pe(e,t,r,n){var a=e.gen,o=e.schema,i=e.data,s=e.allErrors,c=e.opts,u=e.self.RULES;function l(u){(0,J.shouldUseGroup)(o,u)&&(u.type?(a.if((0,Q.checkDataType)(u.type,i,c.strictNumbers)),he(e,u),1===t.length&&t[0]===u.type&&r&&(a.else(),(0,Q.reportTypeError)(e)),a.endIf()):he(e,u),s||a.if((0,ee._)(F||(F=K([""," === ",""])),te.default.errors,n||0)))}!o.$ref||!c.ignoreKeywordsWithRef&&(0,ne.schemaHasRulesButRef)(o,u)?(c.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((function(t){ve(e.dataTypes,t)||_e(e,'type "'.concat(t,'" not allowed by context "').concat(e.dataTypes.join(","),'"'))})),function(e,t){var r,n=[],a=V(e.dataTypes);try{for(a.s();!(r=a.n()).done;){var o=r.value;ve(t,o)?n.push(o):t.includes("integer")&&"number"===o&&n.push("integer")}}catch(i){a.e(i)}finally{a.f()}e.dataTypes=n}(e,t)})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&_e(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){var r=e.self.RULES.all;for(var n in r){var a=r[n];if("object"==typeof a&&(0,J.shouldUseRule)(e.schema,a)){var o=a.definition.type;o.length&&!o.some((function(e){return me(t,e)}))&&_e(e,'missing type "'.concat(o.join(","),'" for keyword "').concat(n,'"'))}}}(e,e.dataTypes)}(e,t),a.block((function(){var e,t=V(u.rules);try{for(t.s();!(e=t.n()).done;){l(e.value)}}catch(r){t.e(r)}finally{t.f()}l(u.post)}))):a.block((function(){return ge(e,"$ref",u.all.$ref.definition)}))}function he(e,t){var r=e.gen,n=e.schema;e.opts.useDefaults&&(0,Y.assignDefaults)(e,t.type),r.block((function(){var r,a=V(t.rules);try{for(a.s();!(r=a.n()).done;){var o=r.value;(0,J.shouldUseRule)(n,o)&&ge(e,o.keyword,o.definition,t.type)}}catch(i){a.e(i)}finally{a.f()}}))}function me(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function ve(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function _e(e,t){var r=e.schemaEnv.baseId+e.errSchemaPath;t+=' at "'.concat(r,'" (strictTypes)'),(0,ne.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){ue(e)&&(le(e),ce(e))?function(e){var t=e.schema,r=e.opts,n=e.gen;oe(e,(function(){r.$comment&&t.$comment&&de(e),function(e){var t=e.schema,r=e.opts;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,ne.checkStrictMode)(e,"default is ignored in the schema root")}(e),n.let(te.default.vErrors,null),n.let(te.default.errors,0),r.unevaluated&&function(e){var t=e.gen,r=e.validateName;e.evaluated=t.const("evaluated",(0,ee._)(_||(_=K(["",".evaluated"])),r)),t.if((0,ee._)(y||(y=K(["",".dynamicProps"])),e.evaluated),(function(){return t.assign((0,ee._)(g||(g=K(["",".props"])),e.evaluated),(0,ee._)(b||(b=K(["undefined"]))))})),t.if((0,ee._)(w||(w=K(["",".dynamicItems"])),e.evaluated),(function(){return t.assign((0,ee._)(k||(k=K(["",".items"])),e.evaluated),(0,ee._)(x||(x=K(["undefined"]))))}))}(e),fe(e),function(e){var t=e.gen,r=e.schemaEnv,n=e.validateName,a=e.ValidationError,o=e.opts;r.$async?t.if((0,ee._)(A||(A=K([""," === 0"])),te.default.errors),(function(){return t.return(te.default.data)}),(function(){return t.throw((0,ee._)(T||(T=K(["new ","(",")"])),a,te.default.vErrors))})):(t.assign((0,ee._)(C||(C=K(["",".errors"])),n),te.default.vErrors),o.unevaluated&&function(e){var t=e.gen,r=e.evaluated,n=e.props,a=e.items;n instanceof ee.Name&&t.assign((0,ee._)(I||(I=K(["",".props"])),r),n);a instanceof ee.Name&&t.assign((0,ee._)(D||(D=K(["",".items"])),r),a)}(e),t.return((0,ee._)(R||(R=K([""," === 0"])),te.default.errors)))}(e)}))}(e):oe(e,(function(){return(0,H.topBoolOrEmptySchema)(e)}))};var ye=function(){function e(t,r,n){if(B(this,e),(0,X.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ne.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",ke(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,X.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error("".concat(n," value must be ").concat(JSON.stringify(r.schemaType)));("code"in r?r.trackErrors:!1!==r.errors)&&(this.errsCount=t.gen.const("_errs",te.default.errors))}return z(e,[{key:"result",value:function(e,t,r){this.failResult((0,ee.not)(e),t,r)}},{key:"failResult",value:function(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}},{key:"pass",value:function(e,t){this.failResult((0,ee.not)(e),void 0,t)}},{key:"fail",value:function(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}},{key:"fail$data",value:function(e){if(!this.$data)return this.fail(e);var t=this.schemaCode;this.fail((0,ee._)(N||(N=K([""," !== undefined && (",")"])),t,(0,ee.or)(this.invalid$data(),e)))}},{key:"error",value:function(e,t,r){if(t)return this.setParams(t),this._error(e,r),void this.setParams({});this._error(e,r)}},{key:"_error",value:function(e,t){(e?ae.reportExtraError:ae.reportError)(this,this.def.error,t)}},{key:"$dataError",value:function(){(0,ae.reportError)(this,this.def.$dataError||ae.keyword$DataError)}},{key:"reset",value:function(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,ae.resetErrorsCount)(this.gen,this.errsCount)}},{key:"ok",value:function(e){this.allErrors||this.gen.if(e)}},{key:"setParams",value:function(e,t){t?Object.assign(this.params,e):this.params=e}},{key:"block$data",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ee.nil;this.gen.block((function(){r.check$data(e,n),t()}))}},{key:"check$data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee.nil,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.nil;if(this.$data){var r=this.gen,n=this.schemaCode,a=this.schemaType,o=this.def;r.if((0,ee.or)((0,ee._)(M||(M=K([""," === undefined"])),n),t)),e!==ee.nil&&r.assign(e,!0),(a.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==ee.nil&&r.assign(e,!1)),r.else()}}},{key:"invalid$data",value:function(){var e=this.gen,t=this.schemaCode,r=this.schemaType,n=this.def,a=this.it;return(0,ee.or)(function(){if(r.length){if(!(t instanceof ee.Name))throw new Error("ajv implementation error");var e=Array.isArray(r)?r:[r];return(0,ee._)(U||(U=K(["",""])),(0,Q.checkDataTypes)(e,t,a.opts.strictNumbers,Q.DataType.Wrong))}return ee.nil}(),function(){if(n.validateSchema){var r=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,ee._)(q||(q=K(["!","(",")"])),r,t)}return ee.nil}())}},{key:"subschema",value:function(e,t){var r=(0,Z.getSubschema)(this.it,e);(0,Z.extendSubschemaData)(r,this.it,e),(0,Z.extendSubschemaMode)(r,e);var n=W(W(W({},this.it),r),{},{items:void 0,props:void 0});return se(n,t),n}},{key:"mergeEvaluated",value:function(e,t){var r=this.it,n=this.gen;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=ne.mergeEvaluated.props(n,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=ne.mergeEvaluated.items(n,e.items,r.items,t)))}},{key:"mergeValidEvaluated",value:function(e,t){var r=this,n=this.it,a=this.gen;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return a.if(t,(function(){return r.mergeEvaluated(e,ee.Name)})),!0}}]),e}();function ge(e,t,r,n){var a=new ye(e,r,t);"code"in r?r.code(a,n):a.$data&&r.validate?(0,X.funcKeywordCode)(a,r):"macro"in r?(0,X.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,X.funcKeywordCode)(a,r)}t.KeywordCxt=ye;var be=/^\/(?:[^~]|~0|~1)*$/,we=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ke(e,t){var r,n,a=t.dataLevel,o=t.dataNames,i=t.dataPathArr;if(""===e)return te.default.rootData;if("/"===e[0]){if(!be.test(e))throw new Error("Invalid JSON-pointer: ".concat(e));r=e,n=te.default.rootData}else{var s=we.exec(e);if(!s)throw new Error("Invalid JSON-pointer: ".concat(e));var c=+s[1];if("#"===(r=s[2])){if(c>=a)throw new Error(h("property/index",c));return i[a-c]}if(c>a)throw new Error(h("data",c));if(n=o[a-c],!r)return n}var u,l=n,f=r.split("/"),d=V(f);try{for(d.s();!(u=d.n()).done;){var p=u.value;p&&(n=(0,ee._)(L||(L=K(["","",""])),n,(0,ee.getProperty)((0,ne.unescapeJsonPointer)(p))),l=(0,ee._)($||($=K([""," && ",""])),l,n))}}catch(m){d.e(m)}finally{d.f()}return l;function h(e,t){return"Cannot access ".concat(e," ").concat(t," levels up, current level is ").concat(a)}}t.getData=ke},14270:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;var h=r(97361),m=r(6205),v=r(50912),_=r(36927);function y(e){var t=e.gen,r=e.data,n=e.it;t.if(n.parentData,(function(){return t.assign(r,(0,h._)(u||(u=p(["","[","]"])),n.parentData,n.parentDataProperty))}))}function g(e,t,r){if(void 0===r)throw new Error('keyword "'.concat(t,'" failed to compile'));return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,h.stringify)(r)})}t.macroKeywordCode=function(e,t){var r=e.gen,n=e.keyword,a=e.schema,o=e.parentSchema,i=e.it,s=t.macro.call(i.self,a,o,i),c=g(r,n,s);!1!==i.opts.validateSchema&&i.self.validateSchema(s,!0);var u=r.name("valid");e.subschema({schema:s,schemaPath:h.nil,errSchemaPath:"".concat(i.errSchemaPath,"/").concat(n),topSchemaRef:c,compositeRule:!0},u),e.pass(u,(function(){return e.error(!0)}))},t.funcKeywordCode=function(e,t){var r,u=e.gen,b=e.keyword,w=e.schema,k=e.parentSchema,x=e.$data,j=e.it;!function(e,t){var r=e.schemaEnv;if(t.async&&!r.$async)throw new Error("async keyword in sync schema")}(j,t);var E=!x&&t.compile?t.compile.call(j.self,w,k,j):t.validate,S=g(u,b,E),O=u.let("valid");function P(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.async?(0,h._)(s||(s=p(["await "]))):h.nil,n=j.opts.passContext?m.default.this:m.default.self,a=!("compile"in t&&!x||!1===t.schema);u.assign(O,(0,h._)(c||(c=p(["","",""])),r,(0,v.callValidateCode)(e,S,n,a)),t.modifying)}function A(e){var r;u.if((0,h.not)(null!==(r=t.valid)&&void 0!==r?r:O),e)}e.block$data(O,(function(){if(!1===t.errors)P(),t.modifying&&y(e),A((function(){return e.error()}));else{var r=t.async?function(){var e=u.let("ruleErrs",null);return u.try((function(){return P((0,h._)(n||(n=p(["await "]))))}),(function(t){return u.assign(O,!1).if((0,h._)(a||(a=p([""," instanceof ",""])),t,j.ValidationError),(function(){return u.assign(e,(0,h._)(o||(o=p(["",".errors"])),t))}),(function(){return u.throw(t)}))})),e}():function(){var e=(0,h._)(i||(i=p(["",".errors"])),S);return u.assign(e,null),P(h.nil),e}();t.modifying&&y(e),A((function(){return function(e,t){var r=e.gen;r.if((0,h._)(l||(l=p(["Array.isArray(",")"])),t),(function(){r.assign(m.default.vErrors,(0,h._)(f||(f=p([""," === null ? "," : ",".concat(",")"])),m.default.vErrors,t,m.default.vErrors,t)).assign(m.default.errors,(0,h._)(d||(d=p(["",".length"])),m.default.vErrors)),(0,_.extendErrors)(e)}),(function(){return e.error()}))}(e,r)}))}})),e.ok(null!==(r=t.valid)&&void 0!==r?r:O)},t.validSchemaType=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!t.length||t.some((function(t){return"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&"undefined"==typeof e}))},t.validateKeywordUsage=function(e,t,r){var n=e.schema,a=e.opts,o=e.self,i=e.errSchemaPath;if(Array.isArray(t.keyword)?!t.keyword.includes(r):t.keyword!==r)throw new Error("ajv implementation error");var s=t.dependencies;if(null===s||void 0===s?void 0:s.some((function(e){return!Object.prototype.hasOwnProperty.call(n,e)})))throw new Error("parent schema must have dependencies of ".concat(r,": ").concat(s.join(",")));if(t.validateSchema&&!t.validateSchema(n[r])){var c='keyword "'.concat(r,'" value is invalid at path "').concat(i,'": ')+o.errorsText(t.validateSchema.errors);if("log"!==a.validateSchema)throw new Error(c);o.logger.error(c)}}},40896:function(e,t,r){"use strict";var n,a,o,i,s,c=r(861).default,u=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;var l=r(97361),f=r(92632);t.getSubschema=function(e,t){var r=t.keyword,o=t.schemaProp,i=t.schema,s=t.schemaPath,c=t.errSchemaPath,d=t.topSchemaRef;if(void 0!==r&&void 0!==i)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==r){var p=e.schema[r];return void 0===o?{schema:p,schemaPath:(0,l._)(n||(n=u(["","",""])),e.schemaPath,(0,l.getProperty)(r)),errSchemaPath:"".concat(e.errSchemaPath,"/").concat(r)}:{schema:p[o],schemaPath:(0,l._)(a||(a=u(["","","",""])),e.schemaPath,(0,l.getProperty)(r),(0,l.getProperty)(o)),errSchemaPath:"".concat(e.errSchemaPath,"/").concat(r,"/").concat((0,f.escapeFragment)(o))}}if(void 0!==i){if(void 0===s||void 0===c||void 0===d)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:s,topSchemaRef:d,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,r){var n=r.dataProp,a=r.dataPropType,d=r.data,p=r.dataTypes,h=r.propertyName;if(void 0!==d&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');var m=t.gen;if(void 0!==n){var v=t.errorPath,_=t.dataPathArr,y=t.opts;g(m.let("data",(0,l._)(o||(o=u(["","",""])),t.data,(0,l.getProperty)(n)),!0)),e.errorPath=(0,l.str)(i||(i=u(["","",""])),v,(0,f.getErrorPath)(n,a,y.jsPropertySyntax)),e.parentDataProperty=(0,l._)(s||(s=u(["",""])),n),e.dataPathArr=[].concat(c(_),[e.parentDataProperty])}function g(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[].concat(c(t.dataNames),[r])}void 0!==d&&(g(d instanceof l.Name?d:m.let("data",d,!0)),void 0!==h&&(e.propertyName=h)),p&&(e.dataTypes=p)},t.extendSubschemaMode=function(e,t){var r=t.jtdDiscriminator,n=t.jtdMetadata,a=t.compositeRule,o=t.createErrors,i=t.allErrors;void 0!==a&&(e.compositeRule=a),void 0!==o&&(e.createErrors=o),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=r,e.jtdMetadata=n}},71616:function(e,t,r){"use strict";var n=r(74704).default,a=r(17061).default,o=r(17156).default,i=r(56690).default,s=r(89728).default,c=r(42122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var u=r(86114);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var l=r(97361);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var f=r(72055),d=r(97382),p=r(15379),h=r(22859),m=r(97361),v=r(26839),_=r(9688),y=r(92632),g=r(12621),b=r(66874),w=function(e,t){return new RegExp(e,t)};w.code="new RegExp";var k=["removeAdditional","useDefaults","coerceTypes"],x=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),j={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},E={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};var S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts=c(c({},t),function(e){var t,r,n,a,o,i,s,u,l,f,d,p,h,m,v,_,y,g,k,x,j,E,S,O,P,A=e.strict,T=null===(t=e.code)||void 0===t?void 0:t.optimize,C=!0===T||void 0===T?1:T||0,R=null!==(n=null===(r=e.code)||void 0===r?void 0:r.regExp)&&void 0!==n?n:w,I=null!==(a=e.uriResolver)&&void 0!==a?a:b.default;return{strictSchema:null===(i=null!==(o=e.strictSchema)&&void 0!==o?o:A)||void 0===i||i,strictNumbers:null===(u=null!==(s=e.strictNumbers)&&void 0!==s?s:A)||void 0===u||u,strictTypes:null!==(f=null!==(l=e.strictTypes)&&void 0!==l?l:A)&&void 0!==f?f:"log",strictTuples:null!==(p=null!==(d=e.strictTuples)&&void 0!==d?d:A)&&void 0!==p?p:"log",strictRequired:null!==(m=null!==(h=e.strictRequired)&&void 0!==h?h:A)&&void 0!==m&&m,code:e.code?c(c({},e.code),{},{optimize:C,regExp:R}):{optimize:C,regExp:R},loopRequired:null!==(v=e.loopRequired)&&void 0!==v?v:200,loopEnum:null!==(_=e.loopEnum)&&void 0!==_?_:200,meta:null===(y=e.meta)||void 0===y||y,messages:null===(g=e.messages)||void 0===g||g,inlineRefs:null===(k=e.inlineRefs)||void 0===k||k,schemaId:null!==(x=e.schemaId)&&void 0!==x?x:"$id",addUsedSchema:null===(j=e.addUsedSchema)||void 0===j||j,validateSchema:null===(E=e.validateSchema)||void 0===E||E,validateFormats:null===(S=e.validateFormats)||void 0===S||S,unicodeRegExp:null===(O=e.unicodeRegExp)||void 0===O||O,int32range:null===(P=e.int32range)||void 0===P||P,uriResolver:I}}(t));var r=this.opts.code,n=r.es5,a=r.lines;this.scope=new m.ValueScope({scope:{},prefixes:x,es5:n,lines:a}),this.logger=function(e){if(!1===e)return I;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(t.logger);var o=t.validateFormats;t.validateFormats=!1,this.RULES=(0,p.getRules)(),O.call(this,j,t,"NOT SUPPORTED"),O.call(this,E,t,"DEPRECATED","warn"),this._metaOpts=R.call(this),t.formats&&T.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&C.call(this,t.keywords),"object"==typeof t.meta&&this.addMetaSchema(t.meta),A.call(this),t.validateFormats=o}return s(e,[{key:"_addVocabularies",value:function(){this.addKeyword("$async")}},{key:"_addDefaultMetaSchema",value:function(){var e=this.opts,t=e.$data,r=e.meta,n=e.schemaId,a=g;"id"===n&&((a=c({},g)).id=a.$id,delete a.$id),r&&t&&this.addMetaSchema(a,a[n],!1)}},{key:"defaultMeta",value:function(){var e=this.opts,t=e.meta,r=e.schemaId;return this.opts.defaultMeta="object"==typeof t?t[r]||t:void 0}},{key:"validate",value:function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'.concat(e,'"'))}else r=this.compile(e);var n=r(t);return"$async"in r||(this.errors=r.errors),n}},{key:"compile",value:function(e,t){var r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}},{key:"compileAsync",value:function(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");var r=this.opts.loadSchema;return n.call(this,e,t);function n(e,t){return i.apply(this,arguments)}function i(){return(i=o(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.call(this,t.$schema);case 2:return n=this._addSchema(t,r),e.abrupt("return",n.validate||u.call(this,n));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function s(e){return c.apply(this,arguments)}function c(){return(c=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.getSchema(t)){e.next=3;break}return e.next=3,n.call(this,{$ref:t},!0);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function u(e){return l.apply(this,arguments)}function l(){return(l=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this._compileSchemaEnv(t));case 4:if(e.prev=4,e.t0=e.catch(0),e.t0 instanceof d.default){e.next=8;break}throw e.t0;case 8:return f.call(this,e.t0),e.next=11,p.call(this,e.t0.missingSchema);case 11:return e.abrupt("return",u.call(this,t));case 12:case"end":return e.stop()}}),e,this,[[0,4]])})))).apply(this,arguments)}function f(e){var t=e.missingSchema,r=e.missingRef;if(this.refs[t])throw new Error("AnySchema ".concat(t," is loaded but ").concat(r," cannot be resolved"))}function p(e){return h.apply(this,arguments)}function h(){return(h=o(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.call(this,r);case 2:if(n=e.sent,this.refs[r]){e.next=6;break}return e.next=6,s.call(this,n.$schema);case 6:this.refs[r]||this.addSchema(n,r,t);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=o(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._loading[t])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,this._loading[t]=r(t);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,delete this._loading[t],e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[3,,7,10]])})))).apply(this,arguments)}}},{key:"addSchema",value:function(e,t,r){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.validateSchema;if(Array.isArray(e)){var i,s=n(e);try{for(s.s();!(i=s.n()).done;){var c=i.value;this.addSchema(c,void 0,r,o)}}catch(l){s.e(l)}finally{s.f()}return this}if("object"===typeof e){var u=this.opts.schemaId;if(void 0!==(a=e[u])&&"string"!=typeof a)throw new Error("schema ".concat(u," must be string"))}return t=(0,v.normalizeId)(t||a),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,o,!0),this}},{key:"addMetaSchema",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.opts.validateSchema;return this.addSchema(e,t,!0,r),this}},{key:"validateSchema",value:function(e,t){if("boolean"==typeof e)return!0;var r;if(void 0!==(r=e.$schema)&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,e);if(!n&&t){var a="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(a);this.logger.error(a)}return n}},{key:"getSchema",value:function(e){for(var t;"string"==typeof(t=P.call(this,e));)e=t;if(void 0===t){var r=this.opts.schemaId,n=new h.SchemaEnv({schema:{},schemaId:r});if(!(t=h.resolveSchema.call(this,n,e)))return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}},{key:"removeSchema",value:function(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":var t=P.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this;case"object":var r=e;this._cache.delete(r);var n=e[this.opts.schemaId];return n&&(n=(0,v.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this;default:throw new Error("ajv.removeSchema: invalid parameter")}}},{key:"addVocabulary",value:function(e){var t,r=n(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;this.addKeyword(a)}}catch(o){r.e(o)}finally{r.f()}return this}},{key:"addKeyword",value:function(e,t){var r,n=this;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(r=(t=e).keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(F.call(this,r,t),!t)return(0,y.eachItem)(r,(function(e){return N.call(n,e)})),this;U.call(this,t);var a=c(c({},t),{},{type:(0,_.getJSONTypes)(t.type),schemaType:(0,_.getJSONTypes)(t.schemaType)});return(0,y.eachItem)(r,0===a.type.length?function(e){return N.call(n,e,a)}:function(e){return a.type.forEach((function(t){return N.call(n,e,a,t)}))}),this}},{key:"getKeyword",value:function(e){var t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}},{key:"removeKeyword",value:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e];var r,a=n(t.rules);try{for(a.s();!(r=a.n()).done;){var o=r.value,i=o.rules.findIndex((function(t){return t.keyword===e}));i>=0&&o.rules.splice(i,1)}}catch(s){a.e(s)}finally{a.f()}return this}},{key:"addFormat",value:function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}},{key:"errorsText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.errors,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.separator,n=void 0===r?", ":r,a=t.dataVar,o=void 0===a?"data":a;return e&&0!==e.length?e.map((function(e){return"".concat(o).concat(e.instancePath," ").concat(e.message)})).reduce((function(e,t){return e+n+t})):"No errors"}},{key:"$dataMetaSchema",value:function(e,t){var r=this.RULES.all;e=JSON.parse(JSON.stringify(e));var a,o=n(t);try{for(o.s();!(a=o.n()).done;){var i,s=a.value.split("/").slice(1),c=e,u=n(s);try{for(u.s();!(i=u.n()).done;){c=c[i.value]}}catch(h){u.e(h)}finally{u.f()}for(var l in r){var f=r[l];if("object"==typeof f){var d=f.definition.$data,p=c[l];d&&p&&(c[l]=L(p))}}}}catch(h){o.e(h)}finally{o.f()}return e}},{key:"_removeAllSchemas",value:function(e,t){for(var r in e){var n=e[r];t&&!t.test(r)||("string"==typeof n?delete e[r]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[r]))}}},{key:"_addSchema",value:function(e,t,r){var n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.validateSchema,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.opts.addUsedSchema,i=this.opts.schemaId;if("object"==typeof e)n=e[i];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}var s=this._cache.get(e);if(void 0!==s)return s;r=(0,v.normalizeId)(n||r);var c=v.getSchemaRefs.call(this,e,r);return s=new h.SchemaEnv({schema:e,schemaId:i,meta:t,baseId:r,localRefs:c}),this._cache.set(s.schema,s),o&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=s),a&&this.validateSchema(e,!0),s}},{key:"_checkUnique",value:function(e){if(this.schemas[e]||this.refs[e])throw new Error('schema with key or id "'.concat(e,'" already exists'))}},{key:"_compileSchemaEnv",value:function(e){if(e.meta?this._compileMetaSchema(e):h.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}},{key:"_compileMetaSchema",value:function(e){var t=this.opts;this.opts=this._metaOpts;try{h.compileSchema.call(this,e)}finally{this.opts=t}}}]),e}();function O(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"error";for(var a in e){var o=a;o in t&&this.logger[n]("".concat(r,": option ").concat(a,". ").concat(e[o]))}}function P(e){return e=(0,v.normalizeId)(e),this.schemas[e]||this.refs[e]}function A(){var e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(var t in e)this.addSchema(e[t],t)}function T(){for(var e in this.opts.formats){var t=this.opts.formats[e];t&&this.addFormat(e,t)}}function C(e){if(Array.isArray(e))this.addVocabulary(e);else for(var t in this.logger.warn("keywords option as map is deprecated, pass array"),e){var r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function R(){var e,t=c({},this.opts),r=n(k);try{for(r.s();!(e=r.n()).done;){delete t[e.value]}}catch(a){r.e(a)}finally{r.f()}return t}t.default=S,S.ValidationError=f.default,S.MissingRefError=d.default;var I={log:function(){},warn:function(){},error:function(){}};var D=/^[a-z_$][a-z0-9_$:-]*$/i;function F(e,t){var r=this.RULES;if((0,y.eachItem)(e,(function(e){if(r.keywords[e])throw new Error("Keyword ".concat(e," is already defined"));if(!D.test(e))throw new Error("Keyword ".concat(e," has invalid name"))})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function N(e,t,r){var n,a=this,o=null===t||void 0===t?void 0:t.post;if(r&&o)throw new Error('keyword with "post" flag cannot have "type"');var i=this.RULES,s=o?i.post:i.rules.find((function(e){return e.type===r}));if(s||(s={type:r,rules:[]},i.rules.push(s)),i.keywords[e]=!0,t){var u={keyword:e,definition:c(c({},t),{},{type:(0,_.getJSONTypes)(t.type),schemaType:(0,_.getJSONTypes)(t.schemaType)})};t.before?M.call(this,s,u,t.before):s.rules.push(u),i.all[e]=u,null===(n=t.implements)||void 0===n||n.forEach((function(e){return a.addKeyword(e)}))}}function M(e,t,r){var n=e.rules.findIndex((function(e){return e.keyword===r}));n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn("rule ".concat(r," is not defined")))}function U(e){var t=e.metaSchema;void 0!==t&&(e.$data&&this.opts.$data&&(t=L(t)),e.validateSchema=this.compile(t,!0))}var q={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function L(e){return{anyOf:[e,q]}}},6188:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(78262);n.code='require("ajv/dist/runtime/equal").default',t.default=n},26927:function(e,t){"use strict";function r(e){for(var t,r=e.length,n=0,a=0;a<r;)n++,(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<r&&56320===(64512&(t=e.charCodeAt(a)))&&a++;return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'},66874:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(60023);n.code='require("ajv/dist/runtime/uri").default',t.default=n},72055:function(e,t,r){"use strict";var n=r(89728).default,a=r(56690).default,o=r(61655).default,i=r(26389).default,s=r(33496).default;Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){o(r,e);var t=i(r);function r(e){var n;return a(this,r),(n=t.call(this,"validation failed")).errors=e,n.ajv=n.validation=!0,n}return n(r)}(s(Error));t.default=c},18835:function(e,t,r){"use strict";var n,a,o,i,s,c=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;var u=r(97361),l=r(92632),f={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:function(e){var t=e.params.len;return(0,u.str)(n||(n=c(["must NOT have more than "," items"])),t)},params:function(e){var t=e.params.len;return(0,u._)(a||(a=c(["{limit: ","}"])),t)}},code:function(e){var t=e.parentSchema,r=e.it,n=t.items;Array.isArray(n)?d(e,n):(0,l.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas')}};function d(e,t){var r=e.gen,n=e.schema,a=e.data,f=e.keyword,d=e.it;d.items=!0;var p=r.const("len",(0,u._)(o||(o=c(["",".length"])),a));if(!1===n)e.setParams({len:t.length}),e.pass((0,u._)(i||(i=c([""," <= ",""])),p,t.length));else if("object"==typeof n&&!(0,l.alwaysValidSchema)(d,n)){var h=r.var("valid",(0,u._)(s||(s=c([""," <= ",""])),p,t.length));r.if((0,u.not)(h),(function(){return function(n){r.forRange("i",t.length,p,(function(t){e.subschema({keyword:f,dataProp:t,dataPropType:l.Type.Num},n),d.allErrors||r.if((0,u.not)(n),(function(){return r.break()}))}))}(h)})),e.ok(h)}}t.validateAdditionalItems=d,t.default=f},24185:function(e,t,r){"use strict";var n,a,o,i,s,c=r(861).default,u=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var l=r(50912),f=r(97361),d=r(6205),p=r(92632),h={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:function(e){var t=e.params;return(0,f._)(n||(n=u(["{additionalProperty: ","}"])),t.additionalProperty)}},code:function(e){var t=e.gen,r=e.schema,n=e.parentSchema,h=e.data,m=e.errsCount,v=e.it;if(!m)throw new Error("ajv implementation error");var _=v.allErrors,y=v.opts;if(v.props=!0,"all"===y.removeAdditional||!(0,p.alwaysValidSchema)(v,r)){var g=(0,l.allSchemaProperties)(n.properties),b=(0,l.allSchemaProperties)(n.patternProperties);t.forIn("key",h,(function(r){g.length||b.length?t.if(function(r){var a;if(g.length>8){var s=(0,p.schemaRefOrVal)(v,n.properties,"properties");a=(0,l.isOwnProperty)(t,s,r)}else a=g.length?f.or.apply(void 0,c(g.map((function(e){return(0,f._)(o||(o=u([""," === ",""])),r,e)})))):f.nil;return b.length&&(a=f.or.apply(void 0,[a].concat(c(b.map((function(t){return(0,f._)(i||(i=u(["",".test(",")"])),(0,l.usePattern)(e,t),r)})))))),(0,f.not)(a)}(r),(function(){return k(r)})):k(r)})),e.ok((0,f._)(a||(a=u([""," === ",""])),m,d.default.errors))}function w(e){t.code((0,f._)(s||(s=u(["delete ","[","]"])),h,e))}function k(n){if("all"===y.removeAdditional||y.removeAdditional&&!1===r)w(n);else{if(!1===r)return e.setParams({additionalProperty:n}),e.error(),void(_||t.break());if("object"==typeof r&&!(0,p.alwaysValidSchema)(v,r)){var a=t.name("valid");"failing"===y.removeAdditional?(x(n,a,!1),t.if((0,f.not)(a),(function(){e.reset(),w(n)}))):(x(n,a),_||t.if((0,f.not)(a),(function(){return t.break()})))}}}function x(t,r,n){var a={keyword:"additionalProperties",dataProp:t,dataPropType:p.Type.Str};!1===n&&Object.assign(a,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(a,r)}}};t.default=h},30231:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(92632),a={keyword:"allOf",schemaType:"array",code:function(e){var t=e.gen,r=e.schema,a=e.it;if(!Array.isArray(r))throw new Error("ajv implementation error");var o=t.name("valid");r.forEach((function(t,r){if(!(0,n.alwaysValidSchema)(a,t)){var i=e.subschema({keyword:"allOf",schemaProp:r},o);e.ok(o),e.mergeEvaluated(i)}}))}};t.default=a},26921:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r(50912).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=n},14640:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p,h,m=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var v=r(97361),_=r(92632),y={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:function(e){var t=e.params,r=t.min,o=t.max;return void 0===o?(0,v.str)(n||(n=m(["must contain at least "," valid item(s)"])),r):(0,v.str)(a||(a=m(["must contain at least "," and no more than "," valid item(s)"])),r,o)},params:function(e){var t=e.params,r=t.min,n=t.max;return void 0===n?(0,v._)(o||(o=m(["{minContains: ","}"])),r):(0,v._)(i||(i=m(["{minContains: ",", maxContains: ","}"])),r,n)}},code:function(e){var t,r,n=e.gen,a=e.schema,o=e.parentSchema,i=e.data,y=e.it,g=o.minContains,b=o.maxContains;y.opts.next?(t=void 0===g?1:g,r=b):t=1;var w=n.const("len",(0,v._)(s||(s=m(["",".length"])),i));if(e.setParams({min:t,max:r}),void 0!==r||0!==t){if(void 0!==r&&t>r)return(0,_.checkStrictMode)(y,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,_.alwaysValidSchema)(y,a)){var k=(0,v._)(c||(c=m([""," >= ",""])),w,t);return void 0!==r&&(k=(0,v._)(u||(u=m([""," && "," <= ",""])),k,w,r)),void e.pass(k)}y.items=!0;var x=n.name("valid");void 0===r&&1===t?E(x,(function(){return n.if(x,(function(){return n.break()}))})):0===t?(n.let(x,!0),void 0!==r&&n.if((0,v._)(l||(l=m(["",".length > 0"])),i),j)):(n.let(x,!1),j()),e.result(x,(function(){return e.reset()}))}else(0,_.checkStrictMode)(y,'"minContains" == 0 without "maxContains": "contains" keyword ignored');function j(){var e=n.name("_valid"),a=n.let("count",0);E(e,(function(){return n.if(e,(function(){return function(e){n.code((0,v._)(f||(f=m(["","++"])),e)),void 0===r?n.if((0,v._)(d||(d=m([""," >= ",""])),e,t),(function(){return n.assign(x,!0).break()})):(n.if((0,v._)(p||(p=m([""," > ",""])),e,r),(function(){return n.assign(x,!1).break()})),1===t?n.assign(x,!0):n.if((0,v._)(h||(h=m([""," >= ",""])),e,t),(function(){return n.assign(x,!0)})))}(a)}))}))}function E(t,r){n.forRange("i",0,w,(function(n){e.subschema({keyword:"contains",dataProp:n,dataPropType:_.Type.Num,compositeRule:!0},t),r()}))}}};t.default=y},86698:function(e,t,r){"use strict";var n,a,o,i=r(74704).default,s=r(27424).default,c=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;var u=r(97361),l=r(92632),f=r(50912);t.error={message:function(e){var t=e.params,r=t.property,a=t.depsCount,o=t.deps,i=1===a?"property":"properties";return(0,u.str)(n||(n=c(["must have "," "," when property "," is present"])),i,o,r)},params:function(e){var t=e.params,r=t.property,n=t.depsCount,o=t.deps,i=t.missingProperty;return(0,u._)(a||(a=c(["{property: ",",\n    missingProperty: ",",\n    depsCount: ",",\n    deps: ","}"])),r,i,n,o)}};var d={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code:function(e){var t=function(e){var t=e.schema,r={},n={};for(var a in t){if("__proto__"!==a)(Array.isArray(t[a])?r:n)[a]=t[a]}return[r,n]}(e),r=s(t,2),n=r[0],a=r[1];p(e,n),h(e,a)}};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema,r=e.gen,n=e.data,a=e.it;if(0!==Object.keys(t).length){var s=r.let("missing"),l=function(){var l=t[d];if(0===l.length)return 1;var p=(0,f.propertyInData)(r,n,d,a.opts.ownProperties);e.setParams({property:d,depsCount:l.length,deps:l.join(", ")}),a.allErrors?r.if(p,(function(){var t,r=i(l);try{for(r.s();!(t=r.n()).done;){var n=t.value;(0,f.checkReportMissingProp)(e,n)}}catch(a){r.e(a)}finally{r.f()}})):(r.if((0,u._)(o||(o=c([""," && (",")"])),p,(0,f.checkMissingProp)(e,l,s))),(0,f.reportMissingProp)(e,s),r.else())};for(var d in t)l()}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema,r=e.gen,n=e.data,a=e.keyword,o=e.it,i=r.name("valid"),s=function(s){if((0,l.alwaysValidSchema)(o,t[s]))return 1;r.if((0,f.propertyInData)(r,n,s,o.opts.ownProperties),(function(){var t=e.subschema({keyword:a,schemaProp:s},i);e.mergeValidEvaluated(t,i)}),(function(){return r.var(i,!0)})),e.ok(i)};for(var c in t)s(c)}t.validatePropertyDeps=p,t.validateSchemaDeps=h,t.default=d},74792:function(e,t,r){"use strict";var n,a,o,i=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(97361),c=r(92632),u={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:function(e){var t=e.params;return(0,s.str)(n||(n=i(['must match "','" schema'])),t.ifClause)},params:function(e){var t=e.params;return(0,s._)(a||(a=i(["{failingKeyword: ","}"])),t.ifClause)}},code:function(e){var t=e.gen,r=e.parentSchema,n=e.it;void 0===r.then&&void 0===r.else&&(0,c.checkStrictMode)(n,'"if" without "then" and "else" is ignored');var a=l(n,"then"),u=l(n,"else");if(a||u){var f=t.let("valid",!0),d=t.name("_valid");if(function(){var t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},d);e.mergeEvaluated(t)}(),e.reset(),a&&u){var p=t.let("ifClause");e.setParams({ifClause:p}),t.if(d,h("then",p),h("else",p))}else a?t.if(d,h("then")):t.if((0,s.not)(d),h("else"));e.pass(f,(function(){return e.error(!0)}))}function h(r,n){return function(){var a=e.subschema({keyword:r},d);t.assign(f,d),e.mergeValidEvaluated(a,f),n?t.assign(n,(0,s._)(o||(o=i(["",""])),r)):e.setParams({ifClause:r})}}}};function l(e,t){var r=e.schema[t];return void 0!==r&&!(0,c.alwaysValidSchema)(e,r)}t.default=u},67589:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18835),a=r(33711),o=r(74818),i=r(47593),s=r(14640),c=r(86698),u=r(45161),l=r(24185),f=r(60972),d=r(53009),p=r(25156),h=r(26921),m=r(5122),v=r(30231),_=r(74792),y=r(99738);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[p.default,h.default,m.default,v.default,_.default,y.default,u.default,l.default,c.default,f.default,d.default];return e?t.push(a.default,i.default):t.push(n.default,o.default),t.push(s.default),t}},74818:function(e,t,r){"use strict";var n,a,o=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;var i=r(97361),s=r(92632),c=r(50912),u={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code:function(e){var t=e.schema,r=e.it;if(Array.isArray(t))return l(e,"additionalItems",t);r.items=!0,(0,s.alwaysValidSchema)(r,t)||e.ok((0,c.validateArray)(e))}};function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.schema,c=e.gen,u=e.parentSchema,l=e.data,f=e.keyword,d=e.it;!function(e){var n=d.opts,a=d.errSchemaPath,o=r.length,i=o===e.minItems&&(o===e.maxItems||!1===e[t]);if(n.strictTuples&&!i){var c='"'.concat(f,'" is ').concat(o,"-tuple, but minItems or maxItems/").concat(t,' are not specified or different at path "').concat(a,'"');(0,s.checkStrictMode)(d,c,n.strictTuples)}}(u),d.opts.unevaluated&&r.length&&!0!==d.items&&(d.items=s.mergeEvaluated.items(c,r.length,d.items));var p=c.name("valid"),h=c.const("len",(0,i._)(n||(n=o(["",".length"])),l));r.forEach((function(t,r){(0,s.alwaysValidSchema)(d,t)||(c.if((0,i._)(a||(a=o([""," > ",""])),h,r),(function(){return e.subschema({keyword:f,schemaProp:r,dataProp:r},p)})),e.ok(p))}))}t.validateTuple=l,t.default=u},47593:function(e,t,r){"use strict";var n,a,o=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var i=r(97361),s=r(92632),c=r(50912),u=r(18835),l={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:function(e){var t=e.params.len;return(0,i.str)(n||(n=o(["must NOT have more than "," items"])),t)},params:function(e){var t=e.params.len;return(0,i._)(a||(a=o(["{limit: ","}"])),t)}},code:function(e){var t=e.schema,r=e.parentSchema,n=e.it,a=r.prefixItems;n.items=!0,(0,s.alwaysValidSchema)(n,t)||(a?(0,u.validateAdditionalItems)(e,a):e.ok((0,c.validateArray)(e)))}};t.default=l},25156:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(92632),a={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code:function(e){var t=e.gen,r=e.schema,a=e.it;if((0,n.alwaysValidSchema)(a,r))e.fail();else{var o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,(function(){return e.reset()}),(function(){return e.error()}))}},error:{message:"must NOT be valid"}};t.default=a},5122:function(e,t,r){"use strict";var n,a,o,i=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(97361),c=r(92632),u={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:function(e){var t=e.params;return(0,s._)(n||(n=i(["{passingSchemas: ","}"])),t.passing)}},code:function(e){var t=e.gen,r=e.schema,n=e.parentSchema,u=e.it;if(!Array.isArray(r))throw new Error("ajv implementation error");if(!u.opts.discriminator||!n.discriminator){var l=r,f=t.let("valid",!1),d=t.let("passing",null),p=t.name("_valid");e.setParams({passing:d}),t.block((function(){l.forEach((function(r,n){var l;(0,c.alwaysValidSchema)(u,r)?t.var(p,!0):l=e.subschema({keyword:"oneOf",schemaProp:n,compositeRule:!0},p),n>0&&t.if((0,s._)(a||(a=i([""," && ",""])),p,f)).assign(f,!1).assign(d,(0,s._)(o||(o=i(["[",", ","]"])),d,n)).else(),t.if(p,(function(){t.assign(f,!0),t.assign(d,n),l&&e.mergeEvaluated(l,s.Name)}))}))})),e.result(f,(function(){return e.reset()}),(function(){return e.error(!0)}))}}};t.default=u},53009:function(e,t,r){"use strict";var n,a,o=r(59400).default,i=r(74704).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(50912),c=r(97361),u=r(92632),l=r(92632),f={keyword:"patternProperties",type:"object",schemaType:"object",code:function(e){var t=e.gen,r=e.schema,f=e.data,d=e.parentSchema,p=e.it,h=p.opts,m=(0,s.allSchemaProperties)(r),v=m.filter((function(e){return(0,u.alwaysValidSchema)(p,r[e])}));if(0!==m.length&&(v.length!==m.length||p.opts.unevaluated&&!0!==p.props)){var _=h.strictSchema&&!h.allowMatchingProperties&&d.properties,y=t.name("valid");!0===p.props||p.props instanceof c.Name||(p.props=(0,l.evaluatedPropsToName)(t,p.props));var g=p.props;!function(){var e,r=i(m);try{for(r.s();!(e=r.n()).done;){var n=e.value;_&&b(n),p.allErrors?w(n):(t.var(y,!0),w(n),t.if(y))}}catch(a){r.e(a)}finally{r.f()}}()}function b(e){for(var t in _)new RegExp(e).test(t)&&(0,u.checkStrictMode)(p,"property ".concat(t," matches pattern ").concat(e," (use allowMatchingProperties)"))}function w(r){t.forIn("key",f,(function(i){t.if((0,c._)(n||(n=o(["",".test(",")"])),(0,s.usePattern)(e,r),i),(function(){var n=v.includes(r);n||e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:i,dataPropType:l.Type.Str},y),p.opts.unevaluated&&!0!==g?t.assign((0,c._)(a||(a=o(["","[","]"])),g,i),!0):n||p.allErrors||t.if((0,c.not)(y),(function(){return t.break()}))}))}))}}};t.default=f},33711:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(74818),a={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:function(e){return(0,n.validateTuple)(e,"items")}};t.default=a},60972:function(e,t,r){"use strict";var n=r(74704).default;Object.defineProperty(t,"__esModule",{value:!0});var a=r(86114),o=r(50912),i=r(92632),s=r(24185),c={keyword:"properties",type:"object",schemaType:"object",code:function(e){var t=e.gen,r=e.schema,c=e.parentSchema,u=e.data,l=e.it;"all"===l.opts.removeAdditional&&void 0===c.additionalProperties&&s.default.code(new a.KeywordCxt(l,s.default,"additionalProperties"));var f,d=(0,o.allSchemaProperties)(r),p=n(d);try{for(p.s();!(f=p.n()).done;){var h=f.value;l.definedProperties.add(h)}}catch(k){p.e(k)}finally{p.f()}l.opts.unevaluated&&d.length&&!0!==l.props&&(l.props=i.mergeEvaluated.props(t,(0,i.toHash)(d),l.props));var m=d.filter((function(e){return!(0,i.alwaysValidSchema)(l,r[e])}));if(0!==m.length){var v,_=t.name("valid"),y=n(m);try{for(y.s();!(v=y.n()).done;){var g=v.value;b(g)?w(g):(t.if((0,o.propertyInData)(t,u,g,l.opts.ownProperties)),w(g),l.allErrors||t.else().var(_,!0),t.endIf()),e.it.definedProperties.add(g),e.ok(_)}}catch(k){y.e(k)}finally{y.f()}}function b(e){return l.opts.useDefaults&&!l.compositeRule&&void 0!==r[e].default}function w(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},_)}}};t.default=c},45161:function(e,t,r){"use strict";var n,a=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r(97361),i=r(92632),s={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:function(e){var t=e.params;return(0,o._)(n||(n=a(["{propertyName: ","}"])),t.propertyName)}},code:function(e){var t=e.gen,r=e.schema,n=e.data,a=e.it;if(!(0,i.alwaysValidSchema)(a,r)){var s=t.name("valid");t.forIn("key",n,(function(r){e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},s),t.if((0,o.not)(s),(function(){e.error(!0),a.allErrors||t.break()}))})),e.ok(s)}}};t.default=s},99738:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(92632),a={keyword:["then","else"],schemaType:["object","boolean"],code:function(e){var t=e.keyword,r=e.parentSchema,a=e.it;void 0===r.if&&(0,n.checkStrictMode)(a,'"'.concat(t,'" without "if" is ignored'))}};t.default=a},50912:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p,h,m,v,_,y=r(861).default,g=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;var b=r(97361),w=r(92632),k=r(6205),x=r(92632);function j(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,b._)(o||(o=g(["Object.prototype.hasOwnProperty"])))})}function E(e,t,r){return(0,b._)(i||(i=g(["",".call(",", ",")"])),j(e),t,r)}function S(e,t,r,n){var a=(0,b._)(u||(u=g(["",""," === undefined"])),t,(0,b.getProperty)(r));return n?(0,b.or)(a,(0,b.not)(E(e,t,r))):a}function O(e){return e?Object.keys(e).filter((function(e){return"__proto__"!==e})):[]}t.checkReportMissingProp=function(e,t){var r=e.gen,a=e.data,o=e.it;r.if(S(r,a,t,o.opts.ownProperties),(function(){e.setParams({missingProperty:(0,b._)(n||(n=g(["",""])),t)},!0),e.error()}))},t.checkMissingProp=function(e,t,r){var n=e.gen,o=e.data,i=e.it.opts;return b.or.apply(void 0,y(t.map((function(e){return(0,b.and)(S(n,o,e,i.ownProperties),(0,b._)(a||(a=g([""," = ",""])),r,e))}))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=j,t.isOwnProperty=E,t.propertyInData=function(e,t,r,n){var a=(0,b._)(s||(s=g(["",""," !== undefined"])),t,(0,b.getProperty)(r));return n?(0,b._)(c||(c=g([""," && ",""])),a,E(e,t,r)):a},t.noPropertyInData=S,t.allSchemaProperties=O,t.schemaProperties=function(e,t){return O(t).filter((function(r){return!(0,w.alwaysValidSchema)(e,t[r])}))},t.callValidateCode=function(e,t,r,n){var a=e.schemaCode,o=e.data,i=e.it,s=i.gen,c=i.topSchemaRef,u=i.schemaPath,h=i.errorPath,m=e.it,v=n?(0,b._)(l||(l=g(["",", ",", ","",""])),a,o,c,u):o,_=[[k.default.instancePath,(0,b.strConcat)(k.default.instancePath,h)],[k.default.parentData,m.parentData],[k.default.parentDataProperty,m.parentDataProperty],[k.default.rootData,k.default.rootData]];m.opts.dynamicRef&&_.push([k.default.dynamicAnchors,k.default.dynamicAnchors]);var y=(0,b._)(f||(f=g(["",", ",""])),v,s.object.apply(s,_));return r!==b.nil?(0,b._)(d||(d=g(["",".call(",", ",")"])),t,r,y):(0,b._)(p||(p=g(["","(",")"])),t,y)};var P=(0,b._)(h||(h=g(["new RegExp"])));t.usePattern=function(e,t){var r=e.gen,n=e.it.opts,a=n.unicodeRegExp?"u":"",o=n.code.regExp,i=o(t,a);return r.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,b._)(m||(m=g(["","(",", ",")"])),"new RegExp"===o.code?P:(0,x.useFunc)(r,o),t,a)})},t.validateArray=function(e){var t=e.gen,r=e.data,n=e.keyword,a=e.it,o=t.name("valid");if(a.allErrors){var i=t.let("valid",!0);return s((function(){return t.assign(i,!1)})),i}return t.var(o,!0),s((function(){return t.break()})),o;function s(a){var i=t.const("len",(0,b._)(v||(v=g(["",".length"])),r));t.forRange("i",0,i,(function(r){e.subschema({keyword:n,dataProp:r,dataPropType:w.Type.Num},o),t.if((0,b.not)(o),a)}))}},t.validateUnion=function(e){var t=e.gen,r=e.schema,n=e.keyword,a=e.it;if(!Array.isArray(r))throw new Error("ajv implementation error");if(!r.some((function(e){return(0,w.alwaysValidSchema)(a,e)}))||a.opts.unevaluated){var o=t.let("valid",!1),i=t.name("_valid");t.block((function(){return r.forEach((function(r,a){var s=e.subschema({keyword:n,schemaProp:a,compositeRule:!0},i);t.assign(o,(0,b._)(_||(_=g([""," || ",""])),o,i)),e.mergeValidEvaluated(s,i)||t.if((0,b.not)(o))}))})),e.result(o,(function(){return e.reset()}),(function(){return e.error(!0)}))}}},20765:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={keyword:"id",code:function(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=r},70001:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20765),a=r(36441),o=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",n.default,a.default];t.default=o},36441:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;var p=r(97382),h=r(50912),m=r(97361),v=r(6205),_=r(22859),y=r(92632),g={keyword:"$ref",schemaType:"string",code:function(e){var t=e.gen,r=e.schema,a=e.it,o=a.baseId,i=a.schemaEnv,s=a.validateName,c=a.opts,u=a.self,l=i.root;if(("#"===r||"#/"===r)&&o===l.baseId)return function(){if(i===l)return w(e,s,i,i.$async);var r=t.scopeValue("root",{ref:l});return w(e,(0,m._)(n||(n=d(["",".validate"])),r),l,l.$async)}();var f=_.resolveRef.call(u,l,o,r);if(void 0===f)throw new p.default(a.opts.uriResolver,o,r);return f instanceof _.SchemaEnv?function(t){var r=b(e,t);w(e,r,t,t.$async)}(f):function(n){var a=t.scopeValue("schema",!0===c.code.source?{ref:n,code:(0,m.stringify)(n)}:{ref:n}),o=t.name("valid"),i=e.subschema({schema:n,dataTypes:[],schemaPath:m.nil,topSchemaRef:a,errSchemaPath:r},o);e.mergeEvaluated(i),e.ok(o)}(f)}};function b(e,t){var r=e.gen;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,m._)(a||(a=d(["",".validate"])),r.scopeValue("wrapper",{ref:t}))}function w(e,t,r,n){var a=e.gen,p=e.it,_=p.allErrors,g=p.schemaEnv,b=p.opts.passContext?v.default.this:m.nil;function w(e){var t=(0,m._)(s||(s=d(["",".errors"])),e);a.assign(v.default.vErrors,(0,m._)(c||(c=d([""," === null ? "," : ",".concat(",")"])),v.default.vErrors,t,v.default.vErrors,t)),a.assign(v.default.errors,(0,m._)(u||(u=d(["",".length"])),v.default.vErrors))}function k(e){var t;if(p.opts.unevaluated){var n=null===(t=null===r||void 0===r?void 0:r.validate)||void 0===t?void 0:t.evaluated;if(!0!==p.props)if(n&&!n.dynamicProps)void 0!==n.props&&(p.props=y.mergeEvaluated.props(a,n.props,p.props));else{var o=a.var("props",(0,m._)(l||(l=d(["",".evaluated.props"])),e));p.props=y.mergeEvaluated.props(a,o,p.props,m.Name)}if(!0!==p.items)if(n&&!n.dynamicItems)void 0!==n.items&&(p.items=y.mergeEvaluated.items(a,n.items,p.items));else{var i=a.var("items",(0,m._)(f||(f=d(["",".evaluated.items"])),e));p.items=y.mergeEvaluated.items(a,i,p.items,m.Name)}}}n?function(){if(!g.$async)throw new Error("async schema referenced by sync schema");var r=a.let("valid");a.try((function(){a.code((0,m._)(o||(o=d(["await ",""])),(0,h.callValidateCode)(e,t,b))),k(t),_||a.assign(r,!0)}),(function(e){a.if((0,m._)(i||(i=d(["!("," instanceof ",")"])),e,p.ValidationError),(function(){return a.throw(e)})),w(e),_||a.assign(r,!1)})),e.ok(r)}():e.result((0,h.callValidateCode)(e,t,b),(function(){return k(t)}),(function(){return w(t)}))}t.getValidate=b,t.callRef=w,t.default=g},78116:function(e,t,r){"use strict";var n,a,o,i,s=r(74704).default,c=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(97361),l=r(26437),f=r(22859),d=r(92632),p={keyword:"discriminator",type:"object",schemaType:"object",error:{message:function(e){var t=e.params,r=t.discrError,n=t.tagName;return r===l.DiscrError.Tag?'tag "'.concat(n,'" must be string'):'value of tag "'.concat(n,'" must be in oneOf')},params:function(e){var t=e.params,r=t.discrError,a=t.tag,o=t.tagName;return(0,u._)(n||(n=c(["{error: ",", tag: ",", tagValue: ","}"])),r,o,a)}},code:function(e){var t=e.gen,r=e.data,n=e.schema,p=e.parentSchema,h=e.it,m=p.oneOf;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");var v=n.propertyName;if("string"!=typeof v)throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");var _=t.let("valid",!1),y=t.const("tag",(0,u._)(a||(a=c(["","",""])),r,(0,u.getProperty)(v)));function g(r){var n=t.name("valid"),a=e.subschema({keyword:"oneOf",schemaProp:r},n);return e.mergeEvaluated(a,u.Name),n}t.if((0,u._)(o||(o=c(["typeof ",' == "string"'])),y),(function(){return function(){var r=function(){for(var e,t={},r=c(p),n=!0,a=0;a<m.length;a++){var o=m[a];(null===o||void 0===o?void 0:o.$ref)&&!(0,d.schemaHasRulesButRef)(o,h.self.RULES)&&(o=f.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,null===o||void 0===o?void 0:o.$ref))instanceof f.SchemaEnv&&(o=o.schema);var i=null===(e=null===o||void 0===o?void 0:o.properties)||void 0===e?void 0:e[v];if("object"!=typeof i)throw new Error('discriminator: oneOf subschemas (or referenced schemas) must have "properties/'.concat(v,'"'));n=n&&(r||c(o)),u(i,a)}if(!n)throw new Error('discriminator: "'.concat(v,'" must be required'));return t;function c(e){var t=e.required;return Array.isArray(t)&&t.includes(v)}function u(e,t){if(e.const)l(e.const,t);else{if(!e.enum)throw new Error('discriminator: "properties/'.concat(v,'" must have "const" or "enum"'));var r,n=s(e.enum);try{for(n.s();!(r=n.n()).done;){l(r.value,t)}}catch(a){n.e(a)}finally{n.f()}}}function l(e,r){if("string"!=typeof e||e in t)throw new Error('discriminator: "'.concat(v,'" values must be unique strings'));t[e]=r}}();for(var n in t.if(!1),r)t.elseIf((0,u._)(i||(i=c([""," === ",""])),y,n)),t.assign(_,g(r[n]));t.else(),e.error(!1,{discrError:l.DiscrError.Mapping,tag:y,tagName:v}),t.endIf()}()}),(function(){return e.error(!1,{discrError:l.DiscrError.Tag,tag:y,tagName:v})})),e.ok(_)}};t.default=p},26437:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))},34978:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(70001),a=r(29366),o=r(67589),i=r(72598),s=r(2165),c=[n.default,a.default,(0,o.default)(),i.default,s.metadataVocabulary,s.contentVocabulary];t.default=c},2406:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p,h,m,v,_,y,g,b=r(27424).default,w=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var k=r(97361),x={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:function(e){var t=e.schemaCode;return(0,k.str)(n||(n=w(['must match format "','"'])),t)},params:function(e){var t=e.schemaCode;return(0,k._)(a||(a=w(["{format: ","}"])),t)}},code:function(e,t){var r=e.gen,n=e.data,a=e.$data,x=e.schema,j=e.schemaCode,E=e.it,S=E.opts,O=E.errSchemaPath,P=E.schemaEnv,A=E.self;S.validateFormats&&(a?function(){var a=r.scopeValue("formats",{ref:A.formats,code:S.code.formats}),m=r.const("fDef",(0,k._)(o||(o=w(["","[","]"])),a,j)),v=r.let("fType"),_=r.let("format");r.if((0,k._)(i||(i=w(["typeof ",' == "object" && !('," instanceof RegExp)"])),m,m),(function(){return r.assign(v,(0,k._)(s||(s=w(["",'.type || "string"'])),m)).assign(_,(0,k._)(c||(c=w(["",".validate"])),m))}),(function(){return r.assign(v,(0,k._)(u||(u=w(['"string"'])))).assign(_,m)})),e.fail$data((0,k.or)(!1===S.strictSchema?k.nil:(0,k._)(l||(l=w([""," && !",""])),j,_),function(){var e=P.$async?(0,k._)(f||(f=w(["(",".async ? await ","(",") : ","(","))"])),m,_,n,_,n):(0,k._)(d||(d=w(["","(",")"])),_,n),r=(0,k._)(p||(p=w(["(typeof ",' == "function" ? '," : ",".test(","))"])),_,e,_,n);return(0,k._)(h||(h=w([""," && "," !== true && "," === "," && !",""])),_,_,v,t,r)}()))}():function(){var a=A.formats[x];if(!a)return void function(){if(!1===S.strictSchema)return void A.logger.warn(e());throw new Error(e());function e(){return'unknown format "'.concat(x,'" ignored in schema at path "').concat(O,'"')}}();if(!0===a)return;var o=function(e){var t=e instanceof RegExp?(0,k.regexpCode)(e):S.code.formats?(0,k._)(m||(m=w(["","",""])),S.code.formats,(0,k.getProperty)(x)):void 0,n=r.scopeValue("formats",{key:x,ref:e,code:t});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,(0,k._)(v||(v=w(["",".validate"])),n)];return["string",e,n]}(a),i=b(o,3),s=i[0],c=i[1],u=i[2];s===t&&e.pass(function(){if("object"==typeof a&&!(a instanceof RegExp)&&a.async){if(!P.$async)throw new Error("async format in sync schema");return(0,k._)(_||(_=w(["await ","(",")"])),u,n)}return"function"==typeof c?(0,k._)(y||(y=w(["","(",")"])),u,n):(0,k._)(g||(g=w(["",".test(",")"])),u,n)}())}())}};t.default=x},72598:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[r(2406).default];t.default=n},2165:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},77847:function(e,t,r){"use strict";var n,a,o,i=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(97361),c=r(92632),u=r(6188),l={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:function(e){var t=e.schemaCode;return(0,s._)(n||(n=i(["{allowedValue: ","}"])),t)}},code:function(e){var t=e.gen,r=e.data,n=e.$data,l=e.schemaCode,f=e.schema;n||f&&"object"==typeof f?e.fail$data((0,s._)(a||(a=i(["!","(",", ",")"])),(0,c.useFunc)(t,u.default),r,l)):e.fail((0,s._)(o||(o=i([""," !== ",""])),f,r))}};t.default=l},62959:function(e,t,r){"use strict";var n,a,o,i,s=r(861).default,c=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(97361),l=r(92632),f=r(6188),d={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:function(e){var t=e.schemaCode;return(0,u._)(n||(n=c(["{allowedValues: ","}"])),t)}},code:function(e){var t=e.gen,r=e.data,n=e.$data,d=e.schema,p=e.schemaCode,h=e.it;if(!n&&0===d.length)throw new Error("enum must have non-empty array");var m,v,_=d.length>=h.opts.loopEnum,y=function(){return null!==m&&void 0!==m?m:m=(0,l.useFunc)(t,f.default)};if(_||n)v=t.let("valid"),e.block$data(v,(function(){t.assign(v,!1),t.forOf("v",p,(function(e){return t.if((0,u._)(a||(a=c(["","(",", ",")"])),y(),r,e),(function(){return t.assign(v,!0).break()}))}))}));else{if(!Array.isArray(d))throw new Error("ajv implementation error");var g=t.const("vSchema",p);v=u.or.apply(void 0,s(d.map((function(e,t){return function(e,t){var n=d[t];return"object"===typeof n&&null!==n?(0,u._)(o||(o=c(["","(",", ","[","])"])),y(),r,e,t):(0,u._)(i||(i=c([""," === ",""])),r,n)}(g,t)}))))}e.pass(v)}};t.default=d},29366:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(85061),a=r(8522),o=r(14168),i=r(25096),s=r(50426),c=r(80375),u=r(78845),l=r(13089),f=r(77847),d=r(62959),p=[n.default,a.default,o.default,i.default,s.default,c.default,u.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,d.default];t.default=p},78845:function(e,t,r){"use strict";var n,a,o,i=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(97361),c={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:function(e){var t=e.keyword,r=e.schemaCode,a="maxItems"===t?"more":"fewer";return(0,s.str)(n||(n=i(["must NOT have "," than "," items"])),a,r)},params:function(e){var t=e.schemaCode;return(0,s._)(a||(a=i(["{limit: ","}"])),t)}},code:function(e){var t=e.keyword,r=e.data,n=e.schemaCode,a="maxItems"===t?s.operators.GT:s.operators.LT;e.fail$data((0,s._)(o||(o=i(["",".length "," ",""])),r,a,n))}};t.default=c},14168:function(e,t,r){"use strict";var n,a,o,i,s,c=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(97361),l=r(92632),f=r(26927),d={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:function(e){var t=e.keyword,r=e.schemaCode,a="maxLength"===t?"more":"fewer";return(0,u.str)(n||(n=c(["must NOT have "," than "," characters"])),a,r)},params:function(e){var t=e.schemaCode;return(0,u._)(a||(a=c(["{limit: ","}"])),t)}},code:function(e){var t=e.keyword,r=e.data,n=e.schemaCode,a=e.it,d="maxLength"===t?u.operators.GT:u.operators.LT,p=!1===a.opts.unicode?(0,u._)(o||(o=c(["",".length"])),r):(0,u._)(i||(i=c(["","(",")"])),(0,l.useFunc)(e.gen,f.default),r);e.fail$data((0,u._)(s||(s=c([""," "," ",""])),p,d,n))}};t.default=d},85061:function(e,t,r){"use strict";var n,a,o,i=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(97361),c=s.operators,u={maximum:{okStr:"<=",ok:c.LTE,fail:c.GT},minimum:{okStr:">=",ok:c.GTE,fail:c.LT},exclusiveMaximum:{okStr:"<",ok:c.LT,fail:c.GTE},exclusiveMinimum:{okStr:">",ok:c.GT,fail:c.LTE}},l={message:function(e){var t=e.keyword,r=e.schemaCode;return(0,s.str)(n||(n=i(["must be "," ",""])),u[t].okStr,r)},params:function(e){var t=e.keyword,r=e.schemaCode;return(0,s._)(a||(a=i(["{comparison: ",", limit: ","}"])),u[t].okStr,r)}},f={keyword:Object.keys(u),type:"number",schemaType:"number",$data:!0,error:l,code:function(e){var t=e.keyword,r=e.data,n=e.schemaCode;e.fail$data((0,s._)(o||(o=i([""," "," "," || isNaN(",")"])),r,u[t].fail,n,r))}};t.default=f},50426:function(e,t,r){"use strict";var n,a,o,i=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(97361),c={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:function(e){var t=e.keyword,r=e.schemaCode,a="maxProperties"===t?"more":"fewer";return(0,s.str)(n||(n=i(["must NOT have "," than "," properties"])),a,r)},params:function(e){var t=e.schemaCode;return(0,s._)(a||(a=i(["{limit: ","}"])),t)}},code:function(e){var t=e.keyword,r=e.data,n=e.schemaCode,a="maxProperties"===t?s.operators.GT:s.operators.LT;e.fail$data((0,s._)(o||(o=i(["Object.keys(",").length "," ",""])),r,a,n))}};t.default=c},8522:function(e,t,r){"use strict";var n,a,o,i,s,c=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(97361),l={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:function(e){var t=e.schemaCode;return(0,u.str)(n||(n=c(["must be multiple of ",""])),t)},params:function(e){var t=e.schemaCode;return(0,u._)(a||(a=c(["{multipleOf: ","}"])),t)}},code:function(e){var t=e.gen,r=e.data,n=e.schemaCode,a=e.it.opts.multipleOfPrecision,l=t.let("res"),f=a?(0,u._)(o||(o=c(["Math.abs(Math.round(",") - ",") > 1e-",""])),l,l,a):(0,u._)(i||(i=c([""," !== parseInt(",")"])),l,l);e.fail$data((0,u._)(s||(s=c(["("," === 0 || ("," = ","/",", ","))"])),n,l,r,n,f))}};t.default=l},25096:function(e,t,r){"use strict";var n,a,o,i,s=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var c=r(50912),u=r(97361),l={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:function(e){var t=e.schemaCode;return(0,u.str)(n||(n=s(['must match pattern "','"'])),t)},params:function(e){var t=e.schemaCode;return(0,u._)(a||(a=s(["{pattern: ","}"])),t)}},code:function(e){var t=e.data,r=e.$data,n=e.schema,a=e.schemaCode,l=e.it.opts.unicodeRegExp?"u":"",f=r?(0,u._)(o||(o=s(["(new RegExp(",", ","))"])),a,l):(0,c.usePattern)(e,n);e.fail$data((0,u._)(i||(i=s(["!",".test(",")"])),f,t))}};t.default=l},80375:function(e,t,r){"use strict";var n,a,o=r(74704).default,i=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(50912),c=r(97361),u=r(92632),l={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:function(e){var t=e.params.missingProperty;return(0,c.str)(n||(n=i(["must have required property '","'"])),t)},params:function(e){var t=e.params.missingProperty;return(0,c._)(a||(a=i(["{missingProperty: ","}"])),t)}},code:function(e){var t=e.gen,r=e.schema,n=e.schemaCode,a=e.data,i=e.$data,l=e.it,f=l.opts;if(i||0!==r.length){var d=r.length>=f.loopRequired;if(l.allErrors?function(){if(d||i)e.block$data(c.nil,b);else{var t,n=o(r);try{for(n.s();!(t=n.n()).done;){var a=t.value;(0,s.checkReportMissingProp)(e,a)}}catch(u){n.e(u)}finally{n.f()}}}():function(){var o=t.let("missing");if(d||i){var u=t.let("valid",!0);e.block$data(u,(function(){return function(r,o){e.setParams({missingProperty:r}),t.forOf(r,n,(function(){t.assign(o,(0,s.propertyInData)(t,a,r,f.ownProperties)),t.if((0,c.not)(o),(function(){e.error(),t.break()}))}),c.nil)}(o,u)})),e.ok(u)}else t.if((0,s.checkMissingProp)(e,r,o)),(0,s.reportMissingProp)(e,o),t.else()}(),f.strictRequired){var p,h=e.parentSchema.properties,m=e.it.definedProperties,v=o(r);try{for(v.s();!(p=v.n()).done;){var _=p.value;if(void 0===(null===h||void 0===h?void 0:h[_])&&!m.has(_)){var y=l.schemaEnv.baseId+l.errSchemaPath,g='required property "'.concat(_,'" is not defined at "').concat(y,'" (strictRequired)');(0,u.checkStrictMode)(l,g,l.opts.strictRequired)}}}catch(w){v.e(w)}finally{v.f()}}}function b(){t.forOf("prop",n,(function(r){e.setParams({missingProperty:r}),t.if((0,s.noPropertyInData)(t,a,r,f.ownProperties),(function(){return e.error()}))}))}}};t.default=l},13089:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p,h,m,v,_,y,g,b=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var w=r(9688),k=r(97361),x=r(92632),j=r(6188),E={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:function(e){var t=e.params,r=t.i,a=t.j;return(0,k.str)(n||(n=b(["must NOT have duplicate items (items ## "," and "," are identical)"])),a,r)},params:function(e){var t=e.params,r=t.i,n=t.j;return(0,k._)(a||(a=b(["{i: ",", j: ","}"])),r,n)}},code:function(e){var t=e.gen,r=e.data,n=e.$data,a=e.schema,E=e.parentSchema,S=e.schemaCode,O=e.it;if(n||a){var P=t.let("valid"),A=E.items?(0,w.getSchemaTypes)(E.items):[];e.block$data(P,(function(){var n=t.let("i",(0,k._)(i||(i=b(["",".length"])),r)),a=t.let("j");e.setParams({i:n,j:a}),t.assign(P,!0),t.if((0,k._)(s||(s=b([""," > 1"])),n),(function(){return(A.length>0&&!A.some((function(e){return"object"===e||"array"===e}))?T:C)(n,a)}))}),(0,k._)(o||(o=b([""," === false"])),S)),e.ok(P)}function T(n,a){var o=t.name("item"),i=(0,w.checkDataTypes)(A,o,O.opts.strictNumbers,w.DataType.Wrong),s=t.const("indices",(0,k._)(c||(c=b(["{}"]))));t.for((0,k._)(u||(u=b([";","--;"])),n),(function(){t.let(o,(0,k._)(l||(l=b(["","[","]"])),r,n)),t.if(i,(0,k._)(f||(f=b(["continue"])))),A.length>1&&t.if((0,k._)(d||(d=b(["typeof ",' == "string"'])),o),(0,k._)(p||(p=b(["",' += "_"'])),o)),t.if((0,k._)(h||(h=b(["typeof ","[",'] == "number"'])),s,o),(function(){t.assign(a,(0,k._)(m||(m=b(["","[","]"])),s,o)),e.error(),t.assign(P,!1).break()})).code((0,k._)(v||(v=b(["","[","] = ",""])),s,o,n))}))}function C(n,a){var o=(0,x.useFunc)(t,j.default),i=t.name("outer");t.label(i).for((0,k._)(_||(_=b([";","--;"])),n),(function(){return t.for((0,k._)(y||(y=b([""," = ","; ","--;"])),a,n,a),(function(){return t.if((0,k._)(g||(g=b(["","(","[","], ","[","])"])),o,r,n,r,a),(function(){e.error(),t.assign(P,!1).break(i)}))}))}))}}};t.default=E},86740:function(e){"use strict";var t=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),r(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function r(e,n,a,o,i,s,c,u,l,f){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var d in n(o,i,s,c,u,l,f),o){var p=o[d];if(Array.isArray(p)){if(d in t.arrayKeywords)for(var h=0;h<p.length;h++)r(e,n,a,p[h],i+"/"+d+"/"+h,s,i,d,o,h)}else if(d in t.propsKeywords){if(p&&"object"==typeof p)for(var m in p)r(e,n,a,p[m],i+"/"+d+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,i,d,o,m)}else(d in t.keywords||e.allKeys&&!(d in t.skipKeywords))&&r(e,n,a,p,i+"/"+d,s,i,d,o)}a(o,i,s,c,u,l,f)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},56683:function(t,r,n){"use strict";var a=n(27424).default,o=n(42122).default;function i(e,t){return{validate:e,compare:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.formatNames=r.fastFormats=r.fullFormats=void 0,r.fullFormats={date:i(u,l),time:i(d,p),"date-time":i((function(e){var t=e.split(h);return 2===t.length&&u(t[0])&&d(t[1],!0)}),m),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return v.test(e)&&_.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:http[s\u017F]?|ftp):\/\/(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!(?:10|127)(?:\.[0-9]{1,3}){3})(?!(?:169\.254|192\.168)(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+\x2D)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+\x2D)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:(?![\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF])*)?$/i,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(t){if(k.test(t))return!1;try{return new RegExp(t),!0}catch(e){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return y.lastIndex=0,y.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=b&&e>=g}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:w},double:{type:"number",validate:w},password:!0,binary:!0},r.fastFormats=o(o({},r.fullFormats),{},{date:i(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,l),time:i(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,p),"date-time":i(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i}),r.formatNames=Object.keys(r.fullFormats);var s=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,c=[0,31,28,31,30,31,30,31,31,30,31,30,31];function u(e){var t=s.exec(e);if(!t)return!1;var r=+t[1],n=+t[2],a=+t[3];return n>=1&&n<=12&&a>=1&&a<=(2===n&&function(e){return e%4===0&&(e%100!==0||e%400===0)}(r)?29:c[n])}function l(e,t){if(e&&t)return e>t?1:e<t?-1:0}var f=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function d(e,t){var r=f.exec(e);if(!r)return!1;var n=+r[1],a=+r[2],o=+r[3],i=r[5];return(n<=23&&a<=59&&o<=59||23===n&&59===a&&60===o)&&(!t||""!==i)}function p(e,t){if(e&&t){var r=f.exec(e),n=f.exec(t);if(r&&n)return(e=r[1]+r[2]+r[3]+(r[4]||""))>(t=n[1]+n[2]+n[3]+(n[4]||""))?1:e<t?-1:0}}var h=/t|\s/i;function m(e,t){if(e&&t){var r=e.split(h),n=a(r,2),o=n[0],i=n[1],s=t.split(h),c=a(s,2),u=c[0],f=c[1],d=l(o,u);if(void 0!==d)return d||p(i,f)}}var v=/\/|:/,_=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;var y=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;var g=-Math.pow(2,31),b=Math.pow(2,31)-1;function w(){return!0}var k=/[^\\]\\Z/},90429:function(e,t,r){"use strict";var n,a=r(74704).default,o=r(59400).default,i=r(27424).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(56683),c=r(39223),u=r(26774),l=new u.Name("fullFormats"),f=new u.Name("fastFormats"),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keywords:!0};if(Array.isArray(t))return p(e,t,s.fullFormats,l),e;var r="fast"===t.mode?[s.fastFormats,f]:[s.fullFormats,l],n=i(r,2),a=n[0],o=n[1];return p(e,t.formats||s.formatNames,a,o),t.keywords&&c.default(e),e};function p(e,t,r,i){var s,c;null!==(s=(c=e.opts.code).formats)&&void 0!==s||(c.formats=u._(n||(n=o(['require("ajv-formats/dist/formats").',""])),i));var l,f=a(t);try{for(f.s();!(l=f.n()).done;){var d=l.value;e.addFormat(d,r[d])}}catch(p){f.e(p)}finally{f.f()}}d.get=function(e){var t=("fast"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"full")?s.fastFormats:s.fullFormats)[e];if(!t)throw new Error('Unknown format "'.concat(e,'"'));return t},e.exports=t=d,Object.defineProperty(t,"__esModule",{value:!0}),t.default=d},39223:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;var d=r(60235),p=r(26774),h=p.operators,m={formatMaximum:{okStr:"<=",ok:h.LTE,fail:h.GT},formatMinimum:{okStr:">=",ok:h.GTE,fail:h.LT},formatExclusiveMaximum:{okStr:"<",ok:h.LT,fail:h.GTE},formatExclusiveMinimum:{okStr:">",ok:h.GT,fail:h.LTE}},v={message:function(e){var t=e.keyword,r=e.schemaCode;return p.str(n||(n=f(["should be "," ",""])),m[t].okStr,r)},params:function(e){var t=e.keyword,r=e.schemaCode;return p._(a||(a=f(["{comparison: ",", limit: ","}"])),m[t].okStr,r)}};t.formatLimitDefinition={keyword:Object.keys(m),type:"string",schemaType:"string",$data:!0,error:v,code:function(e){var t=e.gen,r=e.data,n=e.schemaCode,a=e.keyword,h=e.it,v=h.opts,_=h.self;if(v.validateFormats){var y=new d.KeywordCxt(h,_.RULES.all.format.definition,"format");y.$data?function(){var r=t.scopeValue("formats",{ref:_.formats,code:v.code.formats}),n=t.const("fmt",p._(o||(o=f(["","[","]"])),r,y.schemaCode));e.fail$data(p.or(p._(i||(i=f(["typeof ",' != "object"'])),n),p._(s||(s=f([""," instanceof RegExp"])),n),p._(c||(c=f(["typeof ",'.compare != "function"'])),n),g(n)))}():function(){var r=y.schema,n=_.formats[r];if(!n||!0===n)return;if("object"!=typeof n||n instanceof RegExp||"function"!=typeof n.compare)throw new Error('"'.concat(a,'": format "').concat(r,'" does not define "compare" function'));var o=t.scopeValue("formats",{key:r,ref:n,code:v.code.formats?p._(u||(u=f(["","",""])),v.code.formats,p.getProperty(r)):void 0});e.fail$data(g(o))}()}function g(e){return p._(l||(l=f(["",".compare(",", ",") "," 0"])),e,r,n,m[a].fail)}},dependencies:["format"]};t.default=function(e){return e.addKeyword(t.formatLimitDefinition),e}},60235:function(e,t,r){"use strict";var n=r(56690).default,a=r(89728).default,o=r(41588).default,i=r(73808).default,s=r(61655).default,c=r(26389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var u=r(98549),l=r(77848),f=r(68819),d=r(90074),p=["/properties"],h="http://json-schema.org/draft-07/schema",m=function(e){s(r,e);var t=c(r);function r(){return n(this,r),t.apply(this,arguments)}return a(r,[{key:"_addVocabularies",value:function(){var e=this;o(i(r.prototype),"_addVocabularies",this).call(this),l.default.forEach((function(t){return e.addVocabulary(t)})),this.opts.discriminator&&this.addKeyword(f.default)}},{key:"_addDefaultMetaSchema",value:function(){if(o(i(r.prototype),"_addDefaultMetaSchema",this).call(this),this.opts.meta){var e=this.opts.$data?this.$dataMetaSchema(d,p):d;this.addMetaSchema(e,h,!1),this.refs["http://json-schema.org/schema"]=h}}},{key:"defaultMeta",value:function(){return this.opts.defaultMeta=o(i(r.prototype),"defaultMeta",this).call(this)||(this.getSchema(h)?h:void 0)}}]),r}(u.default);e.exports=t=m,Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var v=r(67733);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return v.KeywordCxt}});var _=r(26774);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return _._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return _.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return _.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return _.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return _.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return _.CodeGen}});var y=r(52605);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return y.default}});var g=r(86594);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return g.default}})},65823:function(e,t,r){"use strict";var n,a,o=r(59400).default,i=r(861).default,s=r(38416).default,c=r(61655).default,u=r(26389).default,l=r(89728).default,f=r(56690).default;Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;var d=l((function e(){f(this,e)}));t._CodeOrName=d,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var p=function(e){c(n,e);var r=u(n);function n(e){var a;if(f(this,n),a=r.call(this),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");return a.str=e,a}return l(n,[{key:"toString",value:function(){return this.str}},{key:"emptyStr",value:function(){return!1}},{key:"names",get:function(){return s({},this.str,1)}}]),n}(d);t.Name=p;var h=function(e){c(r,e);var t=u(r);function r(e){var n;return f(this,r),(n=t.call(this))._items="string"===typeof e?[e]:e,n}return l(r,[{key:"toString",value:function(){return this.str}},{key:"emptyStr",value:function(){if(this._items.length>1)return!1;var e=this._items[0];return""===e||'""'===e}},{key:"str",get:function(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce((function(e,t){return"".concat(e).concat(t)}),"")}},{key:"names",get:function(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce((function(e,t){return t instanceof p&&(e[t.str]=(e[t.str]||0)+1),e}),{})}}]),r}(d);function m(e){for(var t=[e[0]],r=0,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];for(;r<a.length;)y(t,a[r]),t.push(e[++r]);return new h(t)}t._Code=h,t.nil=new h(""),t._=m;var v=new h("+");function _(e){for(var t=[b(e[0])],r=0,n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];for(;r<a.length;)t.push(v),y(t,a[r]),t.push(v,b(e[++r]));return function(e){var t=1;for(;t<e.length-1;){if(e[t]===v){var r=g(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}(t),new h(t)}function y(e,t){var r;t instanceof h?e.push.apply(e,i(t._items)):t instanceof p?e.push(t):e.push("number"==typeof(r=t)||"boolean"==typeof r||null===r?r:b(Array.isArray(r)?r.join(","):r))}function g(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof p||'"'!==e[e.length-1])return;return"string"!=typeof t?"".concat(e.slice(0,-1)).concat(t,'"'):'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof p?void 0:'"'.concat(e).concat(t.slice(1))}function b(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=_,t.addCodeArg=y,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:_(n||(n=o(["","",""])),e,t)},t.stringify=function(e){return new h(b(e))},t.safeStringify=b,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new h(".".concat(e)):m(a||(a=o(["[","]"])),e)},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new h("".concat(e));throw new Error("CodeGen: invalid export name: ".concat(e,", use explicit $id name mapping"))},t.regexpCode=function(e){return new h(e.toString())}},26774:function(e,t,r){"use strict";var n,a,o,i,s,c,u=r(59400).default,l=r(27424).default,f=r(41588).default,d=r(73808).default,p=r(861).default,h=r(42122).default,m=r(61655).default,v=r(26389).default,_=r(56690).default,y=r(89728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;var g=r(65823),b=r(80824),w=r(65823);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return w._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return w.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return w.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return w.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return w.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return w.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return w.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return w.Name}});var k=r(80824);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return k.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return k.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return k.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return k.varKinds}}),t.operators={GT:new g._Code(">"),GTE:new g._Code(">="),LT:new g._Code("<"),LTE:new g._Code("<="),EQ:new g._Code("==="),NEQ:new g._Code("!=="),NOT:new g._Code("!"),OR:new g._Code("||"),AND:new g._Code("&&"),ADD:new g._Code("+")};var x=function(){function e(){_(this,e)}return y(e,[{key:"optimizeNodes",value:function(){return this}},{key:"optimizeNames",value:function(e,t){return this}}]),e}(),j=function(e){m(r,e);var t=v(r);function r(e,n,a){var o;return _(this,r),(o=t.call(this)).varKind=e,o.name=n,o.rhs=a,o}return y(r,[{key:"render",value:function(e){var t=e.es5,r=e._n,n=t?b.varKinds.var:this.varKind,a=void 0===this.rhs?"":" = ".concat(this.rhs);return"".concat(n," ").concat(this.name).concat(a,";")+r}},{key:"optimizeNames",value:function(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=G(this.rhs,e,t)),this}},{key:"names",get:function(){return this.rhs instanceof g._CodeOrName?this.rhs.names:{}}}]),r}(x),E=function(e){m(r,e);var t=v(r);function r(e,n,a){var o;return _(this,r),(o=t.call(this)).lhs=e,o.rhs=n,o.sideEffects=a,o}return y(r,[{key:"render",value:function(e){var t=e._n;return"".concat(this.lhs," = ").concat(this.rhs,";")+t}},{key:"optimizeNames",value:function(e,t){if(!(this.lhs instanceof g.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=G(this.rhs,e,t),this}},{key:"names",get:function(){return H(this.lhs instanceof g.Name?{}:h({},this.lhs.names),this.rhs)}}]),r}(x),S=function(e){m(r,e);var t=v(r);function r(e,n,a,o){var i;return _(this,r),(i=t.call(this,e,a,o)).op=n,i}return y(r,[{key:"render",value:function(e){var t=e._n;return"".concat(this.lhs," ").concat(this.op,"= ").concat(this.rhs,";")+t}}]),r}(E),O=function(e){m(r,e);var t=v(r);function r(e){var n;return _(this,r),(n=t.call(this)).label=e,n.names={},n}return y(r,[{key:"render",value:function(e){var t=e._n;return"".concat(this.label,":")+t}}]),r}(x),P=function(e){m(r,e);var t=v(r);function r(e){var n;return _(this,r),(n=t.call(this)).label=e,n.names={},n}return y(r,[{key:"render",value:function(e){var t=e._n,r=this.label?" ".concat(this.label):"";return"break".concat(r,";")+t}}]),r}(x),A=function(e){m(r,e);var t=v(r);function r(e){var n;return _(this,r),(n=t.call(this)).error=e,n}return y(r,[{key:"render",value:function(e){var t=e._n;return"throw ".concat(this.error,";")+t}},{key:"names",get:function(){return this.error.names}}]),r}(x),T=function(e){m(r,e);var t=v(r);function r(e){var n;return _(this,r),(n=t.call(this)).code=e,n}return y(r,[{key:"render",value:function(e){var t=e._n;return"".concat(this.code,";")+t}},{key:"optimizeNodes",value:function(){return"".concat(this.code)?this:void 0}},{key:"optimizeNames",value:function(e,t){return this.code=G(this.code,e,t),this}},{key:"names",get:function(){return this.code instanceof g._CodeOrName?this.code.names:{}}}]),r}(x),C=function(e){m(r,e);var t=v(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _(this,r),(e=t.call(this)).nodes=n,e}return y(r,[{key:"render",value:function(e){return this.nodes.reduce((function(t,r){return t+r.render(e)}),"")}},{key:"optimizeNodes",value:function(){for(var e=this.nodes,t=e.length;t--;){var r=e[t].optimizeNodes();Array.isArray(r)?e.splice.apply(e,[t,1].concat(p(r))):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}},{key:"optimizeNames",value:function(e,t){for(var r=this.nodes,n=r.length;n--;){var a=r[n];a.optimizeNames(e,t)||(J(e,a.names),r.splice(n,1))}return r.length>0?this:void 0}},{key:"names",get:function(){return this.nodes.reduce((function(e,t){return K(e,t.names)}),{})}}]),r}(x),R=function(e){m(r,e);var t=v(r);function r(){return _(this,r),t.apply(this,arguments)}return y(r,[{key:"render",value:function(e){return"{"+e._n+f(d(r.prototype),"render",this).call(this,e)+"}"+e._n}}]),r}(C),I=function(e){m(r,e);var t=v(r);function r(){return _(this,r),t.apply(this,arguments)}return y(r)}(C),D=function(e){m(r,e);var t=v(r);function r(){return _(this,r),t.apply(this,arguments)}return y(r)}(R);D.kind="else";var F=function(e){m(r,e);var t=v(r);function r(e,n){var a;return _(this,r),(a=t.call(this,n)).condition=e,a}return y(r,[{key:"render",value:function(e){var t="if(".concat(this.condition,")")+f(d(r.prototype),"render",this).call(this,e);return this.else&&(t+="else "+this.else.render(e)),t}},{key:"optimizeNodes",value:function(){f(d(r.prototype),"optimizeNodes",this).call(this);var e=this.condition;if(!0===e)return this.nodes;var t=this.else;if(t){var n=t.optimizeNodes();t=this.else=Array.isArray(n)?new D(n):n}return t?!1===e?t instanceof r?t:t.nodes:this.nodes.length?this:new r(Q(e),t instanceof r?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}},{key:"optimizeNames",value:function(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),f(d(r.prototype),"optimizeNames",this).call(this,e,t)||this.else)return this.condition=G(this.condition,e,t),this}},{key:"names",get:function(){var e=f(d(r.prototype),"names",this);return H(e,this.condition),this.else&&K(e,this.else.names),e}}]),r}(R);F.kind="if";var N=function(e){m(r,e);var t=v(r);function r(){return _(this,r),t.apply(this,arguments)}return y(r)}(R);N.kind="for";var M=function(e){m(r,e);var t=v(r);function r(e){var n;return _(this,r),(n=t.call(this)).iteration=e,n}return y(r,[{key:"render",value:function(e){return"for(".concat(this.iteration,")")+f(d(r.prototype),"render",this).call(this,e)}},{key:"optimizeNames",value:function(e,t){if(f(d(r.prototype),"optimizeNames",this).call(this,e,t))return this.iteration=G(this.iteration,e,t),this}},{key:"names",get:function(){return K(f(d(r.prototype),"names",this),this.iteration.names)}}]),r}(N),U=function(e){m(r,e);var t=v(r);function r(e,n,a,o){var i;return _(this,r),(i=t.call(this)).varKind=e,i.name=n,i.from=a,i.to=o,i}return y(r,[{key:"render",value:function(e){var t=e.es5?b.varKinds.var:this.varKind,n=this.name,a=this.from,o=this.to;return"for(".concat(t," ").concat(n,"=").concat(a,"; ").concat(n,"<").concat(o,"; ").concat(n,"++)")+f(d(r.prototype),"render",this).call(this,e)}},{key:"names",get:function(){var e=H(f(d(r.prototype),"names",this),this.from);return H(e,this.to)}}]),r}(N),q=function(e){m(r,e);var t=v(r);function r(e,n,a,o){var i;return _(this,r),(i=t.call(this)).loop=e,i.varKind=n,i.name=a,i.iterable=o,i}return y(r,[{key:"render",value:function(e){return"for(".concat(this.varKind," ").concat(this.name," ").concat(this.loop," ").concat(this.iterable,")")+f(d(r.prototype),"render",this).call(this,e)}},{key:"optimizeNames",value:function(e,t){if(f(d(r.prototype),"optimizeNames",this).call(this,e,t))return this.iterable=G(this.iterable,e,t),this}},{key:"names",get:function(){return K(f(d(r.prototype),"names",this),this.iterable.names)}}]),r}(N),L=function(e){m(r,e);var t=v(r);function r(e,n,a){var o;return _(this,r),(o=t.call(this)).name=e,o.args=n,o.async=a,o}return y(r,[{key:"render",value:function(e){var t=this.async?"async ":"";return"".concat(t,"function ").concat(this.name,"(").concat(this.args,")")+f(d(r.prototype),"render",this).call(this,e)}}]),r}(R);L.kind="func";var $=function(e){m(r,e);var t=v(r);function r(){return _(this,r),t.apply(this,arguments)}return y(r,[{key:"render",value:function(e){return"return "+f(d(r.prototype),"render",this).call(this,e)}}]),r}(C);$.kind="return";var W=function(e){m(r,e);var t=v(r);function r(){return _(this,r),t.apply(this,arguments)}return y(r,[{key:"render",value:function(e){var t="try"+f(d(r.prototype),"render",this).call(this,e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}},{key:"optimizeNodes",value:function(){var e,t;return f(d(r.prototype),"optimizeNodes",this).call(this),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}},{key:"optimizeNames",value:function(e,t){var n,a;return f(d(r.prototype),"optimizeNames",this).call(this,e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(a=this.finally)||void 0===a||a.optimizeNames(e,t),this}},{key:"names",get:function(){var e=f(d(r.prototype),"names",this);return this.catch&&K(e,this.catch.names),this.finally&&K(e,this.finally.names),e}}]),r}(R),B=function(e){m(r,e);var t=v(r);function r(e){var n;return _(this,r),(n=t.call(this)).error=e,n}return y(r,[{key:"render",value:function(e){return"catch(".concat(this.error,")")+f(d(r.prototype),"render",this).call(this,e)}}]),r}(R);B.kind="catch";var z=function(e){m(r,e);var t=v(r);function r(){return _(this,r),t.apply(this,arguments)}return y(r,[{key:"render",value:function(e){return"finally"+f(d(r.prototype),"render",this).call(this,e)}}]),r}(R);z.kind="finally";var V=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(this,e),this._values={},this._blockStarts=[],this._constants={},this.opts=h(h({},r),{},{_n:r.lines?"\n":""}),this._extScope=t,this._scope=new b.Scope({parent:t}),this._nodes=[new I]}return y(e,[{key:"toString",value:function(){return this._root.render(this.opts)}},{key:"name",value:function(e){return this._scope.name(e)}},{key:"scopeName",value:function(e){return this._extScope.name(e)}},{key:"scopeValue",value:function(e,t){var r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}},{key:"getScopeValue",value:function(e,t){return this._extScope.getValue(e,t)}},{key:"scopeRefs",value:function(e){return this._extScope.scopeRefs(e,this._values)}},{key:"scopeCode",value:function(){return this._extScope.scopeCode(this._values)}},{key:"_def",value:function(e,t,r,n){var a=this._scope.toName(t);return void 0!==r&&n&&(this._constants[a.str]=r),this._leafNode(new j(e,a,r)),a}},{key:"const",value:function(e,t,r){return this._def(b.varKinds.const,e,t,r)}},{key:"let",value:function(e,t,r){return this._def(b.varKinds.let,e,t,r)}},{key:"var",value:function(e,t,r){return this._def(b.varKinds.var,e,t,r)}},{key:"assign",value:function(e,t,r){return this._leafNode(new E(e,t,r))}},{key:"add",value:function(e,r){return this._leafNode(new S(e,t.operators.ADD,r))}},{key:"code",value:function(e){return"function"==typeof e?e():e!==g.nil&&this._leafNode(new T(e)),this}},{key:"object",value:function(){for(var e=["{"],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var a=0,o=r;a<o.length;a++){var i=l(o[a],2),s=i[0],c=i[1];e.length>1&&e.push(","),e.push(s),(s!==c||this.opts.es5)&&(e.push(":"),(0,g.addCodeArg)(e,c))}return e.push("}"),new g._Code(e)}},{key:"if",value:function(e,t,r){if(this._blockNode(new F(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}},{key:"elseIf",value:function(e){return this._elseNode(new F(e))}},{key:"else",value:function(){return this._elseNode(new D)}},{key:"endIf",value:function(){return this._endBlockNode(F,D)}},{key:"_for",value:function(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}},{key:"for",value:function(e,t){return this._for(new M(e),t)}},{key:"forRange",value:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.opts.es5?b.varKinds.var:b.varKinds.let,o=this._scope.toName(e);return this._for(new U(a,o,t,r),(function(){return n(o)}))}},{key:"forOf",value:function(e,t,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b.varKinds.const,s=this._scope.toName(e);if(this.opts.es5){var c=t instanceof g.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,g._)(n||(n=u(["",".length"])),c),(function(e){o.var(s,(0,g._)(a||(a=u(["","[","]"])),c,e)),r(s)}))}return this._for(new q("of",i,s,t),(function(){return r(s)}))}},{key:"forIn",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.es5?b.varKinds.var:b.varKinds.const;if(this.opts.ownProperties)return this.forOf(e,(0,g._)(o||(o=u(["Object.keys(",")"])),t),r);var a=this._scope.toName(e);return this._for(new q("in",n,a,t),(function(){return r(a)}))}},{key:"endFor",value:function(){return this._endBlockNode(N)}},{key:"label",value:function(e){return this._leafNode(new O(e))}},{key:"break",value:function(e){return this._leafNode(new P(e))}},{key:"return",value:function(e){var t=new $;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode($)}},{key:"try",value:function(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');var n=new W;if(this._blockNode(n),this.code(e),t){var a=this.name("e");this._currNode=n.catch=new B(a),t(a)}return r&&(this._currNode=n.finally=new z,this.code(r)),this._endBlockNode(B,z)}},{key:"throw",value:function(e){return this._leafNode(new A(e))}},{key:"block",value:function(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}},{key:"endBlock",value:function(e){var t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");var r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error("CodeGen: wrong number of nodes: ".concat(r," vs ").concat(e," expected"));return this._nodes.length=t,this}},{key:"func",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.nil,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return this._blockNode(new L(e,t,r)),n&&this.code(n).endFunc(),this}},{key:"endFunc",value:function(){return this._endBlockNode(L)}},{key:"optimize",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}},{key:"_leafNode",value:function(e){return this._currNode.nodes.push(e),this}},{key:"_blockNode",value:function(e){this._currNode.nodes.push(e),this._nodes.push(e)}},{key:"_endBlockNode",value:function(e,t){var r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error('CodeGen: not in block "'.concat(t?"".concat(e.kind,"/").concat(t.kind):e.kind,'"'))}},{key:"_elseNode",value:function(e){var t=this._currNode;if(!(t instanceof F))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}},{key:"_root",get:function(){return this._nodes[0]}},{key:"_currNode",get:function(){var e=this._nodes;return e[e.length-1]},set:function(e){var t=this._nodes;t[t.length-1]=e}}]),e}();function K(e,t){for(var r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function H(e,t){return t instanceof g._CodeOrName?K(e,t.names):e}function G(e,t,r){return e instanceof g.Name?n(e):function(e){return e instanceof g._Code&&e._items.some((function(e){return e instanceof g.Name&&1===t[e.str]&&void 0!==r[e.str]}))}(e)?new g._Code(e._items.reduce((function(e,t){return t instanceof g.Name&&(t=n(t)),t instanceof g._Code?e.push.apply(e,p(t._items)):e.push(t),e}),[])):e;function n(e){var n=r[e.str];return void 0===n||1!==t[e.str]?e:(delete t[e.str],n)}}function J(e,t){for(var r in t)e[r]=(e[r]||0)-(t[r]||0)}function Q(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:(0,g._)(i||(i=u(["!",""])),ee(e))}t.CodeGen=V,t.not=Q;var Y=Z(t.operators.AND);t.and=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(Y)};var X=Z(t.operators.OR);function Z(e){return function(t,r){return t===g.nil?r:r===g.nil?t:(0,g._)(s||(s=u([""," "," ",""])),ee(t),e,ee(r))}}function ee(e){return e instanceof g.Name?e:(0,g._)(c||(c=u(["(",")"])),e)}t.or=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(X)}},80824:function(e,t,r){"use strict";var n,a,o,i,s,c=r(42122).default,u=r(59400).default,l=r(89728).default,f=r(56690).default,d=r(61655).default,p=r(26389).default,h=r(33496).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;var m,v=r(65823),_=function(e){d(r,e);var t=p(r);function r(e){var n;return f(this,r),(n=t.call(this,'CodeGen: "code" for '.concat(e," not defined"))).value=e.value,n}return l(r)}(h(Error));!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(m=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new v.Name("const"),let:new v.Name("let"),var:new v.Name("var")};var y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.prefixes,n=t.parent;f(this,e),this._names={},this._prefixes=r,this._parent=n}return l(e,[{key:"toName",value:function(e){return e instanceof v.Name?e:this.name(e)}},{key:"name",value:function(e){return new v.Name(this._newName(e))}},{key:"_newName",value:function(e){var t=this._names[e]||this._nameGroup(e);return"".concat(e).concat(t.index++)}},{key:"_nameGroup",value:function(e){var t,r;if((null===(r=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===r?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error('CodeGen: prefix "'.concat(e,'" is not allowed in this scope'));return this._names[e]={prefix:e,index:0}}}]),e}();t.Scope=y;var g=function(e){d(r,e);var t=p(r);function r(e,n){var a;return f(this,r),(a=t.call(this,n)).prefix=e,a}return l(r,[{key:"setValue",value:function(e,t){var r=t.property,a=t.itemIndex;this.value=e,this.scopePath=(0,v._)(n||(n=u([".","[","]"])),new v.Name(r),a)}}]),r}(v.Name);t.ValueScopeName=g;var b=(0,v._)(a||(a=u(["\n"],["\\n"]))),w=function(e){d(n,e);var r=p(n);function n(e){var t;return f(this,n),(t=r.call(this,e))._values={},t._scope=e.scope,t.opts=c(c({},e),{},{_n:e.lines?b:v.nil}),t}return l(n,[{key:"get",value:function(){return this._scope}},{key:"name",value:function(e){return new g(e,this._newName(e))}},{key:"value",value:function(e,t){var r;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");var n=this.toName(e),a=n.prefix,o=null!==(r=t.key)&&void 0!==r?r:t.ref,i=this._values[a];if(i){var s=i.get(o);if(s)return s}else i=this._values[a]=new Map;i.set(o,n);var c=this._scope[a]||(this._scope[a]=[]),u=c.length;return c[u]=t.ref,n.setValue(t,{property:a,itemIndex:u}),n}},{key:"getValue",value:function(e,t){var r=this._values[e];if(r)return r.get(t)}},{key:"scopeRefs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._values;return this._reduceValues(t,(function(t){if(void 0===t.scopePath)throw new Error('CodeGen: name "'.concat(t,'" has no value'));return(0,v._)(o||(o=u(["","",""])),e,t.scopePath)}))}},{key:"scopeCode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._values,t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return this._reduceValues(e,(function(e){if(void 0===e.value)throw new Error('CodeGen: name "'.concat(e,'" has no value'));return e.value.code}),t,r)}},{key:"_reduceValues",value:function(e,r){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,c=v.nil,l=function(){var l=e[f];if(!l)return 1;var d=a[f]=a[f]||new Map;l.forEach((function(e){if(!d.has(e)){d.set(e,m.Started);var a=r(e);if(a){var l=n.opts.es5?t.varKinds.var:t.varKinds.const;c=(0,v._)(i||(i=u(["",""," "," = ",";",""])),c,l,e,a,n.opts._n)}else{if(!(a=null===o||void 0===o?void 0:o(e)))throw new _(e);c=(0,v._)(s||(s=u(["","","",""])),c,a,n.opts._n)}d.set(e,m.Completed)}}))};for(var f in e)l();return c}}]),n}(y);t.ValueScope=w},36304:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p,h,m,v,_,y,g,b,w,k,x,j,E,S,O,P=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;var A=r(26774),T=r(81111),C=r(40052);function R(e,t){var r=e.const("err",t);e.if((0,A._)(v||(v=P([""," === null"])),C.default.vErrors),(function(){return e.assign(C.default.vErrors,(0,A._)(_||(_=P(["[","]"])),r))}),(0,A._)(y||(y=P(["",".push(",")"])),C.default.vErrors,r)),e.code((0,A._)(g||(g=P(["","++"])),C.default.errors))}function I(e,t){var r=e.gen,n=e.validateName;e.schemaEnv.$async?r.throw((0,A._)(b||(b=P(["new ","(",")"])),e.ValidationError,t)):(r.assign((0,A._)(w||(w=P(["",".errors"])),n),t),r.return(!1))}t.keywordError={message:function(e){var t=e.keyword;return(0,A.str)(n||(n=P(['must pass "','" keyword validation'])),t)}},t.keyword$DataError={message:function(e){var t=e.keyword,r=e.schemaType;return r?(0,A.str)(a||(a=P(['"','" keyword must be '," ($data)"])),t,r):(0,A.str)(o||(o=P(['"','" keyword is invalid ($data)'])),t)}},t.reportError=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keywordError,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=e.it,s=o.gen,c=o.compositeRule,u=o.allErrors,l=F(e,r,n);(null!==a&&void 0!==a?a:c||u)?R(s,l):I(o,(0,A._)(i||(i=P(["[","]"])),l))},t.reportExtraError=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.keywordError,n=arguments.length>2?arguments[2]:void 0,a=e.it,o=a.gen,i=a.compositeRule,s=a.allErrors;R(o,F(e,r,n)),i||s||I(a,C.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(C.default.errors,t),e.if((0,A._)(s||(s=P([""," !== null"])),C.default.vErrors),(function(){return e.if(t,(function(){return e.assign((0,A._)(c||(c=P(["",".length"])),C.default.vErrors),t)}),(function(){return e.assign(C.default.vErrors,null)}))}))},t.extendErrors=function(e){var t=e.gen,r=e.keyword,n=e.schemaValue,a=e.data,o=e.errsCount,i=e.it;if(void 0===o)throw new Error("ajv implementation error");var s=t.name("err");t.forRange("i",o,C.default.errors,(function(e){t.const(s,(0,A._)(u||(u=P(["","[","]"])),C.default.vErrors,e)),t.if((0,A._)(l||(l=P(["",".instancePath === undefined"])),s),(function(){return t.assign((0,A._)(f||(f=P(["",".instancePath"])),s),(0,A.strConcat)(C.default.instancePath,i.errorPath))})),t.assign((0,A._)(d||(d=P(["",".schemaPath"])),s),(0,A.str)(p||(p=P(["","/",""])),i.errSchemaPath,r)),i.opts.verbose&&(t.assign((0,A._)(h||(h=P(["",".schema"])),s),n),t.assign((0,A._)(m||(m=P(["",".data"])),s),a))}))};var D={keyword:new A.Name("keyword"),schemaPath:new A.Name("schemaPath"),params:new A.Name("params"),propertyName:new A.Name("propertyName"),message:new A.Name("message"),schema:new A.Name("schema"),parentSchema:new A.Name("parentSchema")};function F(e,t,r){return!1===e.it.createErrors?(0,A._)(k||(k=P(["{}"]))):function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.gen,a=e.it,o=[N(a,r),M(e,r)];return function(e,t,r){var n=t.params,a=t.message,o=e.keyword,i=e.data,s=e.schemaValue,c=e.it,u=c.opts,l=c.propertyName,f=c.topSchemaRef,d=c.schemaPath;r.push([D.keyword,o],[D.params,"function"==typeof n?n(e):n||(0,A._)(S||(S=P(["{}"])))]),u.messages&&r.push([D.message,"function"==typeof a?a(e):a]);u.verbose&&r.push([D.schema,s],[D.parentSchema,(0,A._)(O||(O=P(["","",""])),f,d)],[C.default.data,i]);l&&r.push([D.propertyName,l])}(e,t,o),n.object.apply(n,o)}(e,t,r)}function N(e,t){var r=e.errorPath,n=t.instancePath,a=n?(0,A.str)(x||(x=P(["","",""])),r,(0,T.getErrorPath)(n,T.Type.Str)):r;return[C.default.instancePath,(0,A.strConcat)(C.default.instancePath,a)]}function M(e,t){var r=e.keyword,n=e.it.errSchemaPath,a=t.schemaPath,o=t.parentSchema?n:(0,A.str)(j||(j=P(["","/",""])),n,r);return a&&(o=(0,A.str)(E||(E=P(["","",""])),o,(0,T.getErrorPath)(a,T.Type.Str))),[D.schemaPath,o]}},33393:function(t,r,n){"use strict";var a,o,i=n(74704).default,s=n(59400).default,c=n(89728).default,u=n(56690).default;Object.defineProperty(r,"__esModule",{value:!0}),r.resolveSchema=r.getCompilingSchema=r.resolveRef=r.compileSchema=r.SchemaEnv=void 0;var l=n(26774),f=n(52605),d=n(40052),p=n(43696),h=n(81111),m=n(67733),v=c((function e(t){var r,n;u(this,e),this.refs={},this.dynamicAnchors={},"object"==typeof t.schema&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=null!==(r=t.baseId)&&void 0!==r?r:(0,p.normalizeId)(null===n||void 0===n?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=null===n||void 0===n?void 0:n.$async,this.refs={}}));function _(t){var r=g.call(this,t);if(r)return r;var n,i=(0,p.getFullPath)(this.opts.uriResolver,t.root.baseId),c=this.opts.code,u=c.es5,h=c.lines,v=this.opts.ownProperties,_=new l.CodeGen(this.scope,{es5:u,lines:h,ownProperties:v});t.$async&&(n=_.scopeValue("Error",{ref:f.default,code:(0,l._)(a||(a=s(['require("ajv/dist/runtime/validation_error").default'])))}));var y=_.scopeName("validate");t.validateName=y;var b,w={gen:_,allErrors:this.opts.allErrors,data:d.default.data,parentData:d.default.parentData,parentDataProperty:d.default.parentDataProperty,dataNames:[d.default.data],dataPathArr:[l.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:_.scopeValue("schema",!0===this.opts.code.source?{ref:t.schema,code:(0,l.stringify)(t.schema)}:{ref:t.schema}),validateName:y,ValidationError:n,schema:t.schema,schemaEnv:t,rootId:i,baseId:t.baseId||i,schemaPath:l.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,l._)(o||(o=s(['""']))),opts:this.opts,self:this};try{this._compilations.add(t),(0,m.validateFunctionCode)(w),_.optimize(this.opts.code.optimize);var k=_.toString();b="".concat(_.scopeRefs(d.default.scope),"return ").concat(k),this.opts.code.process&&(b=this.opts.code.process(b,t));var x=new Function("".concat(d.default.self),"".concat(d.default.scope),b)(this,this.scope.get());if(this.scope.value(y,{ref:x}),x.errors=null,x.schema=t.schema,x.schemaEnv=t,t.$async&&(x.$async=!0),!0===this.opts.code.source&&(x.source={validateName:y,validateCode:k,scopeValues:_._values}),this.opts.unevaluated){var j=w.props,E=w.items;x.evaluated={props:j instanceof l.Name?void 0:j,items:E instanceof l.Name?void 0:E,dynamicProps:j instanceof l.Name,dynamicItems:E instanceof l.Name},x.source&&(x.source.evaluated=(0,l.stringify)(x.evaluated))}return t.validate=x,t}catch(e){throw delete t.validate,delete t.validateName,b&&this.logger.error("Error compiling schema, function code:",b),e}finally{this._compilations.delete(t)}}function y(e){return(0,p.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:_.call(this,e)}function g(e){var t,r,n,a=i(this._compilations);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(n=e,(r=o).schema===n.schema&&r.root===n.root&&r.baseId===n.baseId)return o}}catch(s){a.e(s)}finally{a.f()}}function b(e,t){for(var r;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||w.call(this,e,t)}function w(e,t){var r=this.opts.uriResolver.parse(t),n=(0,p._getFullPath)(this.opts.uriResolver,r),a=(0,p.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return x.call(this,r,e);var o=(0,p.normalizeId)(n),i=this.refs[o]||this.schemas[o];if("string"==typeof i){var s=w.call(this,e,i);if("object"!==typeof(null===s||void 0===s?void 0:s.schema))return;return x.call(this,r,s)}if("object"===typeof(null===i||void 0===i?void 0:i.schema)){if(i.validate||_.call(this,i),o===(0,p.normalizeId)(t)){var c=i.schema,u=this.opts.schemaId,l=c[u];return l&&(a=(0,p.resolveUrl)(this.opts.uriResolver,a,l)),new v({schema:c,schemaId:u,root:e,baseId:a})}return x.call(this,r,i)}}r.SchemaEnv=v,r.compileSchema=_,r.resolveRef=function(e,t,r){var n;r=(0,p.resolveUrl)(this.opts.uriResolver,t,r);var a=e.refs[r];if(a)return a;var o=b.call(this,e,r);if(void 0===o){var i=null===(n=e.localRefs)||void 0===n?void 0:n[r],s=this.opts.schemaId;i&&(o=new v({schema:i,schemaId:s,root:e,baseId:t}))}return void 0!==o?e.refs[r]=y.call(this,o):void 0},r.getCompilingSchema=g,r.resolveSchema=w;var k=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function x(e,t){var r,n=t.baseId,a=t.schema,o=t.root;if("/"===(null===(r=e.fragment)||void 0===r?void 0:r[0])){var s,c,u=i(e.fragment.slice(1).split("/"));try{for(u.s();!(s=u.n()).done;){var l=s.value;if("boolean"===typeof a)return;var f=a[(0,h.unescapeFragment)(l)];if(void 0===f)return;var d="object"===typeof(a=f)&&a[this.opts.schemaId];!k.has(l)&&d&&(n=(0,p.resolveUrl)(this.opts.uriResolver,n,d))}}catch(y){u.e(y)}finally{u.f()}if("boolean"!=typeof a&&a.$ref&&!(0,h.schemaHasRulesButRef)(a,this.RULES)){var m=(0,p.resolveUrl)(this.opts.uriResolver,n,a.$ref);c=w.call(this,o,m)}var _=this.opts.schemaId;return(c=c||new v({schema:a,schemaId:_,root:o,baseId:n})).schema!==c.root.schema?c:void 0}}},40052:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(26774),a={data:new n.Name("data"),valCxt:new n.Name("valCxt"),instancePath:new n.Name("instancePath"),parentData:new n.Name("parentData"),parentDataProperty:new n.Name("parentDataProperty"),rootData:new n.Name("rootData"),dynamicAnchors:new n.Name("dynamicAnchors"),vErrors:new n.Name("vErrors"),errors:new n.Name("errors"),this:new n.Name("this"),self:new n.Name("self"),scope:new n.Name("scope"),json:new n.Name("json"),jsonPos:new n.Name("jsonPos"),jsonLen:new n.Name("jsonLen"),jsonPart:new n.Name("jsonPart")};t.default=a},86594:function(e,t,r){"use strict";var n=r(89728).default,a=r(56690).default,o=r(61655).default,i=r(26389).default,s=r(33496).default;Object.defineProperty(t,"__esModule",{value:!0});var c=r(43696),u=function(e){o(r,e);var t=i(r);function r(e,n,o,i){var s;return a(this,r),(s=t.call(this,i||"can't resolve reference ".concat(o," from id ").concat(n))).missingRef=(0,c.resolveUrl)(e,n,o),s.missingSchema=(0,c.normalizeId)((0,c.getFullPath)(e,s.missingRef)),s}return n(r)}(s(Error));t.default=u},43696:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;var n=r(81111),a=r(78262),o=r(45713),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"boolean"==typeof e||(!0===t?!c(e):!!t&&u(e)<=t)};var s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(var t in e){if(s.has(t))return!0;var r=e[t];if(Array.isArray(r)&&r.some(c))return!0;if("object"==typeof r&&c(r))return!0}return!1}function u(e){var t=0;for(var r in e){if("$ref"===r)return 1/0;if(t++,!i.has(r)&&("object"==typeof e[r]&&(0,n.eachItem)(e[r],(function(e){return t+=u(e)})),t===1/0))return 1/0}return t}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!1!==(arguments.length>2?arguments[2]:void 0)&&(t=p(t));var r=e.parse(t);return f(e,r)}function f(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=l,t._getFullPath=f;var d=/#\/?$/;function p(e){return e?e.replace(d,""):""}t.normalizeId=p,t.resolveUrl=function(e,t,r){return r=p(r),e.resolve(t,r)};var h=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){var r=this;if("boolean"==typeof e)return{};var n=this.opts,i=n.schemaId,s=n.uriResolver,c=p(e[i]||t),u={"":c},f=l(s,c,!1),d={},m=new Set;return o(e,{allKeys:!0},(function(e,t,n,a){if(void 0!==a){var o=f+t,s=u[a];"string"==typeof e[i]&&(s=c.call(r,e[i])),l.call(r,e.$anchor),l.call(r,e.$dynamicAnchor),u[t]=s}function c(t){var r=this.opts.uriResolver.resolve;if(t=p(s?r(s,t):t),m.has(t))throw _(t);m.add(t);var n=this.refs[t];return"string"==typeof n&&(n=this.refs[n]),"object"==typeof n?v(e,n.schema,t):t!==p(o)&&("#"===t[0]?(v(e,d[t],t),d[t]=e):this.refs[t]=o),t}function l(e){if("string"==typeof e){if(!h.test(e))throw new Error('invalid anchor "'.concat(e,'"'));c.call(this,"#".concat(e))}}})),d;function v(e,t,r){if(void 0!==t&&!a(e,t))throw _(r)}function _(e){return new Error('reference "'.concat(e,'" resolves to more than one schema'))}}},17445:function(e,t,r){"use strict";var n=r(42122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;var a=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&a.has(e)},t.getRules=function(){var e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:n(n({},e),{},{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},81111:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p,h,m,v,_,y,g,b,w=r(42122).default,k=r(59400).default,x=r(74704).default;Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;var j=r(26774),E=r(65823);function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema,r=e.opts,n=e.self;if(r.strictSchema&&"boolean"!==typeof t){var a=n.RULES.keywords;for(var o in t)a[o]||F(e,'unknown keyword: "'.concat(o,'"'))}}function O(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0;return!1}function P(e){return"number"==typeof e?"".concat(e):e.replace(/~/g,"~0").replace(/\//g,"~1")}function A(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function T(e){var t=e.mergeNames,r=e.mergeToName,n=e.mergeValues,a=e.resultToName;return function(e,o,i,s){var c=void 0===i?o:i instanceof j.Name?(o instanceof j.Name?t(e,o,i):r(e,o,i),i):o instanceof j.Name?(r(e,i,o),o):n(o,i);return s!==j.Name||c instanceof j.Name?c:a(e,c)}}function C(e,t){if(!0===t)return e.var("props",!0);var r=e.var("props",(0,j._)(m||(m=k(["{}"]))));return void 0!==t&&R(e,r,t),r}function R(e,t,r){Object.keys(r).forEach((function(r){return e.assign((0,j._)(v||(v=k(["","",""])),t,(0,j.getProperty)(r)),!0)}))}t.toHash=function(e){var t,r={},n=x(e);try{for(n.s();!(t=n.n()).done;){r[t.value]=!0}}catch(a){n.e(a)}finally{n.f()}return r},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(S(e,t),!O(t,e.self.RULES.all))},t.checkUnknownRules=S,t.schemaHasRules=O,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if("$ref"!==r&&t.all[r])return!0;return!1},t.schemaRefOrVal=function(e,t,r,o){var i=e.topSchemaRef,s=e.schemaPath;if(!o){if("number"==typeof t||"boolean"==typeof t)return t;if("string"==typeof t)return(0,j._)(n||(n=k(["",""])),t)}return(0,j._)(a||(a=k(["","","",""])),i,s,(0,j.getProperty)(r))},t.unescapeFragment=function(e){return A(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(P(e))},t.escapeJsonPointer=P,t.unescapeJsonPointer=A,t.eachItem=function(e,t){if(Array.isArray(e)){var r,n=x(e);try{for(n.s();!(r=n.n()).done;){t(r.value)}}catch(a){n.e(a)}finally{n.f()}}else t(e)},t.mergeEvaluated={props:T({mergeNames:function(e,t,r){return e.if((0,j._)(o||(o=k([""," !== true && "," !== undefined"])),r,t),(function(){e.if((0,j._)(i||(i=k([""," === true"])),t),(function(){return e.assign(r,!0)}),(function(){return e.assign(r,(0,j._)(s||(s=k([""," || {}"])),r)).code((0,j._)(c||(c=k(["Object.assign(",", ",")"])),r,t))}))}))},mergeToName:function(e,t,r){return e.if((0,j._)(u||(u=k([""," !== true"])),r),(function(){!0===t?e.assign(r,!0):(e.assign(r,(0,j._)(l||(l=k([""," || {}"])),r)),R(e,r,t))}))},mergeValues:function(e,t){return!0===e||w(w({},e),t)},resultToName:C}),items:T({mergeNames:function(e,t,r){return e.if((0,j._)(f||(f=k([""," !== true && "," !== undefined"])),r,t),(function(){return e.assign(r,(0,j._)(d||(d=k([""," === true ? true : "," > "," ? "," : ",""])),t,r,t,r,t))}))},mergeToName:function(e,t,r){return e.if((0,j._)(p||(p=k([""," !== true"])),r),(function(){return e.assign(r,!0===t||(0,j._)(h||(h=k([""," > "," ? "," : ",""])),r,t,r,t))}))},mergeValues:function(e,t){return!0===e||Math.max(e,t)},resultToName:function(e,t){return e.var("items",t)}})},t.evaluatedPropsToName=C,t.setEvaluated=R;var I,D={};function F(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.opts.strictSchema;if(r){if(t="strict mode: ".concat(t),!0===r)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:D[t.code]||(D[t.code]=new E._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(I=t.Type||(t.Type={})),t.getErrorPath=function(e,t,r){if(e instanceof j.Name){var n=t===I.Num;return r?n?(0,j._)(_||(_=k(['"[" + ',' + "]"'])),e):(0,j._)(y||(y=k(['"[\'" + ',' + "\']"'])),e):n?(0,j._)(g||(g=k(['"/" + ',""])),e):(0,j._)(b||(b=k(['"/" + ','.replace(/~/g, "~0").replace(/\\//g, "~1")'],['"/" + ','.replace(/~/g, "~0").replace(/\\\\//g, "~1")'])),e)}return r?(0,j.getProperty)(e).toString():"/"+P(e)},t.checkStrictMode=F},66849:function(e,t){"use strict";function r(e,t){return t.rules.some((function(t){return n(e,t)}))}function n(e,t){var r;return void 0!==e[t.keyword]||(null===(r=t.definition.implements)||void 0===r?void 0:r.some((function(t){return void 0!==e[t]})))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function(e,t){var n=e.schema,a=e.self.RULES.types[t];return a&&!0!==a&&r(n,a)},t.shouldUseGroup=r,t.shouldUseRule=n},70850:function(e,t,r){"use strict";var n,a=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;var o=r(36304),i=r(26774),s=r(40052),c={message:"boolean schema is false"};function u(e,t){var r={gen:e.gen,keyword:"false schema",data:e.data,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,o.reportError)(r,c,void 0,t)}t.topBoolOrEmptySchema=function(e){var t=e.gen,r=e.schema,o=e.validateName;!1===r?u(e,!1):"object"==typeof r&&!0===r.$async?t.return(s.default.data):(t.assign((0,i._)(n||(n=a(["",".errors"])),o),null),t.return(!0))},t.boolOrEmptySchema=function(e,t){var r=e.gen;!1===e.schema?(r.var(t,!1),u(e)):r.var(t,!0)}},11562:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p,h,m,v,_,y,g,b,w,k,x,j,E,S,O,P,A,T,C,R,I,D,F,N=r(74704).default,M=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;var U,q=r(17445),L=r(66849),$=r(36304),W=r(26774),B=r(81111);function z(e){var t=Array.isArray(e)?e:e?[e]:[];if(t.every(q.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(U=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){var t=z(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=z,t.coerceAndCheckDataType=function(e,t){var r=e.gen,E=e.data,S=e.opts,O=function(e,t){return t?e.filter((function(e){return V.has(e)||"array"===t&&"array"===e})):[]}(t,S.coerceTypes),P=t.length>0&&!(0===O.length&&1===t.length&&(0,L.schemaHasRulesForType)(e,t[0]));if(P){var A=H(t,E,S.strictNumbers,U.Wrong);r.if(A,(function(){O.length?function(e,t,r){var E=e.gen,S=e.data,O=e.opts,P=E.let("dataType",(0,W._)(n||(n=M(["typeof ",""])),S)),A=E.let("coerced",(0,W._)(a||(a=M(["undefined"]))));"array"===O.coerceTypes&&E.if((0,W._)(o||(o=M([""," == 'object' && Array.isArray(",") && ",".length == 1"])),P,S,S),(function(){return E.assign(S,(0,W._)(i||(i=M(["","[0]"])),S)).assign(P,(0,W._)(s||(s=M(["typeof ",""])),S)).if(H(t,S,O.strictNumbers),(function(){return E.assign(A,S)}))}));E.if((0,W._)(c||(c=M([""," !== undefined"])),A));var T,C=N(r);try{for(C.s();!(T=C.n()).done;){var R=T.value;(V.has(R)||"array"===R&&"array"===O.coerceTypes)&&I(R)}}catch(D){C.e(D)}finally{C.f()}function I(e){switch(e){case"string":return void E.elseIf((0,W._)(l||(l=M(["",' == "number" || ',' == "boolean"'])),P,P)).assign(A,(0,W._)(f||(f=M(['"" + ',""])),S)).elseIf((0,W._)(d||(d=M([""," === null"])),S)).assign(A,(0,W._)(p||(p=M(['""']))));case"number":return void E.elseIf((0,W._)(h||(h=M(["",' == "boolean" || '," === null\n              || (",' == "string" && '," && "," == +",")"])),P,S,P,S,S,S)).assign(A,(0,W._)(m||(m=M(["+",""])),S));case"integer":return void E.elseIf((0,W._)(v||(v=M(["",' === "boolean" || '," === null\n              || (",' === "string" && '," && "," == +"," && !("," % 1))"])),P,S,P,S,S,S,S)).assign(A,(0,W._)(_||(_=M(["+",""])),S));case"boolean":return void E.elseIf((0,W._)(y||(y=M(["",' === "false" || '," === 0 || "," === null"])),S,S,S)).assign(A,!1).elseIf((0,W._)(g||(g=M(["",' === "true" || '," === 1"])),S,S)).assign(A,!0);case"null":return E.elseIf((0,W._)(b||(b=M(["",' === "" || '," === 0 || "," === false"])),S,S,S)),void E.assign(A,null);case"array":E.elseIf((0,W._)(w||(w=M(["",' === "string" || ',' === "number"\n              || ',' === "boolean" || '," === null"])),P,P,P,S)).assign(A,(0,W._)(k||(k=M(["[","]"])),S))}}E.else(),J(e),E.endIf(),E.if((0,W._)(u||(u=M([""," !== undefined"])),A),(function(){E.assign(S,A),function(e,t){var r=e.gen,n=e.parentData,a=e.parentDataProperty;r.if((0,W._)(x||(x=M([""," !== undefined"])),n),(function(){return r.assign((0,W._)(j||(j=M(["","[","]"])),n,a),t)}))}(e,A)}))}(e,t,O):J(e)}))}return P};var V=new Set(["string","number","integer","boolean","null"]);function K(e,t,r){var n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:U.Correct,o=a===U.Correct?W.operators.EQ:W.operators.NEQ;switch(e){case"null":return(0,W._)(E||(E=M([""," "," null"])),t,o);case"array":n=(0,W._)(S||(S=M(["Array.isArray(",")"])),t);break;case"object":n=(0,W._)(O||(O=M([""," && typeof ",' == "object" && !Array.isArray(',")"])),t,t,t);break;case"integer":n=i((0,W._)(P||(P=M(["!("," % 1) && !isNaN(",")"])),t,t));break;case"number":n=i();break;default:return(0,W._)(A||(A=M(["typeof "," "," ",""])),t,o,e)}return a===U.Correct?n:(0,W.not)(n);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W.nil;return(0,W.and)((0,W._)(T||(T=M(["typeof ",' == "number"'])),t),e,r?(0,W._)(C||(C=M(["isFinite(",")"])),t):W.nil)}}function H(e,t,r,n){if(1===e.length)return K(e[0],t,r,n);var a,o=(0,B.toHash)(e);if(o.array&&o.object){var i=(0,W._)(R||(R=M(["typeof ",' != "object"'])),t);a=o.null?i:(0,W._)(I||(I=M(["!"," || ",""])),t,i),delete o.null,delete o.array,delete o.object}else a=W.nil;for(var s in o.number&&delete o.integer,o)a=(0,W.and)(a,K(s,t,r,n));return a}t.checkDataType=K,t.checkDataTypes=H;var G={message:function(e){var t=e.schema;return"must be ".concat(t)},params:function(e){var t=e.schema,r=e.schemaValue;return"string"==typeof t?(0,W._)(D||(D=M(["{type: ","}"])),t):(0,W._)(F||(F=M(["{type: ","}"])),r)}};function J(e){var t=function(e){var t=e.gen,r=e.data,n=e.schema,a=(0,B.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:e}}(e);(0,$.reportError)(t,G)}t.reportTypeError=J},77391:function(e,t,r){"use strict";var n,a,o,i,s=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;var c=r(26774),u=r(81111);function l(e,t,r){var l=e.gen,f=e.compositeRule,d=e.data,p=e.opts;if(void 0!==r){var h=(0,c._)(n||(n=s(["","",""])),d,(0,c.getProperty)(t));if(f)(0,u.checkStrictMode)(e,"default is ignored for: ".concat(h));else{var m=(0,c._)(a||(a=s([""," === undefined"])),h);"empty"===p.useDefaults&&(m=(0,c._)(o||(o=s([""," || "," === null || ",' === ""'])),m,h,h)),l.if(m,(0,c._)(i||(i=s([""," = ",""])),h,(0,c.stringify)(r)))}}}t.assignDefaults=function(e,t){var r=e.schema,n=r.properties,a=r.items;if("object"===t&&n)for(var o in n)l(e,o,n[o].default);else"array"===t&&Array.isArray(a)&&a.forEach((function(t,r){return l(e,r,t.default)}))}},67733:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p,h,m,v,_,y,g,b,w,k,x,j,E,S,O,P,A,T,C,R,I,D,F,N,M,U,q,L,$,W=r(42122).default,B=r(56690).default,z=r(89728).default,V=r(74704).default,K=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;var H=r(70850),G=r(11562),J=r(66849),Q=r(11562),Y=r(77391),X=r(55373),Z=r(41195),ee=r(26774),te=r(40052),re=r(43696),ne=r(81111),ae=r(36304);function oe(e,t){var r=e.gen,_=e.validateName,y=e.schema,g=e.schemaEnv,b=e.opts;b.code.es5?r.func(_,(0,ee._)(n||(n=K(["",", ",""])),te.default.data,te.default.valCxt),g.$async,(function(){r.code((0,ee._)(a||(a=K(['"use strict"; ',""])),ie(y,b))),function(e,t){e.if(te.default.valCxt,(function(){e.var(te.default.instancePath,(0,ee._)(c||(c=K(["",".",""])),te.default.valCxt,te.default.instancePath)),e.var(te.default.parentData,(0,ee._)(u||(u=K(["",".",""])),te.default.valCxt,te.default.parentData)),e.var(te.default.parentDataProperty,(0,ee._)(l||(l=K(["",".",""])),te.default.valCxt,te.default.parentDataProperty)),e.var(te.default.rootData,(0,ee._)(f||(f=K(["",".",""])),te.default.valCxt,te.default.rootData)),t.dynamicRef&&e.var(te.default.dynamicAnchors,(0,ee._)(d||(d=K(["",".",""])),te.default.valCxt,te.default.dynamicAnchors))}),(function(){e.var(te.default.instancePath,(0,ee._)(p||(p=K(['""'])))),e.var(te.default.parentData,(0,ee._)(h||(h=K(["undefined"])))),e.var(te.default.parentDataProperty,(0,ee._)(m||(m=K(["undefined"])))),e.var(te.default.rootData,te.default.data),t.dynamicRef&&e.var(te.default.dynamicAnchors,(0,ee._)(v||(v=K(["{}"]))))}))}(r,b),r.code(t)})):r.func(_,(0,ee._)(o||(o=K(["",", ",""])),te.default.data,function(e){return(0,ee._)(i||(i=K(["{",'="", ',", ",", ","=","","}={}"])),te.default.instancePath,te.default.parentData,te.default.parentDataProperty,te.default.rootData,te.default.data,e.dynamicRef?(0,ee._)(s||(s=K([", ","={}"])),te.default.dynamicAnchors):ee.nil)}(b)),g.$async,(function(){return r.code(ie(y,b)).code(t)}))}function ie(e,t){var r="object"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,ee._)(j||(j=K(["/*# sourceURL="," */"])),r):ee.nil}function se(e,t){ue(e)&&(le(e),ce(e))?function(e,t){var r=e.schema,n=e.gen,a=e.opts;a.$comment&&r.$comment&&de(e);(function(e){var t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,re.resolveUrl)(e.opts.uriResolver,e.baseId,t))})(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);var o=n.const("_errs",te.default.errors);fe(e,o),n.var(t,(0,ee._)(E||(E=K([""," === ",""])),o,te.default.errors))}(e,t):(0,H.boolOrEmptySchema)(e,t)}function ce(e){var t=e.schema,r=e.self;if("boolean"==typeof t)return!t;for(var n in t)if(r.RULES.all[n])return!0;return!1}function ue(e){return"boolean"!=typeof e.schema}function le(e){(0,ne.checkUnknownRules)(e),function(e){var t=e.schema,r=e.errSchemaPath,n=e.opts,a=e.self;t.$ref&&n.ignoreKeywordsWithRef&&(0,ne.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn('$ref: keywords ignored in schema at path "'.concat(r,'"'))}(e)}function fe(e,t){if(e.opts.jtd)return pe(e,[],!1,t);var r=(0,G.getSchemaTypes)(e.schema);pe(e,r,!(0,G.coerceAndCheckDataType)(e,r),t)}function de(e){var t=e.gen,r=e.schemaEnv,n=e.schema,a=e.errSchemaPath,o=e.opts,i=n.$comment;if(!0===o.$comment)t.code((0,ee._)(S||(S=K(["",".logger.log(",")"])),te.default.self,i));else if("function"==typeof o.$comment){var s=(0,ee.str)(O||(O=K(["","/$comment"])),a),c=t.scopeValue("root",{ref:r.root});t.code((0,ee._)(P||(P=K(["",".opts.$comment(",", ",", ",".schema)"])),te.default.self,i,s,c))}}function pe(e,t,r,n){var a=e.gen,o=e.schema,i=e.data,s=e.allErrors,c=e.opts,u=e.self.RULES;function l(u){(0,J.shouldUseGroup)(o,u)&&(u.type?(a.if((0,Q.checkDataType)(u.type,i,c.strictNumbers)),he(e,u),1===t.length&&t[0]===u.type&&r&&(a.else(),(0,Q.reportTypeError)(e)),a.endIf()):he(e,u),s||a.if((0,ee._)(F||(F=K([""," === ",""])),te.default.errors,n||0)))}!o.$ref||!c.ignoreKeywordsWithRef&&(0,ne.schemaHasRulesButRef)(o,u)?(c.jtd||function(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;(function(e,t){if(!t.length)return;if(!e.dataTypes.length)return void(e.dataTypes=t);t.forEach((function(t){ve(e.dataTypes,t)||_e(e,'type "'.concat(t,'" not allowed by context "').concat(e.dataTypes.join(","),'"'))})),function(e,t){var r,n=[],a=V(e.dataTypes);try{for(a.s();!(r=a.n()).done;){var o=r.value;ve(t,o)?n.push(o):t.includes("integer")&&"number"===o&&n.push("integer")}}catch(i){a.e(i)}finally{a.f()}e.dataTypes=n}(e,t)})(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&_e(e,"use allowUnionTypes to allow union type keyword")}(e,t);!function(e,t){var r=e.self.RULES.all;for(var n in r){var a=r[n];if("object"==typeof a&&(0,J.shouldUseRule)(e.schema,a)){var o=a.definition.type;o.length&&!o.some((function(e){return me(t,e)}))&&_e(e,'missing type "'.concat(o.join(","),'" for keyword "').concat(n,'"'))}}}(e,e.dataTypes)}(e,t),a.block((function(){var e,t=V(u.rules);try{for(t.s();!(e=t.n()).done;){l(e.value)}}catch(r){t.e(r)}finally{t.f()}l(u.post)}))):a.block((function(){return ge(e,"$ref",u.all.$ref.definition)}))}function he(e,t){var r=e.gen,n=e.schema;e.opts.useDefaults&&(0,Y.assignDefaults)(e,t.type),r.block((function(){var r,a=V(t.rules);try{for(a.s();!(r=a.n()).done;){var o=r.value;(0,J.shouldUseRule)(n,o)&&ge(e,o.keyword,o.definition,t.type)}}catch(i){a.e(i)}finally{a.f()}}))}function me(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function ve(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function _e(e,t){var r=e.schemaEnv.baseId+e.errSchemaPath;t+=' at "'.concat(r,'" (strictTypes)'),(0,ne.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){ue(e)&&(le(e),ce(e))?function(e){var t=e.schema,r=e.opts,n=e.gen;oe(e,(function(){r.$comment&&t.$comment&&de(e),function(e){var t=e.schema,r=e.opts;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,ne.checkStrictMode)(e,"default is ignored in the schema root")}(e),n.let(te.default.vErrors,null),n.let(te.default.errors,0),r.unevaluated&&function(e){var t=e.gen,r=e.validateName;e.evaluated=t.const("evaluated",(0,ee._)(_||(_=K(["",".evaluated"])),r)),t.if((0,ee._)(y||(y=K(["",".dynamicProps"])),e.evaluated),(function(){return t.assign((0,ee._)(g||(g=K(["",".props"])),e.evaluated),(0,ee._)(b||(b=K(["undefined"]))))})),t.if((0,ee._)(w||(w=K(["",".dynamicItems"])),e.evaluated),(function(){return t.assign((0,ee._)(k||(k=K(["",".items"])),e.evaluated),(0,ee._)(x||(x=K(["undefined"]))))}))}(e),fe(e),function(e){var t=e.gen,r=e.schemaEnv,n=e.validateName,a=e.ValidationError,o=e.opts;r.$async?t.if((0,ee._)(A||(A=K([""," === 0"])),te.default.errors),(function(){return t.return(te.default.data)}),(function(){return t.throw((0,ee._)(T||(T=K(["new ","(",")"])),a,te.default.vErrors))})):(t.assign((0,ee._)(C||(C=K(["",".errors"])),n),te.default.vErrors),o.unevaluated&&function(e){var t=e.gen,r=e.evaluated,n=e.props,a=e.items;n instanceof ee.Name&&t.assign((0,ee._)(I||(I=K(["",".props"])),r),n);a instanceof ee.Name&&t.assign((0,ee._)(D||(D=K(["",".items"])),r),a)}(e),t.return((0,ee._)(R||(R=K([""," === 0"])),te.default.errors)))}(e)}))}(e):oe(e,(function(){return(0,H.topBoolOrEmptySchema)(e)}))};var ye=function(){function e(t,r,n){if(B(this,e),(0,X.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ne.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",ke(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,X.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error("".concat(n," value must be ").concat(JSON.stringify(r.schemaType)));("code"in r?r.trackErrors:!1!==r.errors)&&(this.errsCount=t.gen.const("_errs",te.default.errors))}return z(e,[{key:"result",value:function(e,t,r){this.failResult((0,ee.not)(e),t,r)}},{key:"failResult",value:function(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}},{key:"pass",value:function(e,t){this.failResult((0,ee.not)(e),void 0,t)}},{key:"fail",value:function(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}},{key:"fail$data",value:function(e){if(!this.$data)return this.fail(e);var t=this.schemaCode;this.fail((0,ee._)(N||(N=K([""," !== undefined && (",")"])),t,(0,ee.or)(this.invalid$data(),e)))}},{key:"error",value:function(e,t,r){if(t)return this.setParams(t),this._error(e,r),void this.setParams({});this._error(e,r)}},{key:"_error",value:function(e,t){(e?ae.reportExtraError:ae.reportError)(this,this.def.error,t)}},{key:"$dataError",value:function(){(0,ae.reportError)(this,this.def.$dataError||ae.keyword$DataError)}},{key:"reset",value:function(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,ae.resetErrorsCount)(this.gen,this.errsCount)}},{key:"ok",value:function(e){this.allErrors||this.gen.if(e)}},{key:"setParams",value:function(e,t){t?Object.assign(this.params,e):this.params=e}},{key:"block$data",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ee.nil;this.gen.block((function(){r.check$data(e,n),t()}))}},{key:"check$data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee.nil,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.nil;if(this.$data){var r=this.gen,n=this.schemaCode,a=this.schemaType,o=this.def;r.if((0,ee.or)((0,ee._)(M||(M=K([""," === undefined"])),n),t)),e!==ee.nil&&r.assign(e,!0),(a.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==ee.nil&&r.assign(e,!1)),r.else()}}},{key:"invalid$data",value:function(){var e=this.gen,t=this.schemaCode,r=this.schemaType,n=this.def,a=this.it;return(0,ee.or)(function(){if(r.length){if(!(t instanceof ee.Name))throw new Error("ajv implementation error");var e=Array.isArray(r)?r:[r];return(0,ee._)(U||(U=K(["",""])),(0,Q.checkDataTypes)(e,t,a.opts.strictNumbers,Q.DataType.Wrong))}return ee.nil}(),function(){if(n.validateSchema){var r=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,ee._)(q||(q=K(["!","(",")"])),r,t)}return ee.nil}())}},{key:"subschema",value:function(e,t){var r=(0,Z.getSubschema)(this.it,e);(0,Z.extendSubschemaData)(r,this.it,e),(0,Z.extendSubschemaMode)(r,e);var n=W(W(W({},this.it),r),{},{items:void 0,props:void 0});return se(n,t),n}},{key:"mergeEvaluated",value:function(e,t){var r=this.it,n=this.gen;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=ne.mergeEvaluated.props(n,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=ne.mergeEvaluated.items(n,e.items,r.items,t)))}},{key:"mergeValidEvaluated",value:function(e,t){var r=this,n=this.it,a=this.gen;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return a.if(t,(function(){return r.mergeEvaluated(e,ee.Name)})),!0}}]),e}();function ge(e,t,r,n){var a=new ye(e,r,t);"code"in r?r.code(a,n):a.$data&&r.validate?(0,X.funcKeywordCode)(a,r):"macro"in r?(0,X.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,X.funcKeywordCode)(a,r)}t.KeywordCxt=ye;var be=/^\/(?:[^~]|~0|~1)*$/,we=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ke(e,t){var r,n,a=t.dataLevel,o=t.dataNames,i=t.dataPathArr;if(""===e)return te.default.rootData;if("/"===e[0]){if(!be.test(e))throw new Error("Invalid JSON-pointer: ".concat(e));r=e,n=te.default.rootData}else{var s=we.exec(e);if(!s)throw new Error("Invalid JSON-pointer: ".concat(e));var c=+s[1];if("#"===(r=s[2])){if(c>=a)throw new Error(h("property/index",c));return i[a-c]}if(c>a)throw new Error(h("data",c));if(n=o[a-c],!r)return n}var u,l=n,f=r.split("/"),d=V(f);try{for(d.s();!(u=d.n()).done;){var p=u.value;p&&(n=(0,ee._)(L||(L=K(["","",""])),n,(0,ee.getProperty)((0,ne.unescapeJsonPointer)(p))),l=(0,ee._)($||($=K([""," && ",""])),l,n))}}catch(m){d.e(m)}finally{d.f()}return l;function h(e,t){return"Cannot access ".concat(e," ").concat(t," levels up, current level is ").concat(a)}}t.getData=ke},55373:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;var h=r(26774),m=r(40052),v=r(81853),_=r(36304);function y(e){var t=e.gen,r=e.data,n=e.it;t.if(n.parentData,(function(){return t.assign(r,(0,h._)(u||(u=p(["","[","]"])),n.parentData,n.parentDataProperty))}))}function g(e,t,r){if(void 0===r)throw new Error('keyword "'.concat(t,'" failed to compile'));return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,h.stringify)(r)})}t.macroKeywordCode=function(e,t){var r=e.gen,n=e.keyword,a=e.schema,o=e.parentSchema,i=e.it,s=t.macro.call(i.self,a,o,i),c=g(r,n,s);!1!==i.opts.validateSchema&&i.self.validateSchema(s,!0);var u=r.name("valid");e.subschema({schema:s,schemaPath:h.nil,errSchemaPath:"".concat(i.errSchemaPath,"/").concat(n),topSchemaRef:c,compositeRule:!0},u),e.pass(u,(function(){return e.error(!0)}))},t.funcKeywordCode=function(e,t){var r,u=e.gen,b=e.keyword,w=e.schema,k=e.parentSchema,x=e.$data,j=e.it;!function(e,t){var r=e.schemaEnv;if(t.async&&!r.$async)throw new Error("async keyword in sync schema")}(j,t);var E=!x&&t.compile?t.compile.call(j.self,w,k,j):t.validate,S=g(u,b,E),O=u.let("valid");function P(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.async?(0,h._)(s||(s=p(["await "]))):h.nil,n=j.opts.passContext?m.default.this:m.default.self,a=!("compile"in t&&!x||!1===t.schema);u.assign(O,(0,h._)(c||(c=p(["","",""])),r,(0,v.callValidateCode)(e,S,n,a)),t.modifying)}function A(e){var r;u.if((0,h.not)(null!==(r=t.valid)&&void 0!==r?r:O),e)}e.block$data(O,(function(){if(!1===t.errors)P(),t.modifying&&y(e),A((function(){return e.error()}));else{var r=t.async?function(){var e=u.let("ruleErrs",null);return u.try((function(){return P((0,h._)(n||(n=p(["await "]))))}),(function(t){return u.assign(O,!1).if((0,h._)(a||(a=p([""," instanceof ",""])),t,j.ValidationError),(function(){return u.assign(e,(0,h._)(o||(o=p(["",".errors"])),t))}),(function(){return u.throw(t)}))})),e}():function(){var e=(0,h._)(i||(i=p(["",".errors"])),S);return u.assign(e,null),P(h.nil),e}();t.modifying&&y(e),A((function(){return function(e,t){var r=e.gen;r.if((0,h._)(l||(l=p(["Array.isArray(",")"])),t),(function(){r.assign(m.default.vErrors,(0,h._)(f||(f=p([""," === null ? "," : ",".concat(",")"])),m.default.vErrors,t,m.default.vErrors,t)).assign(m.default.errors,(0,h._)(d||(d=p(["",".length"])),m.default.vErrors)),(0,_.extendErrors)(e)}),(function(){return e.error()}))}(e,r)}))}})),e.ok(null!==(r=t.valid)&&void 0!==r?r:O)},t.validSchemaType=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!t.length||t.some((function(t){return"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&"undefined"==typeof e}))},t.validateKeywordUsage=function(e,t,r){var n=e.schema,a=e.opts,o=e.self,i=e.errSchemaPath;if(Array.isArray(t.keyword)?!t.keyword.includes(r):t.keyword!==r)throw new Error("ajv implementation error");var s=t.dependencies;if(null===s||void 0===s?void 0:s.some((function(e){return!Object.prototype.hasOwnProperty.call(n,e)})))throw new Error("parent schema must have dependencies of ".concat(r,": ").concat(s.join(",")));if(t.validateSchema&&!t.validateSchema(n[r])){var c='keyword "'.concat(r,'" value is invalid at path "').concat(i,'": ')+o.errorsText(t.validateSchema.errors);if("log"!==a.validateSchema)throw new Error(c);o.logger.error(c)}}},41195:function(e,t,r){"use strict";var n,a,o,i,s,c=r(861).default,u=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;var l=r(26774),f=r(81111);t.getSubschema=function(e,t){var r=t.keyword,o=t.schemaProp,i=t.schema,s=t.schemaPath,c=t.errSchemaPath,d=t.topSchemaRef;if(void 0!==r&&void 0!==i)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==r){var p=e.schema[r];return void 0===o?{schema:p,schemaPath:(0,l._)(n||(n=u(["","",""])),e.schemaPath,(0,l.getProperty)(r)),errSchemaPath:"".concat(e.errSchemaPath,"/").concat(r)}:{schema:p[o],schemaPath:(0,l._)(a||(a=u(["","","",""])),e.schemaPath,(0,l.getProperty)(r),(0,l.getProperty)(o)),errSchemaPath:"".concat(e.errSchemaPath,"/").concat(r,"/").concat((0,f.escapeFragment)(o))}}if(void 0!==i){if(void 0===s||void 0===c||void 0===d)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:s,topSchemaRef:d,errSchemaPath:c}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,r){var n=r.dataProp,a=r.dataPropType,d=r.data,p=r.dataTypes,h=r.propertyName;if(void 0!==d&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');var m=t.gen;if(void 0!==n){var v=t.errorPath,_=t.dataPathArr,y=t.opts;g(m.let("data",(0,l._)(o||(o=u(["","",""])),t.data,(0,l.getProperty)(n)),!0)),e.errorPath=(0,l.str)(i||(i=u(["","",""])),v,(0,f.getErrorPath)(n,a,y.jsPropertySyntax)),e.parentDataProperty=(0,l._)(s||(s=u(["",""])),n),e.dataPathArr=[].concat(c(_),[e.parentDataProperty])}function g(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[].concat(c(t.dataNames),[r])}void 0!==d&&(g(d instanceof l.Name?d:m.let("data",d,!0)),void 0!==h&&(e.propertyName=h)),p&&(e.dataTypes=p)},t.extendSubschemaMode=function(e,t){var r=t.jtdDiscriminator,n=t.jtdMetadata,a=t.compositeRule,o=t.createErrors,i=t.allErrors;void 0!==a&&(e.compositeRule=a),void 0!==o&&(e.createErrors=o),void 0!==i&&(e.allErrors=i),e.jtdDiscriminator=r,e.jtdMetadata=n}},98549:function(e,t,r){"use strict";var n=r(74704).default,a=r(17061).default,o=r(17156).default,i=r(56690).default,s=r(89728).default,c=r(42122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var u=r(67733);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var l=r(26774);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var f=r(52605),d=r(86594),p=r(17445),h=r(33393),m=r(26774),v=r(43696),_=r(11562),y=r(81111),g=r(87099),b=r(23517),w=function(e,t){return new RegExp(e,t)};w.code="new RegExp";var k=["removeAdditional","useDefaults","coerceTypes"],x=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),j={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},E={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};var S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts=c(c({},t),function(e){var t,r,n,a,o,i,s,u,l,f,d,p,h,m,v,_,y,g,k,x,j,E,S,O,P,A=e.strict,T=null===(t=e.code)||void 0===t?void 0:t.optimize,C=!0===T||void 0===T?1:T||0,R=null!==(n=null===(r=e.code)||void 0===r?void 0:r.regExp)&&void 0!==n?n:w,I=null!==(a=e.uriResolver)&&void 0!==a?a:b.default;return{strictSchema:null===(i=null!==(o=e.strictSchema)&&void 0!==o?o:A)||void 0===i||i,strictNumbers:null===(u=null!==(s=e.strictNumbers)&&void 0!==s?s:A)||void 0===u||u,strictTypes:null!==(f=null!==(l=e.strictTypes)&&void 0!==l?l:A)&&void 0!==f?f:"log",strictTuples:null!==(p=null!==(d=e.strictTuples)&&void 0!==d?d:A)&&void 0!==p?p:"log",strictRequired:null!==(m=null!==(h=e.strictRequired)&&void 0!==h?h:A)&&void 0!==m&&m,code:e.code?c(c({},e.code),{},{optimize:C,regExp:R}):{optimize:C,regExp:R},loopRequired:null!==(v=e.loopRequired)&&void 0!==v?v:200,loopEnum:null!==(_=e.loopEnum)&&void 0!==_?_:200,meta:null===(y=e.meta)||void 0===y||y,messages:null===(g=e.messages)||void 0===g||g,inlineRefs:null===(k=e.inlineRefs)||void 0===k||k,schemaId:null!==(x=e.schemaId)&&void 0!==x?x:"$id",addUsedSchema:null===(j=e.addUsedSchema)||void 0===j||j,validateSchema:null===(E=e.validateSchema)||void 0===E||E,validateFormats:null===(S=e.validateFormats)||void 0===S||S,unicodeRegExp:null===(O=e.unicodeRegExp)||void 0===O||O,int32range:null===(P=e.int32range)||void 0===P||P,uriResolver:I}}(t));var r=this.opts.code,n=r.es5,a=r.lines;this.scope=new m.ValueScope({scope:{},prefixes:x,es5:n,lines:a}),this.logger=function(e){if(!1===e)return I;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(t.logger);var o=t.validateFormats;t.validateFormats=!1,this.RULES=(0,p.getRules)(),O.call(this,j,t,"NOT SUPPORTED"),O.call(this,E,t,"DEPRECATED","warn"),this._metaOpts=R.call(this),t.formats&&T.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&C.call(this,t.keywords),"object"==typeof t.meta&&this.addMetaSchema(t.meta),A.call(this),t.validateFormats=o}return s(e,[{key:"_addVocabularies",value:function(){this.addKeyword("$async")}},{key:"_addDefaultMetaSchema",value:function(){var e=this.opts,t=e.$data,r=e.meta,n=e.schemaId,a=g;"id"===n&&((a=c({},g)).id=a.$id,delete a.$id),r&&t&&this.addMetaSchema(a,a[n],!1)}},{key:"defaultMeta",value:function(){var e=this.opts,t=e.meta,r=e.schemaId;return this.opts.defaultMeta="object"==typeof t?t[r]||t:void 0}},{key:"validate",value:function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'.concat(e,'"'))}else r=this.compile(e);var n=r(t);return"$async"in r||(this.errors=r.errors),n}},{key:"compile",value:function(e,t){var r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}},{key:"compileAsync",value:function(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");var r=this.opts.loadSchema;return n.call(this,e,t);function n(e,t){return i.apply(this,arguments)}function i(){return(i=o(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.call(this,t.$schema);case 2:return n=this._addSchema(t,r),e.abrupt("return",n.validate||u.call(this,n));case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function s(e){return c.apply(this,arguments)}function c(){return(c=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.getSchema(t)){e.next=3;break}return e.next=3,n.call(this,{$ref:t},!0);case 3:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function u(e){return l.apply(this,arguments)}function l(){return(l=o(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this._compileSchemaEnv(t));case 4:if(e.prev=4,e.t0=e.catch(0),e.t0 instanceof d.default){e.next=8;break}throw e.t0;case 8:return f.call(this,e.t0),e.next=11,p.call(this,e.t0.missingSchema);case 11:return e.abrupt("return",u.call(this,t));case 12:case"end":return e.stop()}}),e,this,[[0,4]])})))).apply(this,arguments)}function f(e){var t=e.missingSchema,r=e.missingRef;if(this.refs[t])throw new Error("AnySchema ".concat(t," is loaded but ").concat(r," cannot be resolved"))}function p(e){return h.apply(this,arguments)}function h(){return(h=o(a().mark((function e(r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.call(this,r);case 2:if(n=e.sent,this.refs[r]){e.next=6;break}return e.next=6,s.call(this,n.$schema);case 6:this.refs[r]||this.addSchema(n,r,t);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=o(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._loading[t])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,this._loading[t]=r(t);case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,delete this._loading[t],e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[3,,7,10]])})))).apply(this,arguments)}}},{key:"addSchema",value:function(e,t,r){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.validateSchema;if(Array.isArray(e)){var i,s=n(e);try{for(s.s();!(i=s.n()).done;){var c=i.value;this.addSchema(c,void 0,r,o)}}catch(l){s.e(l)}finally{s.f()}return this}if("object"===typeof e){var u=this.opts.schemaId;if(void 0!==(a=e[u])&&"string"!=typeof a)throw new Error("schema ".concat(u," must be string"))}return t=(0,v.normalizeId)(t||a),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,o,!0),this}},{key:"addMetaSchema",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.opts.validateSchema;return this.addSchema(e,t,!0,r),this}},{key:"validateSchema",value:function(e,t){if("boolean"==typeof e)return!0;var r;if(void 0!==(r=e.$schema)&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,e);if(!n&&t){var a="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(a);this.logger.error(a)}return n}},{key:"getSchema",value:function(e){for(var t;"string"==typeof(t=P.call(this,e));)e=t;if(void 0===t){var r=this.opts.schemaId,n=new h.SchemaEnv({schema:{},schemaId:r});if(!(t=h.resolveSchema.call(this,n,e)))return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}},{key:"removeSchema",value:function(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":var t=P.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this;case"object":var r=e;this._cache.delete(r);var n=e[this.opts.schemaId];return n&&(n=(0,v.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this;default:throw new Error("ajv.removeSchema: invalid parameter")}}},{key:"addVocabulary",value:function(e){var t,r=n(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;this.addKeyword(a)}}catch(o){r.e(o)}finally{r.f()}return this}},{key:"addKeyword",value:function(e,t){var r,n=this;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(r=(t=e).keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(F.call(this,r,t),!t)return(0,y.eachItem)(r,(function(e){return N.call(n,e)})),this;U.call(this,t);var a=c(c({},t),{},{type:(0,_.getJSONTypes)(t.type),schemaType:(0,_.getJSONTypes)(t.schemaType)});return(0,y.eachItem)(r,0===a.type.length?function(e){return N.call(n,e,a)}:function(e){return a.type.forEach((function(t){return N.call(n,e,a,t)}))}),this}},{key:"getKeyword",value:function(e){var t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}},{key:"removeKeyword",value:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e];var r,a=n(t.rules);try{for(a.s();!(r=a.n()).done;){var o=r.value,i=o.rules.findIndex((function(t){return t.keyword===e}));i>=0&&o.rules.splice(i,1)}}catch(s){a.e(s)}finally{a.f()}return this}},{key:"addFormat",value:function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}},{key:"errorsText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.errors,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.separator,n=void 0===r?", ":r,a=t.dataVar,o=void 0===a?"data":a;return e&&0!==e.length?e.map((function(e){return"".concat(o).concat(e.instancePath," ").concat(e.message)})).reduce((function(e,t){return e+n+t})):"No errors"}},{key:"$dataMetaSchema",value:function(e,t){var r=this.RULES.all;e=JSON.parse(JSON.stringify(e));var a,o=n(t);try{for(o.s();!(a=o.n()).done;){var i,s=a.value.split("/").slice(1),c=e,u=n(s);try{for(u.s();!(i=u.n()).done;){c=c[i.value]}}catch(h){u.e(h)}finally{u.f()}for(var l in r){var f=r[l];if("object"==typeof f){var d=f.definition.$data,p=c[l];d&&p&&(c[l]=L(p))}}}}catch(h){o.e(h)}finally{o.f()}return e}},{key:"_removeAllSchemas",value:function(e,t){for(var r in e){var n=e[r];t&&!t.test(r)||("string"==typeof n?delete e[r]:n&&!n.meta&&(this._cache.delete(n.schema),delete e[r]))}}},{key:"_addSchema",value:function(e,t,r){var n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.opts.validateSchema,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.opts.addUsedSchema,i=this.opts.schemaId;if("object"==typeof e)n=e[i];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}var s=this._cache.get(e);if(void 0!==s)return s;r=(0,v.normalizeId)(n||r);var c=v.getSchemaRefs.call(this,e,r);return s=new h.SchemaEnv({schema:e,schemaId:i,meta:t,baseId:r,localRefs:c}),this._cache.set(s.schema,s),o&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=s),a&&this.validateSchema(e,!0),s}},{key:"_checkUnique",value:function(e){if(this.schemas[e]||this.refs[e])throw new Error('schema with key or id "'.concat(e,'" already exists'))}},{key:"_compileSchemaEnv",value:function(e){if(e.meta?this._compileMetaSchema(e):h.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}},{key:"_compileMetaSchema",value:function(e){var t=this.opts;this.opts=this._metaOpts;try{h.compileSchema.call(this,e)}finally{this.opts=t}}}]),e}();function O(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"error";for(var a in e){var o=a;o in t&&this.logger[n]("".concat(r,": option ").concat(a,". ").concat(e[o]))}}function P(e){return e=(0,v.normalizeId)(e),this.schemas[e]||this.refs[e]}function A(){var e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(var t in e)this.addSchema(e[t],t)}function T(){for(var e in this.opts.formats){var t=this.opts.formats[e];t&&this.addFormat(e,t)}}function C(e){if(Array.isArray(e))this.addVocabulary(e);else for(var t in this.logger.warn("keywords option as map is deprecated, pass array"),e){var r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function R(){var e,t=c({},this.opts),r=n(k);try{for(r.s();!(e=r.n()).done;){delete t[e.value]}}catch(a){r.e(a)}finally{r.f()}return t}t.default=S,S.ValidationError=f.default,S.MissingRefError=d.default;var I={log:function(){},warn:function(){},error:function(){}};var D=/^[a-z_$][a-z0-9_$:-]*$/i;function F(e,t){var r=this.RULES;if((0,y.eachItem)(e,(function(e){if(r.keywords[e])throw new Error("Keyword ".concat(e," is already defined"));if(!D.test(e))throw new Error("Keyword ".concat(e," has invalid name"))})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function N(e,t,r){var n,a=this,o=null===t||void 0===t?void 0:t.post;if(r&&o)throw new Error('keyword with "post" flag cannot have "type"');var i=this.RULES,s=o?i.post:i.rules.find((function(e){return e.type===r}));if(s||(s={type:r,rules:[]},i.rules.push(s)),i.keywords[e]=!0,t){var u={keyword:e,definition:c(c({},t),{},{type:(0,_.getJSONTypes)(t.type),schemaType:(0,_.getJSONTypes)(t.schemaType)})};t.before?M.call(this,s,u,t.before):s.rules.push(u),i.all[e]=u,null===(n=t.implements)||void 0===n||n.forEach((function(e){return a.addKeyword(e)}))}}function M(e,t,r){var n=e.rules.findIndex((function(e){return e.keyword===r}));n>=0?e.rules.splice(n,0,t):(e.rules.push(t),this.logger.warn("rule ".concat(r," is not defined")))}function U(e){var t=e.metaSchema;void 0!==t&&(e.$data&&this.opts.$data&&(t=L(t)),e.validateSchema=this.compile(t,!0))}var q={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function L(e){return{anyOf:[e,q]}}},17993:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(78262);n.code='require("ajv/dist/runtime/equal").default',t.default=n},12973:function(e,t){"use strict";function r(e){for(var t,r=e.length,n=0,a=0;a<r;)n++,(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<r&&56320===(64512&(t=e.charCodeAt(a)))&&a++;return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'},23517:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(60023);n.code='require("ajv/dist/runtime/uri").default',t.default=n},52605:function(e,t,r){"use strict";var n=r(89728).default,a=r(56690).default,o=r(61655).default,i=r(26389).default,s=r(33496).default;Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){o(r,e);var t=i(r);function r(e){var n;return a(this,r),(n=t.call(this,"validation failed")).errors=e,n.ajv=n.validation=!0,n}return n(r)}(s(Error));t.default=c},27394:function(e,t,r){"use strict";var n,a,o,i,s,c=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;var u=r(26774),l=r(81111),f={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:function(e){var t=e.params.len;return(0,u.str)(n||(n=c(["must NOT have more than "," items"])),t)},params:function(e){var t=e.params.len;return(0,u._)(a||(a=c(["{limit: ","}"])),t)}},code:function(e){var t=e.parentSchema,r=e.it,n=t.items;Array.isArray(n)?d(e,n):(0,l.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas')}};function d(e,t){var r=e.gen,n=e.schema,a=e.data,f=e.keyword,d=e.it;d.items=!0;var p=r.const("len",(0,u._)(o||(o=c(["",".length"])),a));if(!1===n)e.setParams({len:t.length}),e.pass((0,u._)(i||(i=c([""," <= ",""])),p,t.length));else if("object"==typeof n&&!(0,l.alwaysValidSchema)(d,n)){var h=r.var("valid",(0,u._)(s||(s=c([""," <= ",""])),p,t.length));r.if((0,u.not)(h),(function(){return function(n){r.forRange("i",t.length,p,(function(t){e.subschema({keyword:f,dataProp:t,dataPropType:l.Type.Num},n),d.allErrors||r.if((0,u.not)(n),(function(){return r.break()}))}))}(h)})),e.ok(h)}}t.validateAdditionalItems=d,t.default=f},89298:function(e,t,r){"use strict";var n,a,o,i,s,c=r(861).default,u=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var l=r(81853),f=r(26774),d=r(40052),p=r(81111),h={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:function(e){var t=e.params;return(0,f._)(n||(n=u(["{additionalProperty: ","}"])),t.additionalProperty)}},code:function(e){var t=e.gen,r=e.schema,n=e.parentSchema,h=e.data,m=e.errsCount,v=e.it;if(!m)throw new Error("ajv implementation error");var _=v.allErrors,y=v.opts;if(v.props=!0,"all"===y.removeAdditional||!(0,p.alwaysValidSchema)(v,r)){var g=(0,l.allSchemaProperties)(n.properties),b=(0,l.allSchemaProperties)(n.patternProperties);t.forIn("key",h,(function(r){g.length||b.length?t.if(function(r){var a;if(g.length>8){var s=(0,p.schemaRefOrVal)(v,n.properties,"properties");a=(0,l.isOwnProperty)(t,s,r)}else a=g.length?f.or.apply(void 0,c(g.map((function(e){return(0,f._)(o||(o=u([""," === ",""])),r,e)})))):f.nil;return b.length&&(a=f.or.apply(void 0,[a].concat(c(b.map((function(t){return(0,f._)(i||(i=u(["",".test(",")"])),(0,l.usePattern)(e,t),r)})))))),(0,f.not)(a)}(r),(function(){return k(r)})):k(r)})),e.ok((0,f._)(a||(a=u([""," === ",""])),m,d.default.errors))}function w(e){t.code((0,f._)(s||(s=u(["delete ","[","]"])),h,e))}function k(n){if("all"===y.removeAdditional||y.removeAdditional&&!1===r)w(n);else{if(!1===r)return e.setParams({additionalProperty:n}),e.error(),void(_||t.break());if("object"==typeof r&&!(0,p.alwaysValidSchema)(v,r)){var a=t.name("valid");"failing"===y.removeAdditional?(x(n,a,!1),t.if((0,f.not)(a),(function(){e.reset(),w(n)}))):(x(n,a),_||t.if((0,f.not)(a),(function(){return t.break()})))}}}function x(t,r,n){var a={keyword:"additionalProperties",dataProp:t,dataPropType:p.Type.Str};!1===n&&Object.assign(a,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(a,r)}}};t.default=h},43163:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(81111),a={keyword:"allOf",schemaType:"array",code:function(e){var t=e.gen,r=e.schema,a=e.it;if(!Array.isArray(r))throw new Error("ajv implementation error");var o=t.name("valid");r.forEach((function(t,r){if(!(0,n.alwaysValidSchema)(a,t)){var i=e.subschema({keyword:"allOf",schemaProp:r},o);e.ok(o),e.mergeEvaluated(i)}}))}};t.default=a},89937:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r(81853).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=n},39788:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p,h,m=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var v=r(26774),_=r(81111),y={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:function(e){var t=e.params,r=t.min,o=t.max;return void 0===o?(0,v.str)(n||(n=m(["must contain at least "," valid item(s)"])),r):(0,v.str)(a||(a=m(["must contain at least "," and no more than "," valid item(s)"])),r,o)},params:function(e){var t=e.params,r=t.min,n=t.max;return void 0===n?(0,v._)(o||(o=m(["{minContains: ","}"])),r):(0,v._)(i||(i=m(["{minContains: ",", maxContains: ","}"])),r,n)}},code:function(e){var t,r,n=e.gen,a=e.schema,o=e.parentSchema,i=e.data,y=e.it,g=o.minContains,b=o.maxContains;y.opts.next?(t=void 0===g?1:g,r=b):t=1;var w=n.const("len",(0,v._)(s||(s=m(["",".length"])),i));if(e.setParams({min:t,max:r}),void 0!==r||0!==t){if(void 0!==r&&t>r)return(0,_.checkStrictMode)(y,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,_.alwaysValidSchema)(y,a)){var k=(0,v._)(c||(c=m([""," >= ",""])),w,t);return void 0!==r&&(k=(0,v._)(u||(u=m([""," && "," <= ",""])),k,w,r)),void e.pass(k)}y.items=!0;var x=n.name("valid");void 0===r&&1===t?E(x,(function(){return n.if(x,(function(){return n.break()}))})):0===t?(n.let(x,!0),void 0!==r&&n.if((0,v._)(l||(l=m(["",".length > 0"])),i),j)):(n.let(x,!1),j()),e.result(x,(function(){return e.reset()}))}else(0,_.checkStrictMode)(y,'"minContains" == 0 without "maxContains": "contains" keyword ignored');function j(){var e=n.name("_valid"),a=n.let("count",0);E(e,(function(){return n.if(e,(function(){return function(e){n.code((0,v._)(f||(f=m(["","++"])),e)),void 0===r?n.if((0,v._)(d||(d=m([""," >= ",""])),e,t),(function(){return n.assign(x,!0).break()})):(n.if((0,v._)(p||(p=m([""," > ",""])),e,r),(function(){return n.assign(x,!1).break()})),1===t?n.assign(x,!0):n.if((0,v._)(h||(h=m([""," >= ",""])),e,t),(function(){return n.assign(x,!0)})))}(a)}))}))}function E(t,r){n.forRange("i",0,w,(function(n){e.subschema({keyword:"contains",dataProp:n,dataPropType:_.Type.Num,compositeRule:!0},t),r()}))}}};t.default=y},28760:function(e,t,r){"use strict";var n,a,o,i=r(74704).default,s=r(27424).default,c=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;var u=r(26774),l=r(81111),f=r(81853);t.error={message:function(e){var t=e.params,r=t.property,a=t.depsCount,o=t.deps,i=1===a?"property":"properties";return(0,u.str)(n||(n=c(["must have "," "," when property "," is present"])),i,o,r)},params:function(e){var t=e.params,r=t.property,n=t.depsCount,o=t.deps,i=t.missingProperty;return(0,u._)(a||(a=c(["{property: ",",\n    missingProperty: ",",\n    depsCount: ",",\n    deps: ","}"])),r,i,n,o)}};var d={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code:function(e){var t=function(e){var t=e.schema,r={},n={};for(var a in t){if("__proto__"!==a)(Array.isArray(t[a])?r:n)[a]=t[a]}return[r,n]}(e),r=s(t,2),n=r[0],a=r[1];p(e,n),h(e,a)}};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema,r=e.gen,n=e.data,a=e.it;if(0!==Object.keys(t).length){var s=r.let("missing"),l=function(){var l=t[d];if(0===l.length)return 1;var p=(0,f.propertyInData)(r,n,d,a.opts.ownProperties);e.setParams({property:d,depsCount:l.length,deps:l.join(", ")}),a.allErrors?r.if(p,(function(){var t,r=i(l);try{for(r.s();!(t=r.n()).done;){var n=t.value;(0,f.checkReportMissingProp)(e,n)}}catch(a){r.e(a)}finally{r.f()}})):(r.if((0,u._)(o||(o=c([""," && (",")"])),p,(0,f.checkMissingProp)(e,l,s))),(0,f.reportMissingProp)(e,s),r.else())};for(var d in t)l()}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.schema,r=e.gen,n=e.data,a=e.keyword,o=e.it,i=r.name("valid"),s=function(s){if((0,l.alwaysValidSchema)(o,t[s]))return 1;r.if((0,f.propertyInData)(r,n,s,o.opts.ownProperties),(function(){var t=e.subschema({keyword:a,schemaProp:s},i);e.mergeValidEvaluated(t,i)}),(function(){return r.var(i,!0)})),e.ok(i)};for(var c in t)s(c)}t.validatePropertyDeps=p,t.validateSchemaDeps=h,t.default=d},22838:function(e,t,r){"use strict";var n,a,o,i=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(26774),c=r(81111),u={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:function(e){var t=e.params;return(0,s.str)(n||(n=i(['must match "','" schema'])),t.ifClause)},params:function(e){var t=e.params;return(0,s._)(a||(a=i(["{failingKeyword: ","}"])),t.ifClause)}},code:function(e){var t=e.gen,r=e.parentSchema,n=e.it;void 0===r.then&&void 0===r.else&&(0,c.checkStrictMode)(n,'"if" without "then" and "else" is ignored');var a=l(n,"then"),u=l(n,"else");if(a||u){var f=t.let("valid",!0),d=t.name("_valid");if(function(){var t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},d);e.mergeEvaluated(t)}(),e.reset(),a&&u){var p=t.let("ifClause");e.setParams({ifClause:p}),t.if(d,h("then",p),h("else",p))}else a?t.if(d,h("then")):t.if((0,s.not)(d),h("else"));e.pass(f,(function(){return e.error(!0)}))}function h(r,n){return function(){var a=e.subschema({keyword:r},d);t.assign(f,d),e.mergeValidEvaluated(a,f),n?t.assign(n,(0,s._)(o||(o=i(["",""])),r)):e.setParams({ifClause:r})}}}};function l(e,t){var r=e.schema[t];return void 0!==r&&!(0,c.alwaysValidSchema)(e,r)}t.default=u},93729:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(27394),a=r(48951),o=r(27143),i=r(78814),s=r(39788),c=r(28760),u=r(71847),l=r(89298),f=r(91393),d=r(11544),p=r(12689),h=r(89937),m=r(78294),v=r(43163),_=r(22838),y=r(95640);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[p.default,h.default,m.default,v.default,_.default,y.default,u.default,l.default,c.default,f.default,d.default];return e?t.push(a.default,i.default):t.push(n.default,o.default),t.push(s.default),t}},27143:function(e,t,r){"use strict";var n,a,o=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;var i=r(26774),s=r(81111),c=r(81853),u={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code:function(e){var t=e.schema,r=e.it;if(Array.isArray(t))return l(e,"additionalItems",t);r.items=!0,(0,s.alwaysValidSchema)(r,t)||e.ok((0,c.validateArray)(e))}};function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.schema,c=e.gen,u=e.parentSchema,l=e.data,f=e.keyword,d=e.it;!function(e){var n=d.opts,a=d.errSchemaPath,o=r.length,i=o===e.minItems&&(o===e.maxItems||!1===e[t]);if(n.strictTuples&&!i){var c='"'.concat(f,'" is ').concat(o,"-tuple, but minItems or maxItems/").concat(t,' are not specified or different at path "').concat(a,'"');(0,s.checkStrictMode)(d,c,n.strictTuples)}}(u),d.opts.unevaluated&&r.length&&!0!==d.items&&(d.items=s.mergeEvaluated.items(c,r.length,d.items));var p=c.name("valid"),h=c.const("len",(0,i._)(n||(n=o(["",".length"])),l));r.forEach((function(t,r){(0,s.alwaysValidSchema)(d,t)||(c.if((0,i._)(a||(a=o([""," > ",""])),h,r),(function(){return e.subschema({keyword:f,schemaProp:r,dataProp:r},p)})),e.ok(p))}))}t.validateTuple=l,t.default=u},78814:function(e,t,r){"use strict";var n,a,o=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var i=r(26774),s=r(81111),c=r(81853),u=r(27394),l={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:function(e){var t=e.params.len;return(0,i.str)(n||(n=o(["must NOT have more than "," items"])),t)},params:function(e){var t=e.params.len;return(0,i._)(a||(a=o(["{limit: ","}"])),t)}},code:function(e){var t=e.schema,r=e.parentSchema,n=e.it,a=r.prefixItems;n.items=!0,(0,s.alwaysValidSchema)(n,t)||(a?(0,u.validateAdditionalItems)(e,a):e.ok((0,c.validateArray)(e)))}};t.default=l},12689:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(81111),a={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code:function(e){var t=e.gen,r=e.schema,a=e.it;if((0,n.alwaysValidSchema)(a,r))e.fail();else{var o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,(function(){return e.reset()}),(function(){return e.error()}))}},error:{message:"must NOT be valid"}};t.default=a},78294:function(e,t,r){"use strict";var n,a,o,i=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(26774),c=r(81111),u={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:function(e){var t=e.params;return(0,s._)(n||(n=i(["{passingSchemas: ","}"])),t.passing)}},code:function(e){var t=e.gen,r=e.schema,n=e.parentSchema,u=e.it;if(!Array.isArray(r))throw new Error("ajv implementation error");if(!u.opts.discriminator||!n.discriminator){var l=r,f=t.let("valid",!1),d=t.let("passing",null),p=t.name("_valid");e.setParams({passing:d}),t.block((function(){l.forEach((function(r,n){var l;(0,c.alwaysValidSchema)(u,r)?t.var(p,!0):l=e.subschema({keyword:"oneOf",schemaProp:n,compositeRule:!0},p),n>0&&t.if((0,s._)(a||(a=i([""," && ",""])),p,f)).assign(f,!1).assign(d,(0,s._)(o||(o=i(["[",", ","]"])),d,n)).else(),t.if(p,(function(){t.assign(f,!0),t.assign(d,n),l&&e.mergeEvaluated(l,s.Name)}))}))})),e.result(f,(function(){return e.reset()}),(function(){return e.error(!0)}))}}};t.default=u},11544:function(e,t,r){"use strict";var n,a,o=r(59400).default,i=r(74704).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(81853),c=r(26774),u=r(81111),l=r(81111),f={keyword:"patternProperties",type:"object",schemaType:"object",code:function(e){var t=e.gen,r=e.schema,f=e.data,d=e.parentSchema,p=e.it,h=p.opts,m=(0,s.allSchemaProperties)(r),v=m.filter((function(e){return(0,u.alwaysValidSchema)(p,r[e])}));if(0!==m.length&&(v.length!==m.length||p.opts.unevaluated&&!0!==p.props)){var _=h.strictSchema&&!h.allowMatchingProperties&&d.properties,y=t.name("valid");!0===p.props||p.props instanceof c.Name||(p.props=(0,l.evaluatedPropsToName)(t,p.props));var g=p.props;!function(){var e,r=i(m);try{for(r.s();!(e=r.n()).done;){var n=e.value;_&&b(n),p.allErrors?w(n):(t.var(y,!0),w(n),t.if(y))}}catch(a){r.e(a)}finally{r.f()}}()}function b(e){for(var t in _)new RegExp(e).test(t)&&(0,u.checkStrictMode)(p,"property ".concat(t," matches pattern ").concat(e," (use allowMatchingProperties)"))}function w(r){t.forIn("key",f,(function(i){t.if((0,c._)(n||(n=o(["",".test(",")"])),(0,s.usePattern)(e,r),i),(function(){var n=v.includes(r);n||e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:i,dataPropType:l.Type.Str},y),p.opts.unevaluated&&!0!==g?t.assign((0,c._)(a||(a=o(["","[","]"])),g,i),!0):n||p.allErrors||t.if((0,c.not)(y),(function(){return t.break()}))}))}))}}};t.default=f},48951:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(27143),a={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:function(e){return(0,n.validateTuple)(e,"items")}};t.default=a},91393:function(e,t,r){"use strict";var n=r(74704).default;Object.defineProperty(t,"__esModule",{value:!0});var a=r(67733),o=r(81853),i=r(81111),s=r(89298),c={keyword:"properties",type:"object",schemaType:"object",code:function(e){var t=e.gen,r=e.schema,c=e.parentSchema,u=e.data,l=e.it;"all"===l.opts.removeAdditional&&void 0===c.additionalProperties&&s.default.code(new a.KeywordCxt(l,s.default,"additionalProperties"));var f,d=(0,o.allSchemaProperties)(r),p=n(d);try{for(p.s();!(f=p.n()).done;){var h=f.value;l.definedProperties.add(h)}}catch(k){p.e(k)}finally{p.f()}l.opts.unevaluated&&d.length&&!0!==l.props&&(l.props=i.mergeEvaluated.props(t,(0,i.toHash)(d),l.props));var m=d.filter((function(e){return!(0,i.alwaysValidSchema)(l,r[e])}));if(0!==m.length){var v,_=t.name("valid"),y=n(m);try{for(y.s();!(v=y.n()).done;){var g=v.value;b(g)?w(g):(t.if((0,o.propertyInData)(t,u,g,l.opts.ownProperties)),w(g),l.allErrors||t.else().var(_,!0),t.endIf()),e.it.definedProperties.add(g),e.ok(_)}}catch(k){y.e(k)}finally{y.f()}}function b(e){return l.opts.useDefaults&&!l.compositeRule&&void 0!==r[e].default}function w(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},_)}}};t.default=c},71847:function(e,t,r){"use strict";var n,a=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r(26774),i=r(81111),s={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:function(e){var t=e.params;return(0,o._)(n||(n=a(["{propertyName: ","}"])),t.propertyName)}},code:function(e){var t=e.gen,r=e.schema,n=e.data,a=e.it;if(!(0,i.alwaysValidSchema)(a,r)){var s=t.name("valid");t.forIn("key",n,(function(r){e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},s),t.if((0,o.not)(s),(function(){e.error(!0),a.allErrors||t.break()}))})),e.ok(s)}}};t.default=s},95640:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(81111),a={keyword:["then","else"],schemaType:["object","boolean"],code:function(e){var t=e.keyword,r=e.parentSchema,a=e.it;void 0===r.if&&(0,n.checkStrictMode)(a,'"'.concat(t,'" without "if" is ignored'))}};t.default=a},81853:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p,h,m,v,_,y=r(861).default,g=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;var b=r(26774),w=r(81111),k=r(40052),x=r(81111);function j(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,b._)(o||(o=g(["Object.prototype.hasOwnProperty"])))})}function E(e,t,r){return(0,b._)(i||(i=g(["",".call(",", ",")"])),j(e),t,r)}function S(e,t,r,n){var a=(0,b._)(u||(u=g(["",""," === undefined"])),t,(0,b.getProperty)(r));return n?(0,b.or)(a,(0,b.not)(E(e,t,r))):a}function O(e){return e?Object.keys(e).filter((function(e){return"__proto__"!==e})):[]}t.checkReportMissingProp=function(e,t){var r=e.gen,a=e.data,o=e.it;r.if(S(r,a,t,o.opts.ownProperties),(function(){e.setParams({missingProperty:(0,b._)(n||(n=g(["",""])),t)},!0),e.error()}))},t.checkMissingProp=function(e,t,r){var n=e.gen,o=e.data,i=e.it.opts;return b.or.apply(void 0,y(t.map((function(e){return(0,b.and)(S(n,o,e,i.ownProperties),(0,b._)(a||(a=g([""," = ",""])),r,e))}))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=j,t.isOwnProperty=E,t.propertyInData=function(e,t,r,n){var a=(0,b._)(s||(s=g(["",""," !== undefined"])),t,(0,b.getProperty)(r));return n?(0,b._)(c||(c=g([""," && ",""])),a,E(e,t,r)):a},t.noPropertyInData=S,t.allSchemaProperties=O,t.schemaProperties=function(e,t){return O(t).filter((function(r){return!(0,w.alwaysValidSchema)(e,t[r])}))},t.callValidateCode=function(e,t,r,n){var a=e.schemaCode,o=e.data,i=e.it,s=i.gen,c=i.topSchemaRef,u=i.schemaPath,h=i.errorPath,m=e.it,v=n?(0,b._)(l||(l=g(["",", ",", ","",""])),a,o,c,u):o,_=[[k.default.instancePath,(0,b.strConcat)(k.default.instancePath,h)],[k.default.parentData,m.parentData],[k.default.parentDataProperty,m.parentDataProperty],[k.default.rootData,k.default.rootData]];m.opts.dynamicRef&&_.push([k.default.dynamicAnchors,k.default.dynamicAnchors]);var y=(0,b._)(f||(f=g(["",", ",""])),v,s.object.apply(s,_));return r!==b.nil?(0,b._)(d||(d=g(["",".call(",", ",")"])),t,r,y):(0,b._)(p||(p=g(["","(",")"])),t,y)};var P=(0,b._)(h||(h=g(["new RegExp"])));t.usePattern=function(e,t){var r=e.gen,n=e.it.opts,a=n.unicodeRegExp?"u":"",o=n.code.regExp,i=o(t,a);return r.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,b._)(m||(m=g(["","(",", ",")"])),"new RegExp"===o.code?P:(0,x.useFunc)(r,o),t,a)})},t.validateArray=function(e){var t=e.gen,r=e.data,n=e.keyword,a=e.it,o=t.name("valid");if(a.allErrors){var i=t.let("valid",!0);return s((function(){return t.assign(i,!1)})),i}return t.var(o,!0),s((function(){return t.break()})),o;function s(a){var i=t.const("len",(0,b._)(v||(v=g(["",".length"])),r));t.forRange("i",0,i,(function(r){e.subschema({keyword:n,dataProp:r,dataPropType:w.Type.Num},o),t.if((0,b.not)(o),a)}))}},t.validateUnion=function(e){var t=e.gen,r=e.schema,n=e.keyword,a=e.it;if(!Array.isArray(r))throw new Error("ajv implementation error");if(!r.some((function(e){return(0,w.alwaysValidSchema)(a,e)}))||a.opts.unevaluated){var o=t.let("valid",!1),i=t.name("_valid");t.block((function(){return r.forEach((function(r,a){var s=e.subschema({keyword:n,schemaProp:a,compositeRule:!0},i);t.assign(o,(0,b._)(_||(_=g([""," || ",""])),o,i)),e.mergeValidEvaluated(s,i)||t.if((0,b.not)(o))}))})),e.result(o,(function(){return e.reset()}),(function(){return e.error(!0)}))}}},93369:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={keyword:"id",code:function(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=r},55613:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(93369),a=r(70938),o=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",n.default,a.default];t.default=o},70938:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;var p=r(86594),h=r(81853),m=r(26774),v=r(40052),_=r(33393),y=r(81111),g={keyword:"$ref",schemaType:"string",code:function(e){var t=e.gen,r=e.schema,a=e.it,o=a.baseId,i=a.schemaEnv,s=a.validateName,c=a.opts,u=a.self,l=i.root;if(("#"===r||"#/"===r)&&o===l.baseId)return function(){if(i===l)return w(e,s,i,i.$async);var r=t.scopeValue("root",{ref:l});return w(e,(0,m._)(n||(n=d(["",".validate"])),r),l,l.$async)}();var f=_.resolveRef.call(u,l,o,r);if(void 0===f)throw new p.default(a.opts.uriResolver,o,r);return f instanceof _.SchemaEnv?function(t){var r=b(e,t);w(e,r,t,t.$async)}(f):function(n){var a=t.scopeValue("schema",!0===c.code.source?{ref:n,code:(0,m.stringify)(n)}:{ref:n}),o=t.name("valid"),i=e.subschema({schema:n,dataTypes:[],schemaPath:m.nil,topSchemaRef:a,errSchemaPath:r},o);e.mergeEvaluated(i),e.ok(o)}(f)}};function b(e,t){var r=e.gen;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,m._)(a||(a=d(["",".validate"])),r.scopeValue("wrapper",{ref:t}))}function w(e,t,r,n){var a=e.gen,p=e.it,_=p.allErrors,g=p.schemaEnv,b=p.opts.passContext?v.default.this:m.nil;function w(e){var t=(0,m._)(s||(s=d(["",".errors"])),e);a.assign(v.default.vErrors,(0,m._)(c||(c=d([""," === null ? "," : ",".concat(",")"])),v.default.vErrors,t,v.default.vErrors,t)),a.assign(v.default.errors,(0,m._)(u||(u=d(["",".length"])),v.default.vErrors))}function k(e){var t;if(p.opts.unevaluated){var n=null===(t=null===r||void 0===r?void 0:r.validate)||void 0===t?void 0:t.evaluated;if(!0!==p.props)if(n&&!n.dynamicProps)void 0!==n.props&&(p.props=y.mergeEvaluated.props(a,n.props,p.props));else{var o=a.var("props",(0,m._)(l||(l=d(["",".evaluated.props"])),e));p.props=y.mergeEvaluated.props(a,o,p.props,m.Name)}if(!0!==p.items)if(n&&!n.dynamicItems)void 0!==n.items&&(p.items=y.mergeEvaluated.items(a,n.items,p.items));else{var i=a.var("items",(0,m._)(f||(f=d(["",".evaluated.items"])),e));p.items=y.mergeEvaluated.items(a,i,p.items,m.Name)}}}n?function(){if(!g.$async)throw new Error("async schema referenced by sync schema");var r=a.let("valid");a.try((function(){a.code((0,m._)(o||(o=d(["await ",""])),(0,h.callValidateCode)(e,t,b))),k(t),_||a.assign(r,!0)}),(function(e){a.if((0,m._)(i||(i=d(["!("," instanceof ",")"])),e,p.ValidationError),(function(){return a.throw(e)})),w(e),_||a.assign(r,!1)})),e.ok(r)}():e.result((0,h.callValidateCode)(e,t,b),(function(){return k(t)}),(function(){return w(t)}))}t.getValidate=b,t.callRef=w,t.default=g},68819:function(e,t,r){"use strict";var n,a,o,i,s=r(74704).default,c=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(26774),l=r(88602),f=r(33393),d=r(81111),p={keyword:"discriminator",type:"object",schemaType:"object",error:{message:function(e){var t=e.params,r=t.discrError,n=t.tagName;return r===l.DiscrError.Tag?'tag "'.concat(n,'" must be string'):'value of tag "'.concat(n,'" must be in oneOf')},params:function(e){var t=e.params,r=t.discrError,a=t.tag,o=t.tagName;return(0,u._)(n||(n=c(["{error: ",", tag: ",", tagValue: ","}"])),r,o,a)}},code:function(e){var t=e.gen,r=e.data,n=e.schema,p=e.parentSchema,h=e.it,m=p.oneOf;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");var v=n.propertyName;if("string"!=typeof v)throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");var _=t.let("valid",!1),y=t.const("tag",(0,u._)(a||(a=c(["","",""])),r,(0,u.getProperty)(v)));function g(r){var n=t.name("valid"),a=e.subschema({keyword:"oneOf",schemaProp:r},n);return e.mergeEvaluated(a,u.Name),n}t.if((0,u._)(o||(o=c(["typeof ",' == "string"'])),y),(function(){return function(){var r=function(){for(var e,t={},r=c(p),n=!0,a=0;a<m.length;a++){var o=m[a];(null===o||void 0===o?void 0:o.$ref)&&!(0,d.schemaHasRulesButRef)(o,h.self.RULES)&&(o=f.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,null===o||void 0===o?void 0:o.$ref))instanceof f.SchemaEnv&&(o=o.schema);var i=null===(e=null===o||void 0===o?void 0:o.properties)||void 0===e?void 0:e[v];if("object"!=typeof i)throw new Error('discriminator: oneOf subschemas (or referenced schemas) must have "properties/'.concat(v,'"'));n=n&&(r||c(o)),u(i,a)}if(!n)throw new Error('discriminator: "'.concat(v,'" must be required'));return t;function c(e){var t=e.required;return Array.isArray(t)&&t.includes(v)}function u(e,t){if(e.const)l(e.const,t);else{if(!e.enum)throw new Error('discriminator: "properties/'.concat(v,'" must have "const" or "enum"'));var r,n=s(e.enum);try{for(n.s();!(r=n.n()).done;){l(r.value,t)}}catch(a){n.e(a)}finally{n.f()}}}function l(e,r){if("string"!=typeof e||e in t)throw new Error('discriminator: "'.concat(v,'" values must be unique strings'));t[e]=r}}();for(var n in t.if(!1),r)t.elseIf((0,u._)(i||(i=c([""," === ",""])),y,n)),t.assign(_,g(r[n]));t.else(),e.error(!1,{discrError:l.DiscrError.Mapping,tag:y,tagName:v}),t.endIf()}()}),(function(){return e.error(!1,{discrError:l.DiscrError.Tag,tag:y,tagName:v})})),e.ok(_)}};t.default=p},88602:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))},77848:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(55613),a=r(10433),o=r(93729),i=r(68571),s=r(44076),c=[n.default,a.default,(0,o.default)(),i.default,s.metadataVocabulary,s.contentVocabulary];t.default=c},86722:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p,h,m,v,_,y,g,b=r(27424).default,w=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var k=r(26774),x={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:function(e){var t=e.schemaCode;return(0,k.str)(n||(n=w(['must match format "','"'])),t)},params:function(e){var t=e.schemaCode;return(0,k._)(a||(a=w(["{format: ","}"])),t)}},code:function(e,t){var r=e.gen,n=e.data,a=e.$data,x=e.schema,j=e.schemaCode,E=e.it,S=E.opts,O=E.errSchemaPath,P=E.schemaEnv,A=E.self;S.validateFormats&&(a?function(){var a=r.scopeValue("formats",{ref:A.formats,code:S.code.formats}),m=r.const("fDef",(0,k._)(o||(o=w(["","[","]"])),a,j)),v=r.let("fType"),_=r.let("format");r.if((0,k._)(i||(i=w(["typeof ",' == "object" && !('," instanceof RegExp)"])),m,m),(function(){return r.assign(v,(0,k._)(s||(s=w(["",'.type || "string"'])),m)).assign(_,(0,k._)(c||(c=w(["",".validate"])),m))}),(function(){return r.assign(v,(0,k._)(u||(u=w(['"string"'])))).assign(_,m)})),e.fail$data((0,k.or)(!1===S.strictSchema?k.nil:(0,k._)(l||(l=w([""," && !",""])),j,_),function(){var e=P.$async?(0,k._)(f||(f=w(["(",".async ? await ","(",") : ","(","))"])),m,_,n,_,n):(0,k._)(d||(d=w(["","(",")"])),_,n),r=(0,k._)(p||(p=w(["(typeof ",' == "function" ? '," : ",".test(","))"])),_,e,_,n);return(0,k._)(h||(h=w([""," && "," !== true && "," === "," && !",""])),_,_,v,t,r)}()))}():function(){var a=A.formats[x];if(!a)return void function(){if(!1===S.strictSchema)return void A.logger.warn(e());throw new Error(e());function e(){return'unknown format "'.concat(x,'" ignored in schema at path "').concat(O,'"')}}();if(!0===a)return;var o=function(e){var t=e instanceof RegExp?(0,k.regexpCode)(e):S.code.formats?(0,k._)(m||(m=w(["","",""])),S.code.formats,(0,k.getProperty)(x)):void 0,n=r.scopeValue("formats",{key:x,ref:e,code:t});if("object"==typeof e&&!(e instanceof RegExp))return[e.type||"string",e.validate,(0,k._)(v||(v=w(["",".validate"])),n)];return["string",e,n]}(a),i=b(o,3),s=i[0],c=i[1],u=i[2];s===t&&e.pass(function(){if("object"==typeof a&&!(a instanceof RegExp)&&a.async){if(!P.$async)throw new Error("async format in sync schema");return(0,k._)(_||(_=w(["await ","(",")"])),u,n)}return"function"==typeof c?(0,k._)(y||(y=w(["","(",")"])),u,n):(0,k._)(g||(g=w(["",".test(",")"])),u,n)}())}())}};t.default=x},68571:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[r(86722).default];t.default=n},44076:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},74143:function(e,t,r){"use strict";var n,a,o,i=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(26774),c=r(81111),u=r(17993),l={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:function(e){var t=e.schemaCode;return(0,s._)(n||(n=i(["{allowedValue: ","}"])),t)}},code:function(e){var t=e.gen,r=e.data,n=e.$data,l=e.schemaCode,f=e.schema;n||f&&"object"==typeof f?e.fail$data((0,s._)(a||(a=i(["!","(",", ",")"])),(0,c.useFunc)(t,u.default),r,l)):e.fail((0,s._)(o||(o=i([""," !== ",""])),f,r))}};t.default=l},41424:function(e,t,r){"use strict";var n,a,o,i,s=r(861).default,c=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(26774),l=r(81111),f=r(17993),d={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:function(e){var t=e.schemaCode;return(0,u._)(n||(n=c(["{allowedValues: ","}"])),t)}},code:function(e){var t=e.gen,r=e.data,n=e.$data,d=e.schema,p=e.schemaCode,h=e.it;if(!n&&0===d.length)throw new Error("enum must have non-empty array");var m,v,_=d.length>=h.opts.loopEnum,y=function(){return null!==m&&void 0!==m?m:m=(0,l.useFunc)(t,f.default)};if(_||n)v=t.let("valid"),e.block$data(v,(function(){t.assign(v,!1),t.forOf("v",p,(function(e){return t.if((0,u._)(a||(a=c(["","(",", ",")"])),y(),r,e),(function(){return t.assign(v,!0).break()}))}))}));else{if(!Array.isArray(d))throw new Error("ajv implementation error");var g=t.const("vSchema",p);v=u.or.apply(void 0,s(d.map((function(e,t){return function(e,t){var n=d[t];return"object"===typeof n&&null!==n?(0,u._)(o||(o=c(["","(",", ","[","])"])),y(),r,e,t):(0,u._)(i||(i=c([""," === ",""])),r,n)}(g,t)}))))}e.pass(v)}};t.default=d},10433:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(28927),a=r(14221),o=r(72794),i=r(51612),s=r(43885),c=r(87738),u=r(20259),l=r(18596),f=r(74143),d=r(41424),p=[n.default,a.default,o.default,i.default,s.default,c.default,u.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,d.default];t.default=p},20259:function(e,t,r){"use strict";var n,a,o,i=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(26774),c={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:function(e){var t=e.keyword,r=e.schemaCode,a="maxItems"===t?"more":"fewer";return(0,s.str)(n||(n=i(["must NOT have "," than "," items"])),a,r)},params:function(e){var t=e.schemaCode;return(0,s._)(a||(a=i(["{limit: ","}"])),t)}},code:function(e){var t=e.keyword,r=e.data,n=e.schemaCode,a="maxItems"===t?s.operators.GT:s.operators.LT;e.fail$data((0,s._)(o||(o=i(["",".length "," ",""])),r,a,n))}};t.default=c},72794:function(e,t,r){"use strict";var n,a,o,i,s,c=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(26774),l=r(81111),f=r(12973),d={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:function(e){var t=e.keyword,r=e.schemaCode,a="maxLength"===t?"more":"fewer";return(0,u.str)(n||(n=c(["must NOT have "," than "," characters"])),a,r)},params:function(e){var t=e.schemaCode;return(0,u._)(a||(a=c(["{limit: ","}"])),t)}},code:function(e){var t=e.keyword,r=e.data,n=e.schemaCode,a=e.it,d="maxLength"===t?u.operators.GT:u.operators.LT,p=!1===a.opts.unicode?(0,u._)(o||(o=c(["",".length"])),r):(0,u._)(i||(i=c(["","(",")"])),(0,l.useFunc)(e.gen,f.default),r);e.fail$data((0,u._)(s||(s=c([""," "," ",""])),p,d,n))}};t.default=d},28927:function(e,t,r){"use strict";var n,a,o,i=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(26774),c=s.operators,u={maximum:{okStr:"<=",ok:c.LTE,fail:c.GT},minimum:{okStr:">=",ok:c.GTE,fail:c.LT},exclusiveMaximum:{okStr:"<",ok:c.LT,fail:c.GTE},exclusiveMinimum:{okStr:">",ok:c.GT,fail:c.LTE}},l={message:function(e){var t=e.keyword,r=e.schemaCode;return(0,s.str)(n||(n=i(["must be "," ",""])),u[t].okStr,r)},params:function(e){var t=e.keyword,r=e.schemaCode;return(0,s._)(a||(a=i(["{comparison: ",", limit: ","}"])),u[t].okStr,r)}},f={keyword:Object.keys(u),type:"number",schemaType:"number",$data:!0,error:l,code:function(e){var t=e.keyword,r=e.data,n=e.schemaCode;e.fail$data((0,s._)(o||(o=i([""," "," "," || isNaN(",")"])),r,u[t].fail,n,r))}};t.default=f},43885:function(e,t,r){"use strict";var n,a,o,i=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(26774),c={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:function(e){var t=e.keyword,r=e.schemaCode,a="maxProperties"===t?"more":"fewer";return(0,s.str)(n||(n=i(["must NOT have "," than "," properties"])),a,r)},params:function(e){var t=e.schemaCode;return(0,s._)(a||(a=i(["{limit: ","}"])),t)}},code:function(e){var t=e.keyword,r=e.data,n=e.schemaCode,a="maxProperties"===t?s.operators.GT:s.operators.LT;e.fail$data((0,s._)(o||(o=i(["Object.keys(",").length "," ",""])),r,a,n))}};t.default=c},14221:function(e,t,r){"use strict";var n,a,o,i,s,c=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(26774),l={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:function(e){var t=e.schemaCode;return(0,u.str)(n||(n=c(["must be multiple of ",""])),t)},params:function(e){var t=e.schemaCode;return(0,u._)(a||(a=c(["{multipleOf: ","}"])),t)}},code:function(e){var t=e.gen,r=e.data,n=e.schemaCode,a=e.it.opts.multipleOfPrecision,l=t.let("res"),f=a?(0,u._)(o||(o=c(["Math.abs(Math.round(",") - ",") > 1e-",""])),l,l,a):(0,u._)(i||(i=c([""," !== parseInt(",")"])),l,l);e.fail$data((0,u._)(s||(s=c(["("," === 0 || ("," = ","/",", ","))"])),n,l,r,n,f))}};t.default=l},51612:function(e,t,r){"use strict";var n,a,o,i,s=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var c=r(81853),u=r(26774),l={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:function(e){var t=e.schemaCode;return(0,u.str)(n||(n=s(['must match pattern "','"'])),t)},params:function(e){var t=e.schemaCode;return(0,u._)(a||(a=s(["{pattern: ","}"])),t)}},code:function(e){var t=e.data,r=e.$data,n=e.schema,a=e.schemaCode,l=e.it.opts.unicodeRegExp?"u":"",f=r?(0,u._)(o||(o=s(["(new RegExp(",", ","))"])),a,l):(0,c.usePattern)(e,n);e.fail$data((0,u._)(i||(i=s(["!",".test(",")"])),f,t))}};t.default=l},87738:function(e,t,r){"use strict";var n,a,o=r(74704).default,i=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(81853),c=r(26774),u=r(81111),l={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:function(e){var t=e.params.missingProperty;return(0,c.str)(n||(n=i(["must have required property '","'"])),t)},params:function(e){var t=e.params.missingProperty;return(0,c._)(a||(a=i(["{missingProperty: ","}"])),t)}},code:function(e){var t=e.gen,r=e.schema,n=e.schemaCode,a=e.data,i=e.$data,l=e.it,f=l.opts;if(i||0!==r.length){var d=r.length>=f.loopRequired;if(l.allErrors?function(){if(d||i)e.block$data(c.nil,b);else{var t,n=o(r);try{for(n.s();!(t=n.n()).done;){var a=t.value;(0,s.checkReportMissingProp)(e,a)}}catch(u){n.e(u)}finally{n.f()}}}():function(){var o=t.let("missing");if(d||i){var u=t.let("valid",!0);e.block$data(u,(function(){return function(r,o){e.setParams({missingProperty:r}),t.forOf(r,n,(function(){t.assign(o,(0,s.propertyInData)(t,a,r,f.ownProperties)),t.if((0,c.not)(o),(function(){e.error(),t.break()}))}),c.nil)}(o,u)})),e.ok(u)}else t.if((0,s.checkMissingProp)(e,r,o)),(0,s.reportMissingProp)(e,o),t.else()}(),f.strictRequired){var p,h=e.parentSchema.properties,m=e.it.definedProperties,v=o(r);try{for(v.s();!(p=v.n()).done;){var _=p.value;if(void 0===(null===h||void 0===h?void 0:h[_])&&!m.has(_)){var y=l.schemaEnv.baseId+l.errSchemaPath,g='required property "'.concat(_,'" is not defined at "').concat(y,'" (strictRequired)');(0,u.checkStrictMode)(l,g,l.opts.strictRequired)}}}catch(w){v.e(w)}finally{v.f()}}}function b(){t.forOf("prop",n,(function(r){e.setParams({missingProperty:r}),t.if((0,s.noPropertyInData)(t,a,r,f.ownProperties),(function(){return e.error()}))}))}}};t.default=l},18596:function(e,t,r){"use strict";var n,a,o,i,s,c,u,l,f,d,p,h,m,v,_,y,g,b=r(59400).default;Object.defineProperty(t,"__esModule",{value:!0});var w=r(11562),k=r(26774),x=r(81111),j=r(17993),E={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:function(e){var t=e.params,r=t.i,a=t.j;return(0,k.str)(n||(n=b(["must NOT have duplicate items (items ## "," and "," are identical)"])),a,r)},params:function(e){var t=e.params,r=t.i,n=t.j;return(0,k._)(a||(a=b(["{i: ",", j: ","}"])),r,n)}},code:function(e){var t=e.gen,r=e.data,n=e.$data,a=e.schema,E=e.parentSchema,S=e.schemaCode,O=e.it;if(n||a){var P=t.let("valid"),A=E.items?(0,w.getSchemaTypes)(E.items):[];e.block$data(P,(function(){var n=t.let("i",(0,k._)(i||(i=b(["",".length"])),r)),a=t.let("j");e.setParams({i:n,j:a}),t.assign(P,!0),t.if((0,k._)(s||(s=b([""," > 1"])),n),(function(){return(A.length>0&&!A.some((function(e){return"object"===e||"array"===e}))?T:C)(n,a)}))}),(0,k._)(o||(o=b([""," === false"])),S)),e.ok(P)}function T(n,a){var o=t.name("item"),i=(0,w.checkDataTypes)(A,o,O.opts.strictNumbers,w.DataType.Wrong),s=t.const("indices",(0,k._)(c||(c=b(["{}"]))));t.for((0,k._)(u||(u=b([";","--;"])),n),(function(){t.let(o,(0,k._)(l||(l=b(["","[","]"])),r,n)),t.if(i,(0,k._)(f||(f=b(["continue"])))),A.length>1&&t.if((0,k._)(d||(d=b(["typeof ",' == "string"'])),o),(0,k._)(p||(p=b(["",' += "_"'])),o)),t.if((0,k._)(h||(h=b(["typeof ","[",'] == "number"'])),s,o),(function(){t.assign(a,(0,k._)(m||(m=b(["","[","]"])),s,o)),e.error(),t.assign(P,!1).break()})).code((0,k._)(v||(v=b(["","[","] = ",""])),s,o,n))}))}function C(n,a){var o=(0,x.useFunc)(t,j.default),i=t.name("outer");t.label(i).for((0,k._)(_||(_=b([";","--;"])),n),(function(){return t.for((0,k._)(y||(y=b([""," = ","; ","--;"])),a,n,a),(function(){return t.if((0,k._)(g||(g=b(["","(","[","], ","[","])"])),o,r,n,r,a),(function(){e.error(),t.assign(P,!1).break(i)}))}))}))}}};t.default=E},45713:function(e){"use strict";var t=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),r(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function r(e,n,a,o,i,s,c,u,l,f){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var d in n(o,i,s,c,u,l,f),o){var p=o[d];if(Array.isArray(p)){if(d in t.arrayKeywords)for(var h=0;h<p.length;h++)r(e,n,a,p[h],i+"/"+d+"/"+h,s,i,d,o,h)}else if(d in t.propsKeywords){if(p&&"object"==typeof p)for(var m in p)r(e,n,a,p[m],i+"/"+d+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,i,d,o,m)}else(d in t.keywords||e.allKeys&&!(d in t.skipKeywords))&&r(e,n,a,p,i+"/"+d,s,i,d,o)}a(o,i,s,c,u,l,f)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},85259:function(t,r,n){"use strict";var a=n(5291),o=n(49445),i=n(63943),s=n(76658),c=n(2248),u=n(25553),l=n(91627),f=n(63730),d=n(17282);t.exports=y,y.prototype.validate=function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var n=this._addSchema(e);r=n.validate||this._compile(n)}var a=r(t);!0!==r.$async&&(this.errors=r.errors);return a},y.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},y.prototype.addSchema=function(e,t,r,n){if(Array.isArray(e)){for(var a=0;a<e.length;a++)this.addSchema(e[a],void 0,r,n);return this}var i=this._getId(e);if(void 0!==i&&"string"!=typeof i)throw new Error("schema id must be string");return j(this,t=o.normalizeId(t||i)),this._schemas[t]=this._addSchema(e,r,n,!0),this},y.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},y.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(m)?m:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,e);if(!n&&t){var a="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(a);this.logger.error(a)}return n},y.prototype.getSchema=function(e){var t=g(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var r=o.schema.call(e,{schema:{}},t);if(r){var n=r.schema,i=r.root,c=r.baseId,u=a.call(e,n,i,void 0,c);return e._fragments[t]=new s({ref:t,fragment:!0,schema:n,root:i,baseId:c,validate:u}),u}}(this,e)}},y.prototype.removeSchema=function(e){if(e instanceof RegExp)return b(this,this._schemas,e),b(this,this._refs,e),this;switch(typeof e){case"undefined":return b(this,this._schemas),b(this,this._refs),this._cache.clear(),this;case"string":var t=g(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,n=r?r(e):e;this._cache.del(n);var a=this._getId(e);a&&(a=o.normalizeId(a),delete this._schemas[a],delete this._refs[a])}return this},y.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},y.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,n=void 0===t.dataVar?"data":t.dataVar,a="",o=0;o<e.length;o++){var i=e[o];i&&(a+=n+i.dataPath+" "+i.message+r)}return a.slice(0,-r.length)},y.prototype._addSchema=function(e,t,r,n){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var a=this._opts.serialize,i=a?a(e):e,c=this._cache.get(i);if(c)return c;n=n||!1!==this._opts.addUsedSchema;var u=o.normalizeId(this._getId(e));u&&n&&j(this,u);var l,f=!1!==this._opts.validateSchema&&!t;f&&!(l=u&&u==o.normalizeId(e.$schema))&&this.validateSchema(e,!0);var d=o.ids.call(this,e),p=new s({id:u,schema:e,localRefs:d,cacheKey:i,meta:r});"#"!=u[0]&&n&&(this._refs[u]=p);this._cache.put(i,p),f&&l&&this.validateSchema(e,!0);return p},y.prototype._compile=function(t,r){if(t.compiling)return t.validate=i,i.schema=t.schema,i.errors=null,i.root=r||i,!0===t.schema.$async&&(i.$async=!0),i;var n,o;t.compiling=!0,t.meta&&(n=this._opts,this._opts=this._metaOpts);try{o=a.call(this,t.schema,r,t.localRefs)}catch(e){throw delete t.validate,e}finally{t.compiling=!1,t.meta&&(this._opts=n)}return t.validate=o,t.refs=o.refs,t.refVal=o.refVal,t.root=o.root,o;function i(){var e=t.validate,r=e.apply(this,arguments);return i.errors=e.errors,r}},y.prototype.compileAsync=n(79414);var p=n(23818);y.prototype.addKeyword=p.add,y.prototype.getKeyword=p.get,y.prototype.removeKeyword=p.remove,y.prototype.validateKeyword=p.validate;var h=n(58561);y.ValidationError=h.Validation,y.MissingRefError=h.MissingRef,y.$dataMetaSchema=f;var m="http://json-schema.org/draft-07/schema",v=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],_=["/properties"];function y(e){if(!(this instanceof y))return new y(e);e=this._opts=d.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:E,warn:E,error:E};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=u(e.format),this._cache=e.cache||new i,this._loadingSchemas={},this._compilations=[],this.RULES=l(),this._getId=function(e){switch(e.schemaId){case"auto":return x;case"id":return w;default:return k}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=c),this._metaOpts=function(e){for(var t=d.copy(e._opts),r=0;r<v.length;r++)delete t[v[r]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}(this),function(e){var t;e._opts.$data&&(t=n(894),e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var r=n(6680);e._opts.$data&&(r=f(r,_));e.addMetaSchema(r,m,!0),e._refs["http://json-schema.org/schema"]=m}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function g(e,t){return t=o.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function b(e,t,r){for(var n in t){var a=t[n];a.meta||r&&!r.test(n)||(e._cache.del(a.cacheKey),delete t[n])}}function w(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function k(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function x(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function j(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function E(){}},63943:function(e){"use strict";var t=e.exports=function(){this._cache={}};t.prototype.put=function(e,t){this._cache[e]=t},t.prototype.get=function(e){return this._cache[e]},t.prototype.del=function(e){delete this._cache[e]},t.prototype.clear=function(){this._cache={}}},79414:function(t,r,n){"use strict";var a=n(58561).MissingRef;t.exports=function t(r,n,o){var i=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(o=n,n=void 0);var s=c(r).then((function(){var e=i._addSchema(r,void 0,n);return e.validate||u(e)}));o&&s.then((function(e){o(null,e)}),o);return s;function c(e){var r=e.$schema;return r&&!i.getSchema(r)?t.call(i,{$ref:r},!0):Promise.resolve()}function u(t){try{return i._compile(t)}catch(e){if(e instanceof a)return function(e){var r=e.missingSchema;if(s(r))throw new Error("Schema "+r+" is loaded but "+e.missingRef+" cannot be resolved");var a=i._loadingSchemas[r];a||(a=i._loadingSchemas[r]=i._opts.loadSchema(r)).then(o,o);return a.then((function(e){if(!s(r))return c(e).then((function(){s(r)||i.addSchema(e,r,void 0,n)}))})).then((function(){return u(t)}));function o(){delete i._loadingSchemas[r]}function s(e){return i._refs[e]||i._schemas[e]}}(e);throw e}}}},58561:function(e,t,r){"use strict";var n=r(49445);function a(e,t,r){this.message=r||a.message(e,t),this.missingRef=n.url(e,t),this.missingSchema=n.normalizeId(n.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:o((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:o(a)},a.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},25553:function(t,r,n){"use strict";var a=n(17282),o=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31],s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,c=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,u=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,l=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,f=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,d=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,p=/^(?:\/(?:[^~/]|~0|~1)*)*$/,h=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,m=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function v(e){return e="full"==e?"full":"fast",a.copy(v[e])}function _(e){var t=e.match(o);if(!t)return!1;var r=+t[1],n=+t[2],a=+t[3];return n>=1&&n<=12&&a>=1&&a<=(2==n&&function(e){return e%4===0&&(e%100!==0||e%400===0)}(r)?29:i[n])}function y(e,t){var r=e.match(s);if(!r)return!1;var n=r[1],a=r[2],o=r[3],i=r[5];return(n<=23&&a<=59&&o<=59||23==n&&59==a&&60==o)&&(!t||i)}t.exports=v,v.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":l,url:f,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:c,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:k,uuid:d,"json-pointer":p,"json-pointer-uri-fragment":h,"relative-json-pointer":m},v.full={date:_,time:y,"date-time":function(e){var t=e.split(g);return 2==t.length&&_(t[0])&&y(t[1],!0)},uri:function(e){return b.test(e)&&u.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":l,url:f,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:c,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:k,uuid:d,"json-pointer":p,"json-pointer-uri-fragment":h,"relative-json-pointer":m};var g=/t|\s/i;var b=/\/|:/;var w=/[^\\]\\Z/;function k(t){if(w.test(t))return!1;try{return new RegExp(t),!0}catch(e){return!1}}},5291:function(t,r,n){"use strict";var a=n(49445),o=n(17282),i=n(58561),s=n(2248),c=n(75749),u=o.ucs2length,l=n(78262),f=i.Validation;function d(e,t,r){var n=h.call(this,e,t,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:r},{index:n,compiling:!1})}function p(e,t,r){var n=h.call(this,e,t,r);n>=0&&this._compilations.splice(n,1)}function h(e,t,r){for(var n=0;n<this._compilations.length;n++){var a=this._compilations[n];if(a.schema==e&&a.root==t&&a.baseId==r)return n}return-1}function m(e,t){return"var pattern"+e+" = new RegExp("+o.toQuotedString(t[e])+");"}function v(e){return"var default"+e+" = defaults["+e+"];"}function _(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function y(e){return"var customRule"+e+" = customRules["+e+"];"}function g(e,t){if(!e.length)return"";for(var r="",n=0;n<e.length;n++)r+=t(n,e);return r}t.exports=function t(r,n,h,b){var w=this,k=this._opts,x=[void 0],j={},E=[],S={},O=[],P={},A=[];n=n||{schema:r,refVal:x,refs:j};var T=d.call(this,r,n,b),C=this._compilations[T.index];if(T.compiling)return C.callValidate=function e(){var t=C.validate,r=t.apply(this,arguments);return e.errors=t.errors,r};var R=this._formats,I=this.RULES;try{var D=N(r,n,h,b);C.validate=D;var F=C.callValidate;return F&&(F.schema=D.schema,F.errors=null,F.refs=D.refs,F.refVal=D.refVal,F.root=D.root,F.$async=D.$async,k.sourceCode&&(F.source=D.source)),D}finally{p.call(this,r,n,b)}function N(r,s,d,p){var h=!s||s&&s.schema==r;if(s.schema!=n.schema)return t.call(w,r,s,d,p);var b,S=!0===r.$async,P=c({isTop:!0,schema:r,isRoot:h,baseId:p,root:s,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:i.MissingRef,RULES:I,validate:c,util:o,resolve:a,resolveRef:M,usePattern:L,useDefault:$,useCustomRule:W,opts:k,formats:R,logger:w.logger,self:w});P=g(x,_)+g(E,m)+g(O,v)+g(A,y)+P,k.processCode&&(P=k.processCode(P,r));try{b=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",P)(w,I,R,n,x,O,A,l,u,f),x[0]=b}catch(e){throw w.logger.error("Error compiling schema, function code:",P),e}return b.schema=r,b.errors=null,b.refs=j,b.refVal=x,b.root=h?b:s,S&&(b.$async=!0),!0===k.sourceCode&&(b.source={code:P,patterns:E,defaults:O}),b}function M(e,r,o){r=a.url(e,r);var i,s,c=j[r];if(void 0!==c)return q(i=x[c],s="refVal["+c+"]");if(!o&&n.refs){var u=n.refs[r];if(void 0!==u)return q(i=n.refVal[u],s=U(r,i))}s=U(r);var l=a.call(w,N,n,r);if(void 0===l){var f=h&&h[r];f&&(l=a.inlineRef(f,k.inlineRefs)?f:t.call(w,f,n,h,e))}if(void 0!==l)return function(e,t){var r=j[e];x[r]=t}(r,l),q(l,s);!function(e){delete j[e]}(r)}function U(e,t){var r=x.length;return x[r]=t,j[e]=r,"refVal"+r}function q(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function L(e){var t=S[e];return void 0===t&&(t=S[e]=E.length,E[t]=e),"pattern"+t}function $(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return o.toQuotedString(e);case"object":if(null===e)return"null";var t=s(e),r=P[t];return void 0===r&&(r=P[t]=O.length,O[r]=e),"default"+r}}function W(e,t,r,n){if(!1!==w._opts.validateSchema){var a=e.definition.dependencies;if(a&&!a.every((function(e){return Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have all required keywords: "+a.join(","));var o=e.definition.validateSchema;if(o)if(!o(t)){var i="keyword schema is invalid: "+w.errorsText(o.errors);if("log"!=w._opts.validateSchema)throw new Error(i);w.logger.error(i)}}var s,c=e.definition.compile,u=e.definition.inline,l=e.definition.macro;if(c)s=c.call(w,t,r,n);else if(l)s=l.call(w,t,r,n),!1!==k.validateSchema&&w.validateSchema(s,!0);else if(u)s=u.call(w,n,e.keyword,t,r);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var f=A.length;return A[f]=s,{code:"customRule"+f,validate:s}}}},49445:function(e,t,r){"use strict";var n=r(60023),a=r(78262),o=r(17282),i=r(76658),s=r(37204);function c(e,t,r){var n=this._refs[r];if("string"==typeof n){if(!this._refs[n])return c.call(this,e,t,n);n=this._refs[n]}if((n=n||this._schemas[r])instanceof i)return h(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var a,o,s,l=u.call(this,t,r);return l&&(a=l.schema,t=l.root,s=l.baseId),a instanceof i?o=a.validate||e.call(this,a.schema,t,void 0,s):void 0!==a&&(o=h(a,this._opts.inlineRefs)?a:e.call(this,a,t,void 0,s)),o}function u(e,t){var r=n.parse(t),a=y(r),o=_(this._getId(e.schema));if(0===Object.keys(e.schema).length||a!==o){var s=b(a),c=this._refs[s];if("string"==typeof c)return l.call(this,e,c,r);if(c instanceof i)c.validate||this._compile(c),e=c;else{if(!((c=this._schemas[s])instanceof i))return;if(c.validate||this._compile(c),s==b(t))return{schema:c,root:e,baseId:o};e=c}if(!e.schema)return;o=_(this._getId(e.schema))}return d.call(this,r,o,e.schema,e)}function l(e,t,r){var n=u.call(this,e,t);if(n){var a=n.schema,o=n.baseId;e=n.root;var i=this._getId(a);return i&&(o=w(o,i)),d.call(this,r,o,a,e)}}e.exports=c,c.normalizeId=b,c.fullPath=_,c.url=w,c.ids=function(e){var t=b(this._getId(e)),r={"":t},i={"":_(t,!1)},c={},u=this;return s(e,{allKeys:!0},(function(e,t,s,l,f,d,p){if(""!==t){var h=u._getId(e),m=r[l],v=i[l]+"/"+f;if(void 0!==p&&(v+="/"+("number"==typeof p?p:o.escapeFragment(p))),"string"==typeof h){h=m=b(m?n.resolve(m,h):h);var _=u._refs[h];if("string"==typeof _&&(_=u._refs[_]),_&&_.schema){if(!a(e,_.schema))throw new Error('id "'+h+'" resolves to more than one schema')}else if(h!=b(v))if("#"==h[0]){if(c[h]&&!a(e,c[h]))throw new Error('id "'+h+'" resolves to more than one schema');c[h]=e}else u._refs[h]=v}r[t]=m,i[t]=v}})),c},c.inlineRef=h,c.schema=u;var f=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function d(e,t,r,n){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var a=e.fragment.split("/"),i=1;i<a.length;i++){var s=a[i];if(s){if(void 0===(r=r[s=o.unescapeFragment(s)]))break;var c;if(!f[s]&&((c=this._getId(r))&&(t=w(t,c)),r.$ref)){var l=w(t,r.$ref),d=u.call(this,n,l);d&&(r=d.schema,n=d.root,t=d.baseId)}}}return void 0!==r&&r!==n.schema?{schema:r,root:n,baseId:t}:void 0}}var p=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function h(e,t){return!1!==t&&(void 0===t||!0===t?m(e):t?v(e)<=t:void 0)}function m(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==typeof(t=e[r])&&!m(t))return!1}else for(var n in e){if("$ref"==n)return!1;if("object"==typeof(t=e[n])&&!m(t))return!1}return!0}function v(e){var t,r=0;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("object"==typeof(t=e[n])&&(r+=v(t)),r==1/0)return 1/0}else for(var a in e){if("$ref"==a)return 1/0;if(p[a])r++;else if("object"==typeof(t=e[a])&&(r+=v(t)+1),r==1/0)return 1/0}return r}function _(e,t){return!1!==t&&(e=b(e)),y(n.parse(e))}function y(e){return n.serialize(e).split("#")[0]+"#"}var g=/#\/?$/;function b(e){return e?e.replace(g,""):""}function w(e,t){return t=b(t),n.resolve(e,t)}},91627:function(e,t,r){"use strict";var n=r(65140),a=r(17282).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=a(t),e.types=a(["number","integer","string","array","object","boolean","null"]),e.forEach((function(r){r.rules=r.rules.map((function(r){var a;if("object"==typeof r){var o=Object.keys(r)[0];a=r[o],r=o,a.forEach((function(r){t.push(r),e.all[r]=!0}))}return t.push(r),e.all[r]={keyword:r,code:n[r],implements:a}})),e.all.$comment={keyword:"$comment",code:n.$comment},r.type&&(e.types[r.type]=r)})),e.keywords=a(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},76658:function(e,t,r){"use strict";var n=r(17282);e.exports=function(e){n.copy(e,this)}},66277:function(e){"use strict";e.exports=function(e){for(var t,r=0,n=e.length,a=0;a<n;)r++,(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<n&&56320==(64512&(t=e.charCodeAt(a)))&&a++;return r}},17282:function(e,t,r){"use strict";function n(e,t,r,n){var a=n?" !== ":" === ",o=n?" || ":" && ",i=n?"!":"",s=n?"":"!";switch(e){case"null":return t+a+"null";case"array":return i+"Array.isArray("+t+")";case"object":return"("+i+t+o+"typeof "+t+a+'"object"'+o+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+a+'"number"'+o+s+"("+t+" % 1)"+o+t+a+t+(r?o+i+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+a+'"'+e+'"'+(r?o+i+"isFinite("+t+")":"")+")";default:return"typeof "+t+a+'"'+e+'"'}}e.exports={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:n,checkDataTypes:function(e,t,r){if(1===e.length)return n(e[0],t,r,!0);var a="",i=o(e);for(var s in i.array&&i.object&&(a=i.null?"(":"(!"+t+" || ",a+="typeof "+t+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)a+=(a?" && ":"")+n(s,t,r,!0);return a},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++){var o=t[n];(a[o]||"array"===e&&"array"===o)&&(r[r.length]=o)}if(r.length)return r}else{if(a[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:o,getProperty:c,escapeQuotes:u,equal:r(78262),ucs2length:r(66277),varOccurences:function(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var n in e)if(n!=r&&t[n])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var r in e)if(!t[r])return r},toQuotedString:l,getPathExpr:function(e,t,r,n){return p(e,r?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,r){var n=l(r?"/"+h(t):c(t));return p(e,n)},getData:function(e,t,r){var n,a,o,i;if(""===e)return"rootData";if("/"==e[0]){if(!f.test(e))throw new Error("Invalid JSON-pointer: "+e);a=e,o="rootData"}else{if(!(i=e.match(d)))throw new Error("Invalid JSON-pointer: "+e);if(n=+i[1],"#"==(a=i[2])){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return r[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(o="data"+(t-n||""),!a)return o}for(var s=o,u=a.split("/"),l=0;l<u.length;l++){var p=u[l];p&&(s+=" && "+(o+=c(m(p))))}return s},unescapeFragment:function(e){return m(decodeURIComponent(e))},unescapeJsonPointer:m,escapeFragment:function(e){return encodeURIComponent(h(e))},escapeJsonPointer:h};var a=o(["string","number","integer","boolean","null"]);function o(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var i=/^[a-z$_][a-z$_0-9]*$/i,s=/'|\\/g;function c(e){return"number"==typeof e?"["+e+"]":i.test(e)?"."+e:"['"+u(e)+"']"}function u(e){return e.replace(s,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function l(e){return"'"+u(e)+"'"}var f=/^\/(?:[^~]|~0|~1)*$/,d=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function p(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function h(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function m(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},63730:function(e){"use strict";var t=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,r){for(var n=0;n<r.length;n++){e=JSON.parse(JSON.stringify(e));var a,o=r[n].split("/"),i=e;for(a=1;a<o.length;a++)i=i[o[a]];for(a=0;a<t.length;a++){var s=t[a],c=i[s];c&&(i[s]={anyOf:[c,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},33809:function(e,t,r){"use strict";var n=r(6680);e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:n.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:n.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},86488:function(e){"use strict";e.exports=function(e,t,r){var n,a=" ",o=e.level,i=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(i||""),d=e.opts.$data&&s&&s.$data;d?(a+=" var schema"+o+" = "+e.util.getData(s.$data,i,e.dataPathArr)+"; ",n="schema"+o):n=s;var p="maximum"==t,h=p?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[h],v=e.opts.$data&&m&&m.$data,_=p?"<":">",y=p?">":"<",g=void 0;if(!d&&"number"!=typeof s&&void 0!==s)throw new Error(t+" must be number");if(!v&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(h+" must be number or boolean");if(v){var b=e.util.getData(m.$data,i,e.dataPathArr),w="exclusive"+o,k="exclType"+o,x="exclIsNumber"+o,j="' + "+(O="op"+o)+" + '";a+=" var schemaExcl"+o+" = "+b+"; ",a+=" var "+w+"; var "+k+" = typeof "+(b="schemaExcl"+o)+"; if ("+k+" != 'boolean' && "+k+" != 'undefined' && "+k+" != 'number') { ";var E;g=h;(E=E||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(g||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: '"+h+" should be boolean' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var S=a;a=E.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+S+"]); ":a+=" validate.errors = ["+S+"]; return false; ":a+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if ( ",d&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),a+=" "+k+" == 'number' ? ( ("+w+" = "+n+" === undefined || "+b+" "+_+"= "+n+") ? "+f+" "+y+"= "+b+" : "+f+" "+y+" "+n+" ) : ( ("+w+" = "+b+" === true) ? "+f+" "+y+"= "+n+" : "+f+" "+y+" "+n+" ) || "+f+" !== "+f+") { var op"+o+" = "+w+" ? '"+_+"' : '"+_+"='; ",void 0===s&&(g=h,u=e.errSchemaPath+"/"+h,n=b,d=v)}else{j=_;if((x="number"==typeof m)&&d){var O="'"+j+"'";a+=" if ( ",d&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),a+=" ( "+n+" === undefined || "+m+" "+_+"= "+n+" ? "+f+" "+y+"= "+m+" : "+f+" "+y+" "+n+" ) || "+f+" !== "+f+") { "}else{x&&void 0===s?(w=!0,g=h,u=e.errSchemaPath+"/"+h,n=m,y+="="):(x&&(n=Math[p?"min":"max"](m,s)),m===(!x||n)?(w=!0,g=h,u=e.errSchemaPath+"/"+h,y+="="):(w=!1,j+="="));O="'"+j+"'";a+=" if ( ",d&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),a+=" "+f+" "+y+" "+n+" || "+f+" !== "+f+") { "}}g=g||t,(E=E||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(g||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+O+", limit: "+n+", exclusive: "+w+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be "+j+" ",a+=d?"' + "+n:n+"'"),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+c:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";S=a;return a=E.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+S+"]); ":a+=" validate.errors = ["+S+"]; return false; ":a+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",l&&(a+=" else { "),a}},47253:function(e){"use strict";e.exports=function(e,t,r){var n,a=" ",o=e.level,i=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(i||""),d=e.opts.$data&&s&&s.$data;if(d?(a+=" var schema"+o+" = "+e.util.getData(s.$data,i,e.dataPathArr)+"; ",n="schema"+o):n=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");a+="if ( ",d&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),a+=" "+f+".length "+("maxItems"==t?">":"<")+" "+n+") { ";var p=t,h=h||[];h.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have ",a+="maxItems"==t?"more":"fewer",a+=" than ",a+=d?"' + "+n+" + '":""+s,a+=" items' "),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+c:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var m=a;return a=h.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a}},90676:function(e){"use strict";e.exports=function(e,t,r){var n,a=" ",o=e.level,i=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(i||""),d=e.opts.$data&&s&&s.$data;if(d?(a+=" var schema"+o+" = "+e.util.getData(s.$data,i,e.dataPathArr)+"; ",n="schema"+o):n=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");var p="maxLength"==t?">":"<";a+="if ( ",d&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),!1===e.opts.unicode?a+=" "+f+".length ":a+=" ucs2length("+f+") ",a+=" "+p+" "+n+") { ";var h=t,m=m||[];m.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(h||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be ",a+="maxLength"==t?"longer":"shorter",a+=" than ",a+=d?"' + "+n+" + '":""+s,a+=" characters' "),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+c:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var v=a;return a=m.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+v+"]); ":a+=" validate.errors = ["+v+"]; return false; ":a+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a}},19360:function(e){"use strict";e.exports=function(e,t,r){var n,a=" ",o=e.level,i=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(i||""),d=e.opts.$data&&s&&s.$data;if(d?(a+=" var schema"+o+" = "+e.util.getData(s.$data,i,e.dataPathArr)+"; ",n="schema"+o):n=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");a+="if ( ",d&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),a+=" Object.keys("+f+").length "+("maxProperties"==t?">":"<")+" "+n+") { ";var p=t,h=h||[];h.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have ",a+="maxProperties"==t?"more":"fewer",a+=" than ",a+=d?"' + "+n+" + '":""+s,a+=" properties' "),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+c:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var m=a;return a=h.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a}},30105:function(e){"use strict";e.exports=function(e,t,r){var n=" ",a=e.schema[t],o=e.schemaPath+e.util.getProperty(t),i=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,c=e.util.copy(e),u="";c.level++;var l="valid"+c.level,f=c.baseId,d=!0,p=a;if(p)for(var h,m=-1,v=p.length-1;m<v;)h=p[m+=1],(e.opts.strictKeywords?"object"==typeof h&&Object.keys(h).length>0||!1===h:e.util.schemaHasRules(h,e.RULES.all))&&(d=!1,c.schema=h,c.schemaPath=o+"["+m+"]",c.errSchemaPath=i+"/"+m,n+="  "+e.validate(c)+" ",c.baseId=f,s&&(n+=" if ("+l+") { ",u+="}"));return s&&(n+=d?" if (true) { ":" "+u.slice(0,-1)+" "),n}},2049:function(e){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),f="valid"+a,d="errs__"+a,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level,v=i.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}));if(v){var _=p.baseId;n+=" var "+d+" = errors; var "+f+" = false;  ";var y=e.compositeRule;e.compositeRule=p.compositeRule=!0;var g=i;if(g)for(var b,w=-1,k=g.length-1;w<k;)b=g[w+=1],p.schema=b,p.schemaPath=s+"["+w+"]",p.errSchemaPath=c+"/"+w,n+="  "+e.validate(p)+" ",p.baseId=_,n+=" "+f+" = "+f+" || "+m+"; if (!"+f+") { ",h+="}";e.compositeRule=p.compositeRule=y,n+=" "+h+" if (!"+f+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else u&&(n+=" if (true) { ");return n}},12537:function(e){"use strict";e.exports=function(e,t,r){var n=" ",a=e.schema[t],o=e.errSchemaPath+"/"+t,i=(e.opts.allErrors,e.util.toQuotedString(a));return!0===e.opts.$comment?n+=" console.log("+i+");":"function"==typeof e.opts.$comment&&(n+=" self._opts.$comment("+i+", "+e.util.toQuotedString(o)+", validate.root.schema);"),n}},28083:function(e){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),f="valid"+a,d=e.opts.$data&&i&&i.$data;d&&(n+=" var schema"+a+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; "),d||(n+=" var schema"+a+" = validate.schema"+s+";"),n+="var "+f+" = equal("+l+", schema"+a+"); if (!"+f+") {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValue: schema"+a+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var h=n;return n=p.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+h+"]); ":n+=" validate.errors = ["+h+"]; return false; ":n+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",u&&(n+=" else { "),n}},86180:function(e){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),f="valid"+a,d="errs__"+a,p=e.util.copy(e);p.level++;var h="valid"+p.level,m="i"+a,v=p.dataLevel=e.dataLevel+1,_="data"+v,y=e.baseId,g=e.opts.strictKeywords?"object"==typeof i&&Object.keys(i).length>0||!1===i:e.util.schemaHasRules(i,e.RULES.all);if(n+="var "+d+" = errors;var "+f+";",g){var b=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=i,p.schemaPath=s,p.errSchemaPath=c,n+=" var "+h+" = false; for (var "+m+" = 0; "+m+" < "+l+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var w=l+"["+m+"]";p.dataPathArr[v]=m;var k=e.validate(p);p.baseId=y,e.util.varOccurences(k,_)<2?n+=" "+e.util.varReplace(k,_,w)+" ":n+=" var "+_+" = "+w+"; "+k+" ",n+=" if ("+h+") break; }  ",e.compositeRule=p.compositeRule=b,n+="  if (!"+h+") {"}else n+=" if ("+l+".length == 0) {";var x=x||[];x.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var j=n;return n=x.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+j+"]); ":n+=" validate.errors = ["+j+"]; return false; ":n+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",g&&(n+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n}},2339:function(e){"use strict";e.exports=function(e,t,r){var n,a,o=" ",i=e.level,s=e.dataLevel,c=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p="valid"+i,h="errs__"+i,m=e.opts.$data&&c&&c.$data;m?(o+=" var schema"+i+" = "+e.util.getData(c.$data,s,e.dataPathArr)+"; ",a="schema"+i):a=c;var v,_,y,g,b,w=this,k="definition"+i,x=w.definition,j="";if(m&&x.$data){b="keywordValidate"+i;var E=x.validateSchema;o+=" var "+k+" = RULES.custom['"+t+"'].definition; var "+b+" = "+k+".validate;"}else{if(!(g=e.useCustomRule(w,c,e.schema,e)))return;a="validate.schema"+u,b=g.code,v=x.compile,_=x.inline,y=x.macro}var S=b+".errors",O="i"+i,P="ruleErr"+i,A=x.async;if(A&&!e.async)throw new Error("async keyword in sync schema");if(_||y||(o+=S+" = null;"),o+="var "+h+" = errors;var "+p+";",m&&x.$data&&(j+="}",o+=" if ("+a+" === undefined) { "+p+" = true; } else { ",E&&(j+="}",o+=" "+p+" = "+k+".validateSchema("+a+"); if ("+p+") { ")),_)x.statements?o+=" "+g.validate+" ":o+=" "+p+" = "+g.validate+"; ";else if(y){var T=e.util.copy(e);j="";T.level++;var C="valid"+T.level;T.schema=g.validate,T.schemaPath="";var R=e.compositeRule;e.compositeRule=T.compositeRule=!0;var I=e.validate(T).replace(/validate\.schema/g,b);e.compositeRule=T.compositeRule=R,o+=" "+I}else{(M=M||[]).push(o),o="",o+="  "+b+".call( ",e.opts.passContext?o+="this":o+="self",v||!1===x.schema?o+=" , "+d+" ":o+=" , "+a+" , "+d+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var D=s?"data"+(s-1||""):"parentData",F=s?e.dataPathArr[s]:"parentDataProperty",N=o+=" , "+D+" , "+F+" , rootData )  ";o=M.pop(),!1===x.errors?(o+=" "+p+" = ",A&&(o+="await "),o+=N+"; "):o+=A?" var "+(S="customErrors"+i)+" = null; try { "+p+" = await "+N+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+S+" = e.errors; else throw e; } ":" "+S+" = null; "+p+" = "+N+"; "}if(x.modifying&&(o+=" if ("+D+") "+d+" = "+D+"["+F+"];"),o+=""+j,x.valid)f&&(o+=" if (true) { ");else{var M;o+=" if ( ",void 0===x.valid?(o+=" !",o+=y?""+C:""+p):o+=" "+!x.valid+" ",o+=") { ",n=w.keyword,(M=M||[]).push(o),o="",(M=M||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var U=o;o=M.pop(),!e.compositeRule&&f?e.async?o+=" throw new ValidationError(["+U+"]); ":o+=" validate.errors = ["+U+"]; return false; ":o+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var q=o;o=M.pop(),_?x.errors?"full"!=x.errors&&(o+="  for (var "+O+"="+h+"; "+O+"<errors; "+O+"++) { var "+P+" = vErrors["+O+"]; if ("+P+".dataPath === undefined) "+P+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+P+".schemaPath === undefined) { "+P+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(o+=" "+P+".schema = "+a+"; "+P+".data = "+d+"; "),o+=" } "):!1===x.errors?o+=" "+q+" ":(o+=" if ("+h+" == errors) { "+q+" } else {  for (var "+O+"="+h+"; "+O+"<errors; "+O+"++) { var "+P+" = vErrors["+O+"]; if ("+P+".dataPath === undefined) "+P+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+P+".schemaPath === undefined) { "+P+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(o+=" "+P+".schema = "+a+"; "+P+".data = "+d+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===x.errors?o+=" "+q+" ":(o+=" if (Array.isArray("+S+")) { if (vErrors === null) vErrors = "+S+"; else vErrors = vErrors.concat("+S+"); errors = vErrors.length;  for (var "+O+"="+h+"; "+O+"<errors; "+O+"++) { var "+P+" = vErrors["+O+"]; if ("+P+".dataPath === undefined) "+P+".dataPath = (dataPath || '') + "+e.errorPath+";  "+P+'.schemaPath = "'+l+'";  ',e.opts.verbose&&(o+=" "+P+".schema = "+a+"; "+P+".data = "+d+"; "),o+=" } } else { "+q+" } "),o+=" } ",f&&(o+=" else { ")}return o}},61291:function(e){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),f="errs__"+a,d=e.util.copy(e),p="";d.level++;var h="valid"+d.level,m={},v={},_=e.opts.ownProperties;for(w in i)if("__proto__"!=w){var y=i[w],g=Array.isArray(y)?v:m;g[w]=y}n+="var "+f+" = errors;";var b=e.errorPath;for(var w in n+="var missing"+a+";",v)if((g=v[w]).length){if(n+=" if ( "+l+e.util.getProperty(w)+" !== undefined ",_&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),u){n+=" && ( ";var k=g;if(k)for(var x=-1,j=k.length-1;x<j;){T=k[x+=1],x&&(n+=" || "),n+=" ( ( "+(D=l+(I=e.util.getProperty(T)))+" === undefined ",_&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(T)+"') "),n+=") && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?T:I)+") ) "}n+=")) {  ";var E="missing"+a,S="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,E,!0):b+" + "+E);var O=O||[];O.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+S+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(1==g.length?g[0]:g.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==g.length?n+="property "+e.util.escapeQuotes(g[0]):n+="properties "+e.util.escapeQuotes(g.join(", ")),n+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var P=n;n=O.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+P+"]); ":n+=" validate.errors = ["+P+"]; return false; ":n+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var A=g;if(A)for(var T,C=-1,R=A.length-1;C<R;){T=A[C+=1];var I=e.util.getProperty(T),D=(S=e.util.escapeQuotes(T),l+I);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,T,e.opts.jsonPointers)),n+=" if ( "+D+" === undefined ",_&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(T)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+S+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(1==g.length?g[0]:g.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==g.length?n+="property "+e.util.escapeQuotes(g[0]):n+="properties "+e.util.escapeQuotes(g.join(", ")),n+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",u&&(p+="}",n+=" else { ")}e.errorPath=b;var F=d.baseId;for(var w in m){y=m[w];(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all))&&(n+=" "+h+" = true; if ( "+l+e.util.getProperty(w)+" !== undefined ",_&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),n+=") { ",d.schema=y,d.schemaPath=s+e.util.getProperty(w),d.errSchemaPath=c+"/"+e.util.escapeFragment(w),n+="  "+e.validate(d)+" ",d.baseId=F,n+=" }  ",u&&(n+=" if ("+h+") { ",p+="}"))}return u&&(n+="   "+p+" if ("+f+" == errors) {"),n}},73183:function(e){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),f="valid"+a,d=e.opts.$data&&i&&i.$data;d&&(n+=" var schema"+a+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ");var p="i"+a,h="schema"+a;d||(n+=" var "+h+" = validate.schema"+s+";"),n+="var "+f+";",d&&(n+=" if (schema"+a+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+a+")) "+f+" = false; else {"),n+=f+" = false;for (var "+p+"=0; "+p+"<"+h+".length; "+p+"++) if (equal("+l+", "+h+"["+p+"])) { "+f+" = true; break; }",d&&(n+="  }  "),n+=" if (!"+f+") {   ";var m=m||[];m.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValues: schema"+a+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var v=n;return n=m.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+v+"]); ":n+=" validate.errors = ["+v+"]; return false; ":n+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",u&&(n+=" else { "),n}},62619:function(e){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||"");if(!1===e.opts.format)return u&&(n+=" if (true) { "),n;var f,d=e.opts.$data&&i&&i.$data;d?(n+=" var schema"+a+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ",f="schema"+a):f=i;var p=e.opts.unknownFormats,h=Array.isArray(p);if(d){n+=" var "+(m="format"+a)+" = formats["+f+"]; var "+(v="isObject"+a)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(_="formatType"+a)+" = "+v+" && "+m+".type || 'string'; if ("+v+") { ",e.async&&(n+=" var async"+a+" = "+m+".async; "),n+=" "+m+" = "+m+".validate; } if (  ",d&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" (","ignore"!=p&&(n+=" ("+f+" && !"+m+" ",h&&(n+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),n+=") || "),n+=" ("+m+" && "+_+" == '"+r+"' && !(typeof "+m+" == 'function' ? ",e.async?n+=" (async"+a+" ? await "+m+"("+l+") : "+m+"("+l+")) ":n+=" "+m+"("+l+") ",n+=" : "+m+".test("+l+"))))) {"}else{var m;if(!(m=e.formats[i])){if("ignore"==p)return e.logger.warn('unknown format "'+i+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(n+=" if (true) { "),n;if(h&&p.indexOf(i)>=0)return u&&(n+=" if (true) { "),n;throw new Error('unknown format "'+i+'" is used in schema at path "'+e.errSchemaPath+'"')}var v,_=(v="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(v){var y=!0===m.async;m=m.validate}if(_!=r)return u&&(n+=" if (true) { "),n;if(y){if(!e.async)throw new Error("async format in sync schema");n+=" if (!(await "+(g="formats"+e.util.getProperty(i)+".validate")+"("+l+"))) { "}else{n+=" if (! ";var g="formats"+e.util.getProperty(i);v&&(g+=".validate"),n+="function"==typeof m?" "+g+"("+l+") ":" "+g+".test("+l+") ",n+=") { "}}var b=b||[];b.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",n+=d?""+f:""+e.util.toQuotedString(i),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match format \"",n+=d?"' + "+f+" + '":""+e.util.escapeQuotes(i),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=d?"validate.schema"+s:""+e.util.toQuotedString(i),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var w=n;return n=b.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u&&(n+=" else { "),n}},36877:function(e){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),f="valid"+a,d="errs__"+a,p=e.util.copy(e);p.level++;var h="valid"+p.level,m=e.schema.then,v=e.schema.else,_=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),y=void 0!==v&&(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all)),g=p.baseId;if(_||y){var b;p.createErrors=!1,p.schema=i,p.schemaPath=s,p.errSchemaPath=c,n+=" var "+d+" = errors; var "+f+" = true;  ";var w=e.compositeRule;e.compositeRule=p.compositeRule=!0,n+="  "+e.validate(p)+" ",p.baseId=g,p.createErrors=!0,n+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=w,_?(n+=" if ("+h+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(p)+" ",p.baseId=g,n+=" "+f+" = "+h+"; ",_&&y?n+=" var "+(b="ifClause"+a)+" = 'then'; ":b="'then'",n+=" } ",y&&(n+=" else { ")):n+=" if (!"+h+") { ",y&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(p)+" ",p.baseId=g,n+=" "+f+" = "+h+"; ",_&&y?n+=" var "+(b="ifClause"+a)+" = 'else'; ":b="'else'",n+=" } "),n+=" if (!"+f+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+b+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match \"' + "+b+" + '\" schema' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",u&&(n+=" else { ")}else u&&(n+=" if (true) { ");return n}},65140:function(e,t,r){"use strict";e.exports={$ref:r(41714),allOf:r(30105),anyOf:r(2049),$comment:r(12537),const:r(28083),contains:r(86180),dependencies:r(61291),enum:r(73183),format:r(62619),if:r(36877),items:r(81839),maximum:r(86488),minimum:r(86488),maxItems:r(47253),minItems:r(47253),maxLength:r(90676),minLength:r(90676),maxProperties:r(19360),minProperties:r(19360),multipleOf:r(31199),not:r(59738),oneOf:r(69786),pattern:r(6056),properties:r(35702),propertyNames:r(65744),required:r(811),uniqueItems:r(63279),validate:r(75749)}},81839:function(e){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),f="valid"+a,d="errs__"+a,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level,v="i"+a,_=p.dataLevel=e.dataLevel+1,y="data"+_,g=e.baseId;if(n+="var "+d+" = errors;var "+f+";",Array.isArray(i)){var b=e.schema.additionalItems;if(!1===b){n+=" "+f+" = "+l+".length <= "+i.length+"; ";var w=c;c=e.errSchemaPath+"/additionalItems",n+="  if (!"+f+") {   ";var k=k||[];k.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+i.length+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have more than "+i.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var x=n;n=k.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+x+"]); ":n+=" validate.errors = ["+x+"]; return false; ":n+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c=w,u&&(h+="}",n+=" else { ")}var j=i;if(j)for(var E,S=-1,O=j.length-1;S<O;)if(E=j[S+=1],e.opts.strictKeywords?"object"==typeof E&&Object.keys(E).length>0||!1===E:e.util.schemaHasRules(E,e.RULES.all)){n+=" "+m+" = true; if ("+l+".length > "+S+") { ";var P=l+"["+S+"]";p.schema=E,p.schemaPath=s+"["+S+"]",p.errSchemaPath=c+"/"+S,p.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0),p.dataPathArr[_]=S;var A=e.validate(p);p.baseId=g,e.util.varOccurences(A,y)<2?n+=" "+e.util.varReplace(A,y,P)+" ":n+=" var "+y+" = "+P+"; "+A+" ",n+=" }  ",u&&(n+=" if ("+m+") { ",h+="}")}if("object"==typeof b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))){p.schema=b,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+m+" = true; if ("+l+".length > "+i.length+") {  for (var "+v+" = "+i.length+"; "+v+" < "+l+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);P=l+"["+v+"]";p.dataPathArr[_]=v;A=e.validate(p);p.baseId=g,e.util.varOccurences(A,y)<2?n+=" "+e.util.varReplace(A,y,P)+" ":n+=" var "+y+" = "+P+"; "+A+" ",u&&(n+=" if (!"+m+") break; "),n+=" } }  ",u&&(n+=" if ("+m+") { ",h+="}")}}else if(e.opts.strictKeywords?"object"==typeof i&&Object.keys(i).length>0||!1===i:e.util.schemaHasRules(i,e.RULES.all)){p.schema=i,p.schemaPath=s,p.errSchemaPath=c,n+="  for (var "+v+" = 0; "+v+" < "+l+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);P=l+"["+v+"]";p.dataPathArr[_]=v;A=e.validate(p);p.baseId=g,e.util.varOccurences(A,y)<2?n+=" "+e.util.varReplace(A,y,P)+" ":n+=" var "+y+" = "+P+"; "+A+" ",u&&(n+=" if (!"+m+") break; "),n+=" }"}return u&&(n+=" "+h+" if ("+d+" == errors) {"),n}},31199:function(e){"use strict";e.exports=function(e,t,r){var n,a=" ",o=e.level,i=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(i||""),d=e.opts.$data&&s&&s.$data;if(d?(a+=" var schema"+o+" = "+e.util.getData(s.$data,i,e.dataPathArr)+"; ",n="schema"+o):n=s,!d&&"number"!=typeof s)throw new Error(t+" must be number");a+="var division"+o+";if (",d&&(a+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),a+=" (division"+o+" = "+f+" / "+n+", ",e.opts.multipleOfPrecision?a+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":a+=" division"+o+" !== parseInt(division"+o+") ",a+=" ) ",d&&(a+="  )  "),a+=" ) {   ";var p=p||[];p.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+n+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be multiple of ",a+=d?"' + "+n:n+"'"),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+c:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var h=a;return a=p.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+h+"]); ":a+=" validate.errors = ["+h+"]; return false; ":a+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a}},59738:function(e){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),f="errs__"+a,d=e.util.copy(e);d.level++;var p="valid"+d.level;if(e.opts.strictKeywords?"object"==typeof i&&Object.keys(i).length>0||!1===i:e.util.schemaHasRules(i,e.RULES.all)){d.schema=i,d.schemaPath=s,d.errSchemaPath=c,n+=" var "+f+" = errors;  ";var h,m=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.opts.allErrors&&(h=d.opts.allErrors,d.opts.allErrors=!1),n+=" "+e.validate(d)+" ",d.createErrors=!0,h&&(d.opts.allErrors=h),e.compositeRule=d.compositeRule=m,n+=" if ("+p+") {   ";var v=v||[];v.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var _=n;n=v.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(n+=" if (false) { ");return n}},69786:function(e){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),f="valid"+a,d="errs__"+a,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level,v=p.baseId,_="prevValid"+a,y="passingSchemas"+a;n+="var "+d+" = errors , "+_+" = false , "+f+" = false , "+y+" = null; ";var g=e.compositeRule;e.compositeRule=p.compositeRule=!0;var b=i;if(b)for(var w,k=-1,x=b.length-1;k<x;)w=b[k+=1],(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all))?(p.schema=w,p.schemaPath=s+"["+k+"]",p.errSchemaPath=c+"/"+k,n+="  "+e.validate(p)+" ",p.baseId=v):n+=" var "+m+" = true; ",k&&(n+=" if ("+m+" && "+_+") { "+f+" = false; "+y+" = ["+y+", "+k+"]; } else { ",h+="}"),n+=" if ("+m+") { "+f+" = "+_+" = true; "+y+" = "+k+"; }";return e.compositeRule=p.compositeRule=g,n+=h+"if (!"+f+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n}},6056:function(e){"use strict";e.exports=function(e,t,r){var n,a=" ",o=e.level,i=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(i||""),d=e.opts.$data&&s&&s.$data;d?(a+=" var schema"+o+" = "+e.util.getData(s.$data,i,e.dataPathArr)+"; ",n="schema"+o):n=s,a+="if ( ",d&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),a+=" !"+(d?"(new RegExp("+n+"))":e.usePattern(s))+".test("+f+") ) {   ";var p=p||[];p.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",a+=d?""+n:""+e.util.toQuotedString(s),a+="  } ",!1!==e.opts.messages&&(a+=" , message: 'should match pattern \"",a+=d?"' + "+n+" + '":""+e.util.escapeQuotes(s),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+c:""+e.util.toQuotedString(s),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var h=a;return a=p.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+h+"]); ":a+=" validate.errors = ["+h+"]; return false; ":a+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a}},35702:function(e){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),f="errs__"+a,d=e.util.copy(e),p="";d.level++;var h="valid"+d.level,m="key"+a,v="idx"+a,_=d.dataLevel=e.dataLevel+1,y="data"+_,g="dataProperties"+a,b=Object.keys(i||{}).filter(I),w=e.schema.patternProperties||{},k=Object.keys(w).filter(I),x=e.schema.additionalProperties,j=b.length||k.length,E=!1===x,S="object"==typeof x&&Object.keys(x).length,O=e.opts.removeAdditional,P=E||S||O,A=e.opts.ownProperties,T=e.baseId,C=e.schema.required;if(C&&(!e.opts.$data||!C.$data)&&C.length<e.opts.loopRequired)var R=e.util.toHash(C);function I(e){return"__proto__"!==e}if(n+="var "+f+" = errors;var "+h+" = true;",A&&(n+=" var "+g+" = undefined;"),P){if(n+=A?" "+g+" = "+g+" || Object.keys("+l+"); for (var "+v+"=0; "+v+"<"+g+".length; "+v+"++) { var "+m+" = "+g+"["+v+"]; ":" for (var "+m+" in "+l+") { ",j){if(n+=" var isAdditional"+a+" = !(false ",b.length)if(b.length>8)n+=" || validate.schema"+s+".hasOwnProperty("+m+") ";else{var D=b;if(D)for(var F=-1,N=D.length-1;F<N;)J=D[F+=1],n+=" || "+m+" == "+e.util.toQuotedString(J)+" "}if(k.length){var M=k;if(M)for(var U=-1,q=M.length-1;U<q;)oe=M[U+=1],n+=" || "+e.usePattern(oe)+".test("+m+") "}n+=" ); if (isAdditional"+a+") { "}if("all"==O)n+=" delete "+l+"["+m+"]; ";else{var L=e.errorPath,$="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),E)if(O)n+=" delete "+l+"["+m+"]; ";else{n+=" "+h+" = false; ";var W=c;c=e.errSchemaPath+"/additionalProperties",(re=re||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+$+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var B=n;n=re.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+B+"]); ":n+=" validate.errors = ["+B+"]; return false; ":n+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=W,u&&(n+=" break; ")}else if(S)if("failing"==O){n+=" var "+f+" = errors;  ";var z=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=x,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var V=l+"["+m+"]";d.dataPathArr[_]=m;var K=e.validate(d);d.baseId=T,e.util.varOccurences(K,y)<2?n+=" "+e.util.varReplace(K,y,V)+" ":n+=" var "+y+" = "+V+"; "+K+" ",n+=" if (!"+h+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+m+"]; }  ",e.compositeRule=d.compositeRule=z}else{d.schema=x,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);V=l+"["+m+"]";d.dataPathArr[_]=m;K=e.validate(d);d.baseId=T,e.util.varOccurences(K,y)<2?n+=" "+e.util.varReplace(K,y,V)+" ":n+=" var "+y+" = "+V+"; "+K+" ",u&&(n+=" if (!"+h+") break; ")}e.errorPath=L}j&&(n+=" } "),n+=" }  ",u&&(n+=" if ("+h+") { ",p+="}")}var H=e.opts.useDefaults&&!e.compositeRule;if(b.length){var G=b;if(G)for(var J,Q=-1,Y=G.length-1;Q<Y;){var X=i[J=G[Q+=1]];if(e.opts.strictKeywords?"object"==typeof X&&Object.keys(X).length>0||!1===X:e.util.schemaHasRules(X,e.RULES.all)){var Z=e.util.getProperty(J),ee=(V=l+Z,H&&void 0!==X.default);d.schema=X,d.schemaPath=s+Z,d.errSchemaPath=c+"/"+e.util.escapeFragment(J),d.errorPath=e.util.getPath(e.errorPath,J,e.opts.jsonPointers),d.dataPathArr[_]=e.util.toQuotedString(J);K=e.validate(d);if(d.baseId=T,e.util.varOccurences(K,y)<2){K=e.util.varReplace(K,y,V);var te=V}else{te=y;n+=" var "+y+" = "+V+"; "}if(ee)n+=" "+K+" ";else{if(R&&R[J]){n+=" if ( "+te+" === undefined ",A&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(J)+"') "),n+=") { "+h+" = false; ";L=e.errorPath,W=c;var re,ne=e.util.escapeQuotes(J);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(L,J,e.opts.jsonPointers)),c=e.errSchemaPath+"/required",(re=re||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+ne+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+ne+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";B=n;n=re.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+B+"]); ":n+=" validate.errors = ["+B+"]; return false; ":n+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=W,e.errorPath=L,n+=" } else { "}else u?(n+=" if ( "+te+" === undefined ",A&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(J)+"') "),n+=") { "+h+" = true; } else { "):(n+=" if ("+te+" !== undefined ",A&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(J)+"') "),n+=" ) { ");n+=" "+K+" } "}}u&&(n+=" if ("+h+") { ",p+="}")}}if(k.length){var ae=k;if(ae)for(var oe,ie=-1,se=ae.length-1;ie<se;){X=w[oe=ae[ie+=1]];if(e.opts.strictKeywords?"object"==typeof X&&Object.keys(X).length>0||!1===X:e.util.schemaHasRules(X,e.RULES.all)){d.schema=X,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(oe),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(oe),n+=A?" "+g+" = "+g+" || Object.keys("+l+"); for (var "+v+"=0; "+v+"<"+g+".length; "+v+"++) { var "+m+" = "+g+"["+v+"]; ":" for (var "+m+" in "+l+") { ",n+=" if ("+e.usePattern(oe)+".test("+m+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);V=l+"["+m+"]";d.dataPathArr[_]=m;K=e.validate(d);d.baseId=T,e.util.varOccurences(K,y)<2?n+=" "+e.util.varReplace(K,y,V)+" ":n+=" var "+y+" = "+V+"; "+K+" ",u&&(n+=" if (!"+h+") break; "),n+=" } ",u&&(n+=" else "+h+" = true; "),n+=" }  ",u&&(n+=" if ("+h+") { ",p+="}")}}}return u&&(n+=" "+p+" if ("+f+" == errors) {"),n}},65744:function(e){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),f="errs__"+a,d=e.util.copy(e);d.level++;var p="valid"+d.level;if(n+="var "+f+" = errors;",e.opts.strictKeywords?"object"==typeof i&&Object.keys(i).length>0||!1===i:e.util.schemaHasRules(i,e.RULES.all)){d.schema=i,d.schemaPath=s,d.errSchemaPath=c;var h="key"+a,m="idx"+a,v="i"+a,_="' + "+h+" + '",y="data"+(d.dataLevel=e.dataLevel+1),g="dataProperties"+a,b=e.opts.ownProperties,w=e.baseId;b&&(n+=" var "+g+" = undefined; "),n+=b?" "+g+" = "+g+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+g+".length; "+m+"++) { var "+h+" = "+g+"["+m+"]; ":" for (var "+h+" in "+l+") { ",n+=" var startErrs"+a+" = errors; ";var k=h,x=e.compositeRule;e.compositeRule=d.compositeRule=!0;var j=e.validate(d);d.baseId=w,e.util.varOccurences(j,y)<2?n+=" "+e.util.varReplace(j,y,k)+" ":n+=" var "+y+" = "+k+"; "+j+" ",e.compositeRule=d.compositeRule=x,n+=" if (!"+p+") { for (var "+v+"=startErrs"+a+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+h+"; }   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: 'property name \\'"+_+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),u&&(n+=" break; "),n+=" } }"}return u&&(n+="  if ("+f+" == errors) {"),n}},41714:function(e){"use strict";e.exports=function(e,t,r){var n,a,o=" ",i=e.level,s=e.dataLevel,c=e.schema[t],u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(s||""),d="valid"+i;if("#"==c||"#/"==c)e.isRoot?(n=e.async,a="validate"):(n=!0===e.root.schema.$async,a="root.refVal[0]");else{var p=e.resolveRef(e.baseId,c,e.isRoot);if(void 0===p){var h=e.MissingRefError.message(e.baseId,c);if("fail"==e.opts.missingRefs){e.logger.error(h),(y=y||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(c)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(c)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(c)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),o+=" } "):o+=" {} ";var m=o;o=y.pop(),!e.compositeRule&&l?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,c,h);e.logger.warn(h),l&&(o+=" if (true) { ")}}else if(p.inline){var v=e.util.copy(e);v.level++;var _="valid"+v.level;v.schema=p.schema,v.schemaPath="",v.errSchemaPath=c,o+=" "+e.validate(v).replace(/validate\.schema/g,p.code)+" ",l&&(o+=" if ("+_+") { ")}else n=!0===p.$async||e.async&&!1!==p.$async,a=p.code}if(a){var y;(y=y||[]).push(o),o="",e.opts.passContext?o+=" "+a+".call(this, ":o+=" "+a+"( ",o+=" "+f+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var g=o+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(o=y.pop(),n){if(!e.async)throw new Error("async schema referenced by sync schema");l&&(o+=" var "+d+"; "),o+=" try { await "+g+"; ",l&&(o+=" "+d+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(o+=" "+d+" = false; "),o+=" } ",l&&(o+=" if ("+d+") { ")}else o+=" if (!"+g+") { if (vErrors === null) vErrors = "+a+".errors; else vErrors = vErrors.concat("+a+".errors); errors = vErrors.length; } ",l&&(o+=" else { ")}return o}},811:function(e){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,o=e.dataLevel,i=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(o||""),f="valid"+a,d=e.opts.$data&&i&&i.$data;d&&(n+=" var schema"+a+" = "+e.util.getData(i.$data,o,e.dataPathArr)+"; ");var p="schema"+a;if(!d)if(i.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var h=[],m=i;if(m)for(var v,_=-1,y=m.length-1;_<y;){v=m[_+=1];var g=e.schema.properties[v];g&&(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:e.util.schemaHasRules(g,e.RULES.all))||(h[h.length]=v)}}else h=i;if(d||h.length){var b=e.errorPath,w=d||h.length>=e.opts.loopRequired,k=e.opts.ownProperties;if(u)if(n+=" var missing"+a+"; ",w){d||(n+=" var "+p+" = validate.schema"+s+"; ");var x="' + "+(A="schema"+a+"["+(S="i"+a)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,A,e.opts.jsonPointers)),n+=" var "+f+" = true; ",d&&(n+=" if (schema"+a+" === undefined) "+f+" = true; else if (!Array.isArray(schema"+a+")) "+f+" = false; else {"),n+=" for (var "+S+" = 0; "+S+" < "+p+".length; "+S+"++) { "+f+" = "+l+"["+p+"["+S+"]] !== undefined ",k&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+p+"["+S+"]) "),n+="; if (!"+f+") break; } ",d&&(n+="  }  "),n+="  if (!"+f+") {   ",(P=P||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+x+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var j=n;n=P.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+j+"]); ":n+=" validate.errors = ["+j+"]; return false; ":n+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var E=h;if(E)for(var S=-1,O=E.length-1;S<O;){C=E[S+=1],S&&(n+=" || "),n+=" ( ( "+(F=l+(D=e.util.getProperty(C)))+" === undefined ",k&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(C)+"') "),n+=") && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?C:D)+") ) "}n+=") {  ";var P;x="' + "+(A="missing"+a)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,A,!0):b+" + "+A),(P=P||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+x+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";j=n;n=P.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+j+"]); ":n+=" validate.errors = ["+j+"]; return false; ":n+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(w){d||(n+=" var "+p+" = validate.schema"+s+"; ");var A;x="' + "+(A="schema"+a+"["+(S="i"+a)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,A,e.opts.jsonPointers)),d&&(n+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+x+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),n+=" for (var "+S+" = 0; "+S+" < "+p+".length; "+S+"++) { if ("+l+"["+p+"["+S+"]] === undefined ",k&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+p+"["+S+"]) "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+x+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(n+="  }  ")}else{var T=h;if(T)for(var C,R=-1,I=T.length-1;R<I;){C=T[R+=1];var D=e.util.getProperty(C),F=(x=e.util.escapeQuotes(C),l+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,C,e.opts.jsonPointers)),n+=" if ( "+F+" === undefined ",k&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(C)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+x+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+x+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=b}else u&&(n+=" if (true) {");return n}},63279:function(e){"use strict";e.exports=function(e,t,r){var n,a=" ",o=e.level,i=e.dataLevel,s=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,f="data"+(i||""),d="valid"+o,p=e.opts.$data&&s&&s.$data;if(p?(a+=" var schema"+o+" = "+e.util.getData(s.$data,i,e.dataPathArr)+"; ",n="schema"+o):n=s,(s||p)&&!1!==e.opts.uniqueItems){p&&(a+=" var "+d+"; if ("+n+" === false || "+n+" === undefined) "+d+" = true; else if (typeof "+n+" != 'boolean') "+d+" = false; else { "),a+=" var i = "+f+".length , "+d+" = true , j; if (i > 1) { ";var h=e.schema.items&&e.schema.items.type,m=Array.isArray(h);if(!h||"object"==h||"array"==h||m&&(h.indexOf("object")>=0||h.indexOf("array")>=0))a+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+d+" = false; break outer; } } } ";else{a+=" var itemIndices = {}, item; for (;i--;) { var item = "+f+"[i]; ";var v="checkDataType"+(m?"s":"");a+=" if ("+e.util[v](h,"item",e.opts.strictNumbers,!0)+") continue; ",m&&(a+=" if (typeof item == 'string') item = '\"' + item; "),a+=" if (typeof itemIndices[item] == 'number') { "+d+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}a+=" } ",p&&(a+="  }  "),a+=" if (!"+d+") {   ";var _=_||[];_.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+c:""+s,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var y=a;a=_.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+y+"]); ":a+=" validate.errors = ["+y+"]; return false; ":a+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",l&&(a+=" else { ")}else l&&(a+=" if (true) { ");return a}},75749:function(e){"use strict";e.exports=function(e,t,r){var n="",a=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),i=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var c="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(c);e.logger.warn(c)}}if(e.isTop&&(n+=" var validate = ",a&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",i&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" /*# sourceURL="+i+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){t="false schema";var u=e.level,l=e.dataLevel,f=e.schema[t],d=e.schemaPath+e.util.getProperty(t),p=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,m="data"+(l||""),v="valid"+u;if(!1===e.schema){e.isTop?h=!0:n+=" var "+v+" = false; ",(Q=Q||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";var _=n;n=Q.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?n+=a?" return data; ":" validate.errors = null; return true; ":n+=" var "+v+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var y=e.isTop;u=e.level=0,l=e.dataLevel=0,m="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var g="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(g);e.logger.warn(g)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{u=e.level,m="data"+((l=e.dataLevel)||"");if(i&&(e.baseId=e.resolve.url(e.baseId,i)),a&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+u+" = errors;"}v="valid"+u,h=!e.opts.allErrors;var b="",w="",k=e.schema.type,x=Array.isArray(k);if(k&&e.opts.nullable&&!0===e.schema.nullable&&(x?-1==k.indexOf("null")&&(k=k.concat("null")):"null"!=k&&(k=[k,"null"],x=!0)),x&&1==k.length&&(k=k[0],x=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),k){if(e.opts.coerceTypes)var j=e.util.coerceToTypes(e.opts.coerceTypes,k);var E=e.RULES.types[k];if(j||x||!0===E||E&&!Y(E)){d=e.schemaPath+".type",p=e.errSchemaPath+"/type",d=e.schemaPath+".type",p=e.errSchemaPath+"/type";var S=x?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[S](k,m,e.opts.strictNumbers,!0)+") { ",j){var O="dataType"+u,P="coerced"+u;n+=" var "+O+" = typeof "+m+"; var "+P+" = undefined; ","array"==e.opts.coerceTypes&&(n+=" if ("+O+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+O+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+P+" = "+m+"; } "),n+=" if ("+P+" !== undefined) ; ";var A=j;if(A)for(var T,C=-1,R=A.length-1;C<R;)"string"==(T=A[C+=1])?n+=" else if ("+O+" == 'number' || "+O+" == 'boolean') "+P+" = '' + "+m+"; else if ("+m+" === null) "+P+" = ''; ":"number"==T||"integer"==T?(n+=" else if ("+O+" == 'boolean' || "+m+" === null || ("+O+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==T&&(n+=" && !("+m+" % 1)"),n+=")) "+P+" = +"+m+"; "):"boolean"==T?n+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+P+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+P+" = true; ":"null"==T?n+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+P+" = null; ":"array"==e.opts.coerceTypes&&"array"==T&&(n+=" else if ("+O+" == 'string' || "+O+" == 'number' || "+O+" == 'boolean' || "+m+" == null) "+P+" = ["+m+"]; ");n+=" else {   ",(Q=Q||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=x?""+k.join(","):""+k,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=x?""+k.join(","):""+k,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";_=n;n=Q.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+P+" !== undefined) {  ";var I=l?"data"+(l-1||""):"parentData";n+=" "+m+" = "+P+"; ",l||(n+="if ("+I+" !== undefined)"),n+=" "+I+"["+(l?e.dataPathArr[l]:"parentDataProperty")+"] = "+P+"; } "}else{(Q=Q||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=x?""+k.join(","):""+k,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=x?""+k.join(","):""+k,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";_=n;n=Q.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(e.schema.$ref&&!o)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",h&&(n+=" } if (errors === ",n+=y?"0":"errs_"+u,n+=") { ",w+="}");else{var D=e.RULES;if(D)for(var F=-1,N=D.length-1;F<N;)if(Y(E=D[F+=1])){if(E.type&&(n+=" if ("+e.util.checkDataType(E.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==E.type&&e.schema.properties){f=e.schema.properties;var M=Object.keys(f);if(M)for(var U,q=-1,L=M.length-1;q<L;){if(void 0!==(B=f[U=M[q+=1]]).default){var $=m+e.util.getProperty(U);if(e.compositeRule){if(e.opts.strictDefaults){g="default is ignored for: "+$;if("log"!==e.opts.strictDefaults)throw new Error(g);e.logger.warn(g)}}else n+=" if ("+$+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+$+" === null || "+$+" === '' "),n+=" ) "+$+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(B.default)+" ":n+=" "+JSON.stringify(B.default)+" ",n+="; "}}}else if("array"==E.type&&Array.isArray(e.schema.items)){var W=e.schema.items;if(W){C=-1;for(var B,z=W.length-1;C<z;)if(void 0!==(B=W[C+=1]).default){$=m+"["+C+"]";if(e.compositeRule){if(e.opts.strictDefaults){g="default is ignored for: "+$;if("log"!==e.opts.strictDefaults)throw new Error(g);e.logger.warn(g)}}else n+=" if ("+$+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+$+" === null || "+$+" === '' "),n+=" ) "+$+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(B.default)+" ":n+=" "+JSON.stringify(B.default)+" ",n+="; "}}}var V=E.rules;if(V)for(var K,H=-1,G=V.length-1;H<G;)if(X(K=V[H+=1])){var J=K.code(e,K.keyword,E.type);J&&(n+=" "+J+" ",h&&(b+="}"))}if(h&&(n+=" "+b+" ",b=""),E.type&&(n+=" } ",k&&k===E.type&&!j)){n+=" else { ";var Q;d=e.schemaPath+".type",p=e.errSchemaPath+"/type";(Q=Q||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=x?""+k.join(","):""+k,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=x?""+k.join(","):""+k,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";_=n;n=Q.pop(),!e.compositeRule&&h?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}h&&(n+=" if (errors === ",n+=y?"0":"errs_"+u,n+=") { ",w+="}")}}function Y(e){for(var t=e.rules,r=0;r<t.length;r++)if(X(t[r]))return!0}function X(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,n=0;n<r.length;n++)if(void 0!==e.schema[r[n]])return!0}(t)}return h&&(n+=" "+w+" "),y?(a?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+v+" = errors === errs_"+u+";",n}},23818:function(e,t,r){"use strict";var n=/^[a-z_$][a-z0-9_$-]*$/i,a=r(2339),o=r(33809);e.exports={add:function(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!n.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var i=0;i<o.length;i++)c(e,o[i],t);else c(e,o,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function c(e,t,n){for(var o,i=0;i<r.length;i++){var s=r[i];if(s.type==t){o=s;break}}o||(o={type:t,rules:[]},r.push(o));var c={keyword:e,definition:n,custom:!0,code:a,implements:n.implements};o.rules.push(c),r.custom[e]=c}return r.keywords[e]=r.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var n=t[r].rules,a=0;a<n.length;a++)if(n[a].keyword==e){n.splice(a,1);break}return this},validate:function e(t,r){e.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(o,!0);if(n(t))return!0;if(e.errors=n.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}}},77130:function(e,t,r){"use strict";var n=r(5081),a=r(96934),o=r(3642),i=Math.pow(2,31)-1;function s(e,t){var r,n=1;if(0===e)return t;if(0===t)return e;for(;e%2===0&&t%2===0;)e/=2,t/=2,n*=2;for(;e%2===0;)e/=2;for(;t;){for(;t%2===0;)t/=2;e>t&&(r=t,t=e,e=r),t-=e}return n*e}function c(e,t){var r,n=0;if(0===e)return t;if(0===t)return e;for(;0===(1&e)&&0===(1&t);)e>>>=1,t>>>=1,n++;for(;0===(1&e);)e>>>=1;for(;t;){for(;0===(1&t);)t>>>=1;e>t&&(r=t,t=e,e=r),t-=e}return e<<n}e.exports=function(){var e,t,r,u,l,f,d,p=arguments.length;for(e=new Array(p),d=0;d<p;d++)e[d]=arguments[d];if(a(e)){if(2===p)return(l=e[0])<0&&(l=-l),(f=e[1])<0&&(f=-f),l<=i&&f<=i?c(l,f):s(l,f);r=e}else{if(!n(e[0]))throw new TypeError("gcd()::invalid input argument. Must provide an array of integers. Value: `"+e[0]+"`.");if(p>1){if(r=e[0],t=e[1],!o(t))throw new TypeError("gcd()::invalid input argument. Accessor must be a function. Value: `"+t+"`.")}else r=e[0]}if((u=r.length)<2)return null;if(t){for(l=new Array(u),d=0;d<u;d++)l[d]=t(r[d],d);r=l}if(p<3&&!a(r))throw new TypeError("gcd()::invalid input argument. Accessed array values must be integers. Value: `"+r+"`.");for(d=0;d<u;d++)(l=r[d])<0&&(r[d]=-l);for(l=r[0],d=1;d<u;d++)l=(f=r[d])<=i&&l<=i?c(l,f):s(l,f);return l}},23027:function(e,t,r){"use strict";var n=r(77130),a=r(5081),o=r(96934),i=r(3642);e.exports=function(){var e,t,r,s,c,u,l,f=arguments.length;for(e=new Array(f),l=0;l<f;l++)e[l]=arguments[l];if(o(e)){if(2===f)return(c=e[0])<0&&(c=-c),(u=e[1])<0&&(u=-u),0===c||0===u?0:c/n(c,u)*u;r=e}else{if(!a(e[0]))throw new TypeError("lcm()::invalid input argument. Must provide an array of integers. Value: `"+e[0]+"`.");if(f>1){if(r=e[0],t=e[1],!i(t))throw new TypeError("lcm()::invalid input argument. Accessor must be a function. Value: `"+t+"`.")}else r=e[0]}if((s=r.length)<2)return null;if(t){for(c=new Array(s),l=0;l<s;l++)c[l]=t(r[l],l);r=c}if(f<3&&!o(r))throw new TypeError("lcm()::invalid input argument. Accessed array values must be integers. Value: `"+r+"`.");for(l=0;l<s;l++)(c=r[l])<0&&(r[l]=-c);for(c=r[0],l=1;l<s;l++){if(u=r[l],0===c||0===u)return 0;c=c/n(c,u)*u}return c}},78262:function(e){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,a,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(a=n;0!==a--;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(a=n;0!==a--;)if(!Object.prototype.hasOwnProperty.call(r,o[a]))return!1;for(a=n;0!==a--;){var i=o[a];if(!e(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}},2248:function(e){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var r,n="boolean"===typeof t.cycles&&t.cycles,a=t.cmp&&(r=t.cmp,function(e){return function(t,n){var a={key:t,value:e[t]},o={key:n,value:e[n]};return r(a,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var r,i;if(Array.isArray(t)){for(i="[",r=0;r<t.length;r++)r&&(i+=","),i+=e(t[r])||"null";return i+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=o.push(t)-1,c=Object.keys(t).sort(a&&a(t));for(i="",r=0;r<c.length;r++){var u=c[r],l=e(t[u]);l&&(i&&(i+=","),i+=JSON.stringify(u)+":"+l)}return o.splice(s,1),"{"+i+"}"}}(e)}},54667:function(module,__unused_webpack_exports,__webpack_require__){var _toConsumableArray=__webpack_require__(861).default,_createForOfIteratorHelper=__webpack_require__(74704).default,_slicedToArray=__webpack_require__(27424).default,_regeneratorRuntime=__webpack_require__(17061).default,_asyncToGenerator=__webpack_require__(17156).default,_assertThisInitialized=__webpack_require__(66115).default,_inherits=__webpack_require__(61655).default,_createSuper=__webpack_require__(26389).default,_classCallCheck=__webpack_require__(56690).default,_createClass=__webpack_require__(89728).default,factory;window,factory=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/hypha/sse-client.js")}({"./node_modules/@msgpack/msgpack/dist.es5+esm/CachedKeyDecoder.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"CachedKeyDecoder",(function(){return a}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs"),a=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,r){e:for(var n=0,a=this.caches[r-1];n<a.length;n++){for(var o=a[n],i=o.bytes,s=0;s<r;s++)if(i[s]!==e[t+s])continue e;return o.str}return null},e.prototype.store=function(e,t){var r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)},e.prototype.decode=function(e,t,r){var a=this.find(e,t,r);if(null!=a)return this.hit++,a;this.miss++;var o=Object(n.utf8DecodeJs)(e,t,r),i=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(i,o),o},e}()},"./node_modules/@msgpack/msgpack/dist.es5+esm/DecodeError.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"DecodeError",(function(){return a}));var n=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=function(e){function t(r){var n=e.call(this,r)||this,a=Object.create(t.prototype);return Object.setPrototypeOf(n,a),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:t.name}),n}return n(t,e),t}(Error)},"./node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs":function(t,r,n){"use strict";n.r(r),n.d(r,"DataViewIndexOutOfBoundsError",(function(){return g})),n.d(r,"Decoder",(function(){return k}));var a=n("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/prettyByte.mjs"),o=n("./node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs"),i=n("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs"),s=n("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs"),c=n("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/typedArrays.mjs"),u=n("./node_modules/@msgpack/msgpack/dist.es5+esm/CachedKeyDecoder.mjs"),l=n("./node_modules/@msgpack/msgpack/dist.es5+esm/DecodeError.mjs"),f=function(t,r,n,a){return new(n||(n=Promise))((function(o,i){function s(t){try{u(a.next(t))}catch(e){i(e)}}function c(t){try{u(a.throw(t))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((a=a.apply(t,r||[])).next())}))},d=function(t,r){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=r.call(t,s)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},p=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"===typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,a){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,a,(t=e[r](t)).done,t.value)}))}}},h=function(e){return this instanceof h?(this.v=e,this):new h(e)},m=function(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,o=n.apply(t,r||[]),i=[];return a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a;function s(e){o[e]&&(a[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||c(e,t)}))})}function c(t,r){try{(n=o[t](r)).value instanceof h?Promise.resolve(n.value.v).then(u,l):f(i[0][2],n)}catch(e){f(i[0][3],e)}var n}function u(e){c("next",e)}function l(e){c("throw",e)}function f(e,t){e(t),i.shift(),i.length&&c(i[0][0],i[0][1])}},v=function(e){var t=typeof e;return"string"===t||"number"===t},_=new DataView(new ArrayBuffer(0)),y=new Uint8Array(_.buffer),g=function(){try{_.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),b=new g("Insufficient data"),w=new u.CachedKeyDecoder,k=function(){function t(e,t,r,n,a,s,c,u){void 0===e&&(e=o.ExtensionCodec.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=i.UINT32_MAX),void 0===n&&(n=i.UINT32_MAX),void 0===a&&(a=i.UINT32_MAX),void 0===s&&(s=i.UINT32_MAX),void 0===c&&(c=i.UINT32_MAX),void 0===u&&(u=w),this.extensionCodec=e,this.context=t,this.maxStrLength=r,this.maxBinLength=n,this.maxArrayLength=a,this.maxMapLength=s,this.maxExtLength=c,this.keyDecoder=u,this.totalPos=0,this.pos=0,this.view=_,this.bytes=y,this.headByte=-1,this.stack=[]}return t.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},t.prototype.setBuffer=function(e){this.bytes=Object(c.ensureUint8Array)(e),this.view=Object(c.createDataView)(this.bytes),this.pos=0},t.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),r=Object(c.ensureUint8Array)(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)},t.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},t.prototype.createExtraByteError=function(e){var t=this.view,r=this.pos;return new RangeError("Extra "+(t.byteLength-r)+" of "+t.byteLength+" byte(s) found at buffer["+e+"]")},t.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},t.prototype.decodeMulti=function(e){return d(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},t.prototype.decodeAsync=function(t){var r,n,o,i;return f(this,void 0,void 0,(function(){var s,c,u,l,f,h,m,v;return d(this,(function(d){switch(d.label){case 0:s=!1,d.label=1;case 1:d.trys.push([1,6,7,12]),r=p(t),d.label=2;case 2:return[4,r.next()];case 3:if((n=d.sent()).done)return[3,5];if(u=n.value,s)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u);try{c=this.doDecodeSync(),s=!0}catch(e){if(!(e instanceof g))throw e}this.totalPos+=this.pos,d.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return l=d.sent(),o={error:l},[3,12];case 7:return d.trys.push([7,,10,11]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,9];case 8:d.sent(),d.label=9;case 9:return[3,11];case 10:if(o)throw o.error;return[7];case 11:return[7];case 12:if(s){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,c]}throw h=(f=this).headByte,m=f.pos,v=f.totalPos,new RangeError("Insufficient data in parsing "+Object(a.prettyByte)(h)+" at "+v+" ("+m+" in the current buffer)")}}))}))},t.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},t.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},t.prototype.decodeMultiAsync=function(e,t){return m(this,arguments,(function(){var r,n,a,o,i,s,c,u,l;return d(this,(function(f){switch(f.label){case 0:r=t,n=-1,f.label=1;case 1:f.trys.push([1,13,14,19]),a=p(e),f.label=2;case 2:return[4,h(a.next())];case 3:if((o=f.sent()).done)return[3,12];if(i=o.value,t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(n=this.readArraySize(),r=!1,this.complete()),f.label=4;case 4:f.trys.push([4,9,,10]),f.label=5;case 5:return[4,h(this.doDecodeSync())];case 6:return[4,f.sent()];case 7:return f.sent(),0===--n?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((s=f.sent())instanceof g))throw s;return[3,10];case 10:this.totalPos+=this.pos,f.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=f.sent(),u={error:c},[3,19];case 14:return f.trys.push([14,,17,18]),o&&!o.done&&(l=a.return)?[4,h(l.call(a))]:[3,16];case 15:f.sent(),f.label=16;case 16:return[3,18];case 17:if(u)throw u.error;return[7];case 18:return[7];case 19:return[2]}}))}))},t.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!==(n=e-128)){this.pushMapState(n),this.complete();continue e}t={}}else if(e<160){if(0!==(n=e-144)){this.pushArrayState(n),this.complete();continue e}t=[]}else{var r=e-160;t=this.decodeUtf8String(r,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e)r=this.lookU8(),t=this.decodeUtf8String(r,1);else if(218===e)r=this.lookU16(),t=this.decodeUtf8String(r,2);else if(219===e)r=this.lookU32(),t=this.decodeUtf8String(r,4);else if(220===e){if(0!==(n=this.readU16())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(221===e){if(0!==(n=this.readU32())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(222===e){if(0!==(n=this.readU16())){this.pushMapState(n),this.complete();continue e}t={}}else if(223===e){if(0!==(n=this.readU32())){this.pushMapState(n),this.complete();continue e}t={}}else if(196===e){var n=this.lookU8();t=this.decodeBinary(n,1)}else if(197===e)n=this.lookU16(),t=this.decodeBinary(n,2);else if(198===e)n=this.lookU32(),t=this.decodeBinary(n,4);else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e)n=this.lookU8(),t=this.decodeExtension(n,1);else if(200===e)n=this.lookU16(),t=this.decodeExtension(n,2);else{if(201!==e)throw new l.DecodeError("Unrecognized type byte: "+Object(a.prettyByte)(e));n=this.lookU32(),t=this.decodeExtension(n,4)}this.complete();for(var o=this.stack;o.length>0;){var i=o[o.length-1];if(0===i.type){if(i.array[i.position]=t,i.position++,i.position!==i.size)continue e;o.pop(),t=i.array}else{if(1===i.type){if(!v(t))throw new l.DecodeError("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new l.DecodeError("The key __proto__ is not allowed");i.key=t,i.type=2;continue e}if(i.map[i.key]=t,i.readCount++,i.readCount!==i.size){i.key=null,i.type=1;continue e}o.pop(),t=i.map}}return t}},t.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},t.prototype.complete=function(){this.headByte=-1},t.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new l.DecodeError("Unrecognized array type byte: "+Object(a.prettyByte)(e))}},t.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new l.DecodeError("Max length exceeded: map length ("+e+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},t.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new l.DecodeError("Max length exceeded: array length ("+e+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:e,array:new Array(e),position:0})},t.prototype.decodeUtf8String=function(e,t){var r;if(e>this.maxStrLength)throw new l.DecodeError("Max length exceeded: UTF-8 byte length ("+e+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+t+e)throw b;var n,a=this.pos+t;return n=this.stateIsMapKey()&&(null===(r=this.keyDecoder)||void 0===r?void 0:r.canBeCached(e))?this.keyDecoder.decode(this.bytes,a,e):e>s.TEXT_DECODER_THRESHOLD?Object(s.utf8DecodeTD)(this.bytes,a,e):Object(s.utf8DecodeJs)(this.bytes,a,e),this.pos+=t+e,n},t.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},t.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new l.DecodeError("Max length exceeded: bin length ("+e+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(e+t))throw b;var r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n},t.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new l.DecodeError("Max length exceeded: ext length ("+e+") > maxExtLength ("+this.maxExtLength+")");var r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)},t.prototype.lookU8=function(){return this.view.getUint8(this.pos)},t.prototype.lookU16=function(){return this.view.getUint16(this.pos)},t.prototype.lookU32=function(){return this.view.getUint32(this.pos)},t.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},t.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},t.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},t.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},t.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},t.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},t.prototype.readU64=function(){var e=Object(i.getUint64)(this.view,this.pos);return this.pos+=8,e},t.prototype.readI64=function(){var e=Object(i.getInt64)(this.view,this.pos);return this.pos+=8,e},t.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},t.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},t}()},"./node_modules/@msgpack/msgpack/dist.es5+esm/Encoder.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"DEFAULT_MAX_DEPTH",(function(){return s})),r.d(t,"DEFAULT_INITIAL_BUFFER_SIZE",(function(){return c})),r.d(t,"Encoder",(function(){return u}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs"),a=r("./node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs"),o=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs"),i=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/typedArrays.mjs"),s=100,c=2048,u=function(){function e(e,t,r,n,o,i,u,l){void 0===e&&(e=a.ExtensionCodec.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=s),void 0===n&&(n=c),void 0===o&&(o=!1),void 0===i&&(i=!1),void 0===u&&(u=!1),void 0===l&&(l=!1),this.extensionCodec=e,this.context=t,this.maxDepth=r,this.initialBufferSize=n,this.sortKeys=o,this.forceFloat32=i,this.ignoreUndefined=u,this.forceIntegerToFloat=l,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.getUint8Array=function(){return this.bytes.subarray(0,this.pos)},e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.getUint8Array()},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth "+t);null==e?this.encodeNil():"boolean"===typeof e?this.encodeBoolean(e):"number"===typeof e?this.encodeNumber(e):"string"===typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: "+e+" bytes in UTF-8");this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>n.TEXT_ENCODER_THRESHOLD){var t=Object(n.utf8Count)(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),Object(n.utf8EncodeTE)(e,this.bytes,this.pos),this.pos+=t}else t=Object(n.utf8Count)(e),this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),Object(n.utf8EncodeJs)(e,this.bytes,this.pos),this.pos+=t},e.prototype.encodeObject=function(e,t){var r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!==typeof e)throw new Error("Unrecognized object: "+Object.prototype.toString.apply(e));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: "+t);this.writeU8(198),this.writeU32(t)}var r=Object(i.ensureUint8Array)(e);this.writeU8a(r)},e.prototype.encodeArray=function(e,t){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large array: "+r);this.writeU8(221),this.writeU32(r)}for(var n=0,a=e;n<a.length;n++){var o=a[n];this.doEncode(o,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var r=0,n=0,a=t;n<a.length;n++)void 0!==e[a[n]]&&r++;return r},e.prototype.encodeMap=function(e,t){var r=Object.keys(e);this.sortKeys&&r.sort();var n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large map object: "+n);this.writeU8(223),this.writeU32(n)}for(var a=0,o=r;a<o.length;a++){var i=o[a],s=e[i];this.ignoreUndefined&&void 0===s||(this.encodeString(i),this.doEncode(s,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: "+t);this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),Object(o.setUint64)(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),Object(o.setInt64)(this.view,this.pos,e),this.pos+=8},e}()},"./node_modules/@msgpack/msgpack/dist.es5+esm/ExtData.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"ExtData",(function(){return n}));var n=function(e,t){this.type=e,this.data=t}},"./node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"ExtensionCodec",(function(){return o}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/ExtData.mjs"),a=r("./node_modules/@msgpack/msgpack/dist.es5+esm/timestamp.mjs"),o=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(a.timestampExtension)}return e.prototype.register=function(e){var t=e.type,r=e.encode,n=e.decode;if(t>=0)this.encoders[t]=r,this.decoders[t]=n;else{var a=1+t;this.builtInEncoders[a]=r,this.builtInDecoders[a]=n}},e.prototype.tryToEncode=function(e,t){for(var r=0;r<this.builtInEncoders.length;r++)if(null!=(o=this.builtInEncoders[r])&&null!=(i=o(e,t))){var a=-1-r;return new n.ExtData(a,i)}for(r=0;r<this.encoders.length;r++){var o,i;if(null!=(o=this.encoders[r])&&null!=(i=o(e,t)))return a=r,new n.ExtData(a,i)}return e instanceof n.ExtData?e:null},e.prototype.decode=function(e,t,r){var a=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return a?a(e,t,r):new n.ExtData(t,e)},e.defaultCodec=new e,e}()},"./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"defaultDecodeOptions",(function(){return a})),r.d(t,"decode",(function(){return o})),r.d(t,"decodeMulti",(function(){return i}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs"),a={};function o(e,t){return void 0===t&&(t=a),new n.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decode(e)}function i(e,t){return void 0===t&&(t=a),new n.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeMulti(e)}},"./node_modules/@msgpack/msgpack/dist.es5+esm/decodeAsync.mjs":function(t,r,n){"use strict";n.r(r),n.d(r,"decodeAsync",(function(){return u})),n.d(r,"decodeArrayStream",(function(){return l})),n.d(r,"decodeMultiStream",(function(){return f})),n.d(r,"decodeStream",(function(){return d}));var a=n("./node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs"),o=n("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/stream.mjs"),i=n("./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs"),s=function(t,r,n,a){return new(n||(n=Promise))((function(o,i){function s(t){try{u(a.next(t))}catch(e){i(e)}}function c(t){try{u(a.throw(t))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((a=a.apply(t,r||[])).next())}))},c=function(t,r){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=r.call(t,s)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function u(e,t){return void 0===t&&(t=i.defaultDecodeOptions),s(this,void 0,void 0,(function(){var r;return c(this,(function(n){return r=Object(o.ensureAsyncIterable)(e),[2,new a.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeAsync(r)]}))}))}function l(e,t){void 0===t&&(t=i.defaultDecodeOptions);var r=Object(o.ensureAsyncIterable)(e);return new a.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeArrayStream(r)}function f(e,t){void 0===t&&(t=i.defaultDecodeOptions);var r=Object(o.ensureAsyncIterable)(e);return new a.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(r)}function d(e,t){return void 0===t&&(t=i.defaultDecodeOptions),f(e,t)}},"./node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"encode",(function(){return o}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/Encoder.mjs"),a={};function o(e,t){return void 0===t&&(t=a),new n.Encoder(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined,t.forceIntegerToFloat).encode(e)}},"./node_modules/@msgpack/msgpack/dist.es5+esm/index.mjs":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs");r.d(t,"encode",(function(){return n.encode}));var a=r("./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs");r.d(t,"decode",(function(){return a.decode})),r.d(t,"decodeMulti",(function(){return a.decodeMulti}));var o=r("./node_modules/@msgpack/msgpack/dist.es5+esm/decodeAsync.mjs");r.d(t,"decodeAsync",(function(){return o.decodeAsync})),r.d(t,"decodeArrayStream",(function(){return o.decodeArrayStream})),r.d(t,"decodeMultiStream",(function(){return o.decodeMultiStream})),r.d(t,"decodeStream",(function(){return o.decodeStream}));var i=r("./node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs");r.d(t,"Decoder",(function(){return i.Decoder})),r.d(t,"DataViewIndexOutOfBoundsError",(function(){return i.DataViewIndexOutOfBoundsError}));var s=r("./node_modules/@msgpack/msgpack/dist.es5+esm/DecodeError.mjs");r.d(t,"DecodeError",(function(){return s.DecodeError}));var c=r("./node_modules/@msgpack/msgpack/dist.es5+esm/Encoder.mjs");r.d(t,"Encoder",(function(){return c.Encoder}));var u=r("./node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs");r.d(t,"ExtensionCodec",(function(){return u.ExtensionCodec}));var l=r("./node_modules/@msgpack/msgpack/dist.es5+esm/ExtData.mjs");r.d(t,"ExtData",(function(){return l.ExtData}));var f=r("./node_modules/@msgpack/msgpack/dist.es5+esm/timestamp.mjs");r.d(t,"EXT_TIMESTAMP",(function(){return f.EXT_TIMESTAMP})),r.d(t,"encodeDateToTimeSpec",(function(){return f.encodeDateToTimeSpec})),r.d(t,"encodeTimeSpecToTimestamp",(function(){return f.encodeTimeSpecToTimestamp})),r.d(t,"decodeTimestampToTimeSpec",(function(){return f.decodeTimestampToTimeSpec})),r.d(t,"encodeTimestampExtension",(function(){return f.encodeTimestampExtension})),r.d(t,"decodeTimestampExtension",(function(){return f.decodeTimestampExtension}))},"./node_modules/@msgpack/msgpack/dist.es5+esm/timestamp.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"EXT_TIMESTAMP",(function(){return o})),r.d(t,"encodeTimeSpecToTimestamp",(function(){return c})),r.d(t,"encodeDateToTimeSpec",(function(){return u})),r.d(t,"encodeTimestampExtension",(function(){return l})),r.d(t,"decodeTimestampToTimeSpec",(function(){return f})),r.d(t,"decodeTimestampExtension",(function(){return d})),r.d(t,"timestampExtension",(function(){return p}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/DecodeError.mjs"),a=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs"),o=-1,i=4294967295,s=17179869183;function c(e){var t,r=e.sec,n=e.nsec;if(r>=0&&n>=0&&r<=s){if(0===n&&r<=i){var o=new Uint8Array(4);return(t=new DataView(o.buffer)).setUint32(0,r),o}var c=r/4294967296,u=4294967295&r;return o=new Uint8Array(8),(t=new DataView(o.buffer)).setUint32(0,n<<2|3&c),t.setUint32(4,u),o}return o=new Uint8Array(12),(t=new DataView(o.buffer)).setUint32(0,n),Object(a.setInt64)(t,4,r),o}function u(e){var t=e.getTime(),r=Math.floor(t/1e3),n=1e6*(t-1e3*r),a=Math.floor(n/1e9);return{sec:r+a,nsec:n-1e9*a}}function l(e){return e instanceof Date?c(u(e)):null}function f(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var r=t.getUint32(0);return{sec:4294967296*(3&r)+t.getUint32(4),nsec:r>>>2};case 12:return{sec:Object(a.getInt64)(t,4),nsec:t.getUint32(0)};default:throw new n.DecodeError("Unrecognized data size for timestamp (expected 4, 8, or 12): "+e.length)}}function d(e){var t=f(e);return new Date(1e3*t.sec+t.nsec/1e6)}var p={type:o,encode:l,decode:d}},"./node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"UINT32_MAX",(function(){return n})),r.d(t,"setUint64",(function(){return a})),r.d(t,"setInt64",(function(){return o})),r.d(t,"getInt64",(function(){return i})),r.d(t,"getUint64",(function(){return s}));var n=4294967295;function a(e,t,r){var n=r/4294967296,a=r;e.setUint32(t,n),e.setUint32(t+4,a)}function o(e,t,r){var n=Math.floor(r/4294967296),a=r;e.setUint32(t,n),e.setUint32(t+4,a)}function i(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}function s(e,t){return 4294967296*e.getUint32(t)+e.getUint32(t+4)}},"./node_modules/@msgpack/msgpack/dist.es5+esm/utils/prettyByte.mjs":function(e,t,r){"use strict";function n(e){return(e<0?"-":"")+"0x"+Math.abs(e).toString(16).padStart(2,"0")}r.r(t),r.d(t,"prettyByte",(function(){return n}))},"./node_modules/@msgpack/msgpack/dist.es5+esm/utils/stream.mjs":function(t,r,n){"use strict";n.r(r),n.d(r,"isAsyncIterable",(function(){return s})),n.d(r,"asyncIterableFromStream",(function(){return c})),n.d(r,"ensureAsyncIterable",(function(){return u}));var a=function(t,r){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=r.call(t,s)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},o=function(e){return this instanceof o?(this.v=e,this):new o(e)},i=function(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,i=n.apply(t,r||[]),s=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(e){i[e]&&(a[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||u(e,t)}))})}function u(t,r){try{(n=i[t](r)).value instanceof o?Promise.resolve(n.value.v).then(l,f):d(s[0][2],n)}catch(e){d(s[0][3],e)}var n}function l(e){u("next",e)}function f(e){u("throw",e)}function d(e,t){e(t),s.shift(),s.length&&u(s[0][0],s[0][1])}};function s(e){return null!=e[Symbol.asyncIterator]}function c(e){return i(this,arguments,(function(){var t,r,n,i;return a(this,(function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,o(t.read())];case 3:return r=a.sent(),n=r.done,i=r.value,n?[4,o(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return function(e){if(null==e)throw new Error("Assertion Failure: value must not be null nor undefined")}(i),[4,o(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function u(e){return s(e)?e:c(e)}},"./node_modules/@msgpack/msgpack/dist.es5+esm/utils/typedArrays.mjs":function(e,t,r){"use strict";function n(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}function a(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=n(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}r.r(t),r.d(t,"ensureUint8Array",(function(){return n})),r.d(t,"createDataView",(function(){return a}))},"./node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"utf8Count",(function(){return o})),r.d(t,"utf8EncodeJs",(function(){return i})),r.d(t,"TEXT_ENCODER_THRESHOLD",(function(){return c})),r.d(t,"utf8EncodeTE",(function(){return u})),r.d(t,"utf8DecodeJs",(function(){return f})),r.d(t,"TEXT_DECODER_THRESHOLD",(function(){return p})),r.d(t,"utf8DecodeTD",(function(){return h}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs"),a=("undefined"===typeof process||"never"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.TEXT_ENCODING)&&"undefined"!==typeof TextEncoder&&"undefined"!==typeof TextDecoder;function o(e){for(var t=e.length,r=0,n=0;n<t;){var a=e.charCodeAt(n++);if(0!==(4294967168&a))if(0===(4294965248&a))r+=2;else{if(a>=55296&&a<=56319&&n<t){var o=e.charCodeAt(n);56320===(64512&o)&&(++n,a=((1023&a)<<10)+(1023&o)+65536)}r+=0===(4294901760&a)?3:4}else r++}return r}function i(e,t,r){for(var n=e.length,a=r,o=0;o<n;){var i=e.charCodeAt(o++);if(0!==(4294967168&i)){if(0===(4294965248&i))t[a++]=i>>6&31|192;else{if(i>=55296&&i<=56319&&o<n){var s=e.charCodeAt(o);56320===(64512&s)&&(++o,i=((1023&i)<<10)+(1023&s)+65536)}0===(4294901760&i)?(t[a++]=i>>12&15|224,t[a++]=i>>6&63|128):(t[a++]=i>>18&7|240,t[a++]=i>>12&63|128,t[a++]=i>>6&63|128)}t[a++]=63&i|128}else t[a++]=i}}var s=a?new TextEncoder:void 0,c=a?"undefined"!==typeof process&&"force"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.TEXT_ENCODING?200:0:n.UINT32_MAX,u=(null===s||void 0===s?void 0:s.encodeInto)?function(e,t,r){s.encodeInto(e,t.subarray(r))}:function(e,t,r){t.set(s.encode(e),r)},l=4096;function f(e,t,r){for(var n=t,a=n+r,o=[],i="";n<a;){var s=e[n++];if(0===(128&s))o.push(s);else if(192===(224&s)){var c=63&e[n++];o.push((31&s)<<6|c)}else if(224===(240&s)){c=63&e[n++];var u=63&e[n++];o.push((31&s)<<12|c<<6|u)}else if(240===(248&s)){var f=(7&s)<<18|(c=63&e[n++])<<12|(u=63&e[n++])<<6|63&e[n++];f>65535&&(f-=65536,o.push(f>>>10&1023|55296),f=56320|1023&f),o.push(f)}else o.push(s);o.length>=l&&(i+=String.fromCharCode.apply(String,o),o.length=0)}return o.length>0&&(i+=String.fromCharCode.apply(String,o)),i}var d=a?new TextDecoder:null,p=a?"undefined"!==typeof process&&"force"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.TEXT_DECODER?200:0:n.UINT32_MAX;function h(e,t,r){var n=e.subarray(t,t+r);return d.decode(n)}},"./package.json":function(e){e.exports=JSON.parse('{"name":"imjoy-rpc","version":"0.5.44","description":"Remote procedure calls for ImJoy.","module":"index.js","types":"index.d.ts","scripts":{"build":"rm -rf dist && npm run build-umd","build-umd":"webpack --config webpack.config.js --mode development && NODE_ENV=production webpack --config webpack.config.js --mode production --devtool source-map ","watch":"NODE_ENV=production webpack --watch --progress --config webpack.config.js --mode production --devtool source-map","publish-npm":"npm install && npm run build && npm publish","serve":"webpack-dev-server","stats":"webpack --profile --json > stats.json","stats-prod":"webpack --profile --json --mode production > stats-prod.json","analyze":"webpack-bundle-analyzer -p 9999 stats.json","analyze-prod":"webpack-bundle-analyzer -p 9999 stats-prod.json","clean":"rimraf dist/*","deploy":"npm run build && node deploy-site.js","format":"prettier --write \\"{src,tests}/**/**\\"","check-format":"prettier --check \\"{src,tests}/**/**\\"","test":"karma start --single-run --browsers ChromeHeadless,FirefoxHeadless karma.conf.js","test-watch":"karma start --auto-watch --browsers ChromeDebugging karma.conf.js --debug"},"repository":{"type":"git","url":"git+https://github.com/imjoy-team/imjoy-rpc.git"},"keywords":["imjoy","rpc"],"author":"imjoy-team <imjoy.team@gmail.com>","license":"MIT","bugs":{"url":"https://github.com/imjoy-team/imjoy-rpc/issues"},"homepage":"https://github.com/imjoy-team/imjoy-rpc","dependencies":{"@msgpack/msgpack":"^2.7.1","socket.io-client":"^4.6.2"},"devDependencies":{"@babel/core":"^7.16.12","@babel/plugin-syntax-dynamic-import":"^7.8.3","@babel/polyfill":"^7.12.1","@babel/preset-env":"^7.16.11","@types/requirejs":"^2.1.34","babel-core":"^6.26.0","babel-eslint":"^10.1.0","babel-loader":"^8.2.3","babel-runtime":"^6.26.0","chai":"^4.3.6","clean-webpack-plugin":"^0.1.19","copy-webpack-plugin":"^5.1.2","eslint":"^6.8.0","eslint-config-prettier":"^4.2.0","eslint-loader":"^4.0.2","file-loader":"^0.11.2","fs-extra":"^0.30.0","gh-pages":"^2.0.1","html-loader":"^0.5.5","html-webpack-plugin":"^3.2.0","json-loader":"^0.5.4","karma":"^6.3.12","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^1.3.0","karma-mocha":"^2.0.1","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"0.0.32","karma-webpack":"^4.0.2","lerna":"^6.0.3","lodash.debounce":"^4.0.8","mocha":"^10.1.0","postcss":"^7.0.36","prettier":"^1.6.1","rimraf":"^2.6.2","schema-utils":"^0.4.3","style-loader":"^0.18.1","ts-loader":"^9.4.3","url-loader":"^0.5.9","webpack":"^4.46.0","webpack-bundle-analyzer":"^4.7.0","webpack-cli":"^3.3.12","webpack-dev-server":"^3.11.3","webpack-merge":"^4.1.1","workbox-webpack-plugin":"^4.3.1","worker-loader":"^2.0.0","write-file-webpack-plugin":"^4.5.1"},"eslintConfig":{"globals":{"document":true,"window":true}}}')},"./src/hypha/rpc.js":function(t,r,n){"use strict";n.r(r),n.d(r,"API_VERSION",(function(){return i})),n.d(r,"RPC",(function(){return p}));var a=n("./src/hypha/utils.js"),o=n("./node_modules/@msgpack/msgpack/dist.es5+esm/index.mjs"),i="0.3.0",s=512e3,c=Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array)).constructor;function u(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer}function l(e,t){if(!t)throw new Error("undefined index");return"string"===typeof t?l(e,t.split(".")):0===t.length?e:l(e[t[0]],t.slice(1))}function f(e){var t=e.toString(),r=t.match(/function\s*(\w*)/),n=r&&r[1]||"",a=t.match(/\(([^)]*)\)/),o="";a&&(o=a[1].split(",").map((function(e){return e.replace(/\/\*.*?\*\//g,"").replace(/\/\/.*$/g,"")})).filter((function(e){return e.trim().length>0})).map((function(e){return e.trim()})).join(", "));var i=t.match(/\)\s*\{\s*\/\*([\s\S]*?)\*\//),s=i&&i[1].trim()||"",c=(i=t.match(/\)\s*\{\s*(\/\/[\s\S]*?)\n\s*[^\s\/]/))&&i[1].split("\n").map((function(e){return e.replace(/^\/\/\s*/,"").trim()})).join("\n")||"",u=s||c;return n&&o.length>0&&{name:n,sig:o,doc:u}}var d=function(){function e(t,r,n,a){_classCallCheck(this,e),this._timeout=t,this._callback=r,this._args=n,this._label=a||"timer",this._task=null,this.started=!1}return _createClass(e,[{key:"start",value:function(){var e=this;this.started?this.reset():(this._task=setTimeout((function(){e._callback.apply(e,e._args)}),1e3*this._timeout),this.started=!0)}},{key:"clear",value:function(){this._task?(clearTimeout(this._task),this._task=null,this.started=!1):console.warn("Clearing a timer (".concat(this._label,") which is not started"))}},{key:"reset",value:function(){var e=this;this._task&&clearTimeout(this._task),this._task=setTimeout((function(){e._callback.apply(e,e._args)}),1e3*this._timeout),this.started=!0}}]),e}(),p=function(t){_inherits(n,t);var r=_createSuper(n);function n(e,t){var o,i=t.client_id,s=void 0===i?null:i,c=t.manager_id,u=void 0===c?null:c,l=t.default_context,f=void 0===l?null:l,d=t.name,p=void 0===d?null:d,h=t.codecs,m=void 0===h?null:h,v=t.method_timeout,_=void 0===v?null:v,y=t.max_message_buffer_size,g=void 0===y?0:y,b=t.debug,w=void 0!==b&&b,k=t.workspace,x=void 0===k?null:k;return _classCallCheck(this,n),(o=r.call(this,w))._codecs=m||{},Object(a.assert)(s&&"string"===typeof s),Object(a.assert)(s,"client_id is required"),o._client_id=s,o._name=p,o._connection_info=null,o._workspace=null,o._local_workspace=x,o.manager_id=u,o.default_context=f||{},o._method_annotations=new WeakMap,o._manager_service=null,o._max_message_buffer_size=g,o._chunk_store={},o._method_timeout=_||30,o._services={},o._object_store={services:o._services},e?(o.add_service({id:"built-in",type:"built-in",name:"RPC built-in services",config:{require_context:!0,visibility:"public"},ping:o._ping.bind(_assertThisInitialized(o)),get_service:o.get_local_service.bind(_assertThisInitialized(o)),register_service:o.register_service.bind(_assertThisInitialized(o)),message_cache:{create:o._create_message.bind(_assertThisInitialized(o)),append:o._append_message.bind(_assertThisInitialized(o)),process:o._process_message.bind(_assertThisInitialized(o)),remove:o._remove_message.bind(_assertThisInitialized(o))}}),o.on("method",o._handle_method.bind(_assertThisInitialized(o))),Object(a.assert)(e.emit_message&&e.on_message),o._emit_message=e.emit_message.bind(e),e.on_message(o._on_message.bind(_assertThisInitialized(o))),o._connection=e,o._get_connection_info()):o._emit_message=function(){console.log("No connection to emit message")},o}return _createClass(n,[{key:"_get_connection_info",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.manager_id){e.next=14;break}return e.prev=1,e.next=4,this.get_manager_service(30);case 4:return Object(a.assert)(this._manager_service),e.next=7,this._manager_service.get_connection_info();case 7:this._connection_info=e.sent,this._connection_info.reconnection_token&&this._connection.set_reconnection_token&&(this._connection.set_reconnection_token(this._connection_info.reconnection_token),t=.8*this._connection_info.reconnection_expires_in,this._get_connection_info_task=setTimeout(this._get_connection_info.bind(this),1e3*t)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.warn("Failed to fetch user info from ",this.manager_id,e.t0);case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"register_codec",value:function(e){if(!e.name||!e.encoder&&!e.decoder)throw new Error("Invalid codec format, please make sure you provide a name, type, encoder and decoder.");if(e.type)for(var t=0,r=Object.keys(this._codecs);t<r.length;t++){var n=r[t];this._codecs[n].type!==e.type&&n!==e.name||(delete this._codecs[n],console.warn("Remove duplicated codec: "+n))}this._codecs[e.name]=e}},{key:"_ping",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(a.assert)("ping"==t),e.abrupt("return","pong");case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"ping",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._generate_remote_method({_rtarget:t,_rmethod:"services.built-in.ping",_rpromise:!0,_rdoc:"Ping a remote client",_rsig:"ping(msg)"}),e.t0=Object(a.assert),e.next=4,n("ping",r);case 4:e.t1=e.sent,e.t2="pong"==e.t1,(0,e.t0)(e.t2);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_create_message",value:function(e,t,r,n){if(t){if(!this._object_store[e])throw new Error("session does not exist anymore: ".concat(e));this._object_store[e].timer.reset()}if(this._object_store.message_cache||(this._object_store.message_cache={}),!r&&this._object_store.message_cache[e])throw new Error("Message with the same key (".concat(e,") already exists in the cache store, please use overwrite=true or remove it first."));this._object_store.message_cache[e]=[]}},{key:"_append_message",value:function(e,t,r,n){if(r){if(!this._object_store[e])throw new Error("session does not exist anymore: ".concat(e));this._object_store[e].timer.reset()}var o=this._object_store.message_cache;if(!o[e])throw new Error("Message with key ".concat(e," does not exists."));Object(a.assert)(t instanceof c),o[e].push(t)}},{key:"_remove_message",value:function(e,t){var r=this._object_store.message_cache;if(!r[e])throw new Error("Message with key ".concat(e," does not exists."));delete r[e]}},{key:"_process_message",value:function(e,t,r){if(t){if(!this._object_store[e])throw new Error("session does not exist anymore: ".concat(e));this._object_store[e].timer.reset()}var n=this._object_store.message_cache;if(Object(a.assert)(!!r,"Context is required"),!n[e])throw new Error("Message with key ".concat(e," does not exists."));n[e]=function(e){var t=e.map((function(e){return e.byteLength})),r=t.reduce((function(e,t){return e+t}),0),n=new Uint8Array(r);return t.reduce((function(t,r,a){return n.set(new Uint8Array(e[a]),t),t+r}),0),n.buffer}(n[e]),console.debug("Processing message ".concat(e," (size=").concat(n[e].length,")"));var i=Object(o.decodeMulti)(n[e]),s=i.next(),c=s.done,u=s.value;if(Object.assign(u,{from:r.from,to:r.to,user:r.user}),u.ctx=JSON.parse(JSON.stringify(u)),Object.assign(u.ctx,this.default_context),!c){var l=i.next();Object.assign(u,l.value)}this._fire(u.type,u),delete n[e]}},{key:"_on_message",value:function(t){try{Object(a.assert)(t instanceof ArrayBuffer);var r=Object(o.decodeMulti)(t),n=r.next(),i=n.done,s=n.value;if(s.ctx=JSON.parse(JSON.stringify(s)),Object.assign(s.ctx,this.default_context),!i){var c=r.next();Object.assign(s,c.value)}this._fire(s.type,s)}catch(u){console.error(e)}}},{key:"reset",value:function(){this._event_handlers={},this._services={}}},{key:"disconnect",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._get_connection_info_task&&(clearTimeout(this._get_connection_info_task),this._get_connection_info_task=null),this._fire("disconnect");case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get_manager_service",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.manager_id||this._manager_service){e.next=4;break}return e.next=3,this.get_remote_service("".concat(this.manager_id,":default"),t);case 3:this._manager_service=e.sent;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get_all_local_services",value:function(){return this._services}},{key:"get_local_service",value:function(e,t){Object(a.assert)(e);var r=t.to.split("/"),n=_slicedToArray(r,2),o=n[0],i=n[1];Object(a.assert)(i===this._client_id,"Services can only be accessed locally");var s=this._services[e];if(!s)throw new Error("Service not found: "+e);if("public"==s.config.visibility)return s;if(t.from.startsWith(o+"/"))return s;throw new Error("Permission denied for service: "+e)}},{key:"get_remote_service",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n,o,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===r?this._method_timeout:r,!t&&this.manager_id?t=this.manager_id:t.includes(":")||(t=this._client_id+":"+t),n=t.split(":")[0],Object(a.assert)(n),e.prev=4,o=this._generate_remote_method({_rtarget:n,_rmethod:"services.built-in.get_service",_rpromise:!0,_rdoc:"Get a remote service",_rsig:"get_service(service_id)"}),e.next=8,Object(a.waitFor)(o(t.split(":")[1]),r,"Timeout Error: Failed to get remote service: "+t);case 8:return(i=e.sent).id=t,e.abrupt("return",i);case 13:throw e.prev=13,e.t0=e.catch(4),console.error("Failed to get remote service: "+t,e.t0),e.t0;case 17:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_annotate_service_methods",value:function(e,t,r,n,a){if("function"===typeof e){var o=t.split(".")[1];this._method_annotations.set(e,{require_context:Array.isArray(r)?r.includes(o):!!r,run_in_executor:n,method_id:"services."+t,visibility:a})}else if(e instanceof Array||e instanceof Object)for(var i=0,s=Object.keys(e);i<s.length;i++){var c=s[i],u=e[c];if("function"===typeof u&&u.__rpc_object__){var f=u.__rpc_object__._rtarget;if(f.includes("/")&&(f=f.split("/")[1]),this._client_id!==f)throw new Error("Local method not found: ".concat(u.__rpc_object__._rmethod,", client id mismatch ").concat(this._client_id," != ").concat(f));e instanceof Array&&(e=e.slice()),e[c]=l(this._object_store,u.__rpc_object__._rmethod),u=e[c]}this._annotate_service_methods(u,t+"."+c,r,n,a)}}},{key:"add_service",value:function(e,t){if(!e||Array.isArray(e))throw new Error("Invalid service object");if(e.constructor===Object)e=Object.assign({},e);else{var r,n={},o=Object.getOwnPropertyNames(e).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(e))),i=_createForOfIteratorHelper(o);try{for(i.s();!(r=i.n()).done;){var s=r.value;"constructor"!==s&&("function"===typeof e[s]?n[s]=e[s].bind(e):n[s]=e[s])}}catch(f){i.e(f)}finally{i.f()}e.id=e.id||"default",e=n}Object(a.assert)(e.id&&"string"===typeof e.id,"Service id not found: ".concat(e)),e.name||(e.name=e.id),e.config||(e.config={}),e.type||(e.type="generic");var c=!1,u=!1;e.config.require_context&&(c=e.config.require_context),e.config.run_in_executor&&(u=!0);var l=e.config.visibility||"protected";if(Object(a.assert)(["protected","public"].includes(l)),this._annotate_service_methods(e,e.id,c,u,l),this._services[e.id]){if(!t)throw new Error("Service already exists: ".concat(e.id,", please specify a different id (not ").concat(e.id,") or overwrite=true"));delete this._services[e.id]}return this._services[e.id]=e,e}},{key:"register_service",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n,o){var i,s,c,u,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!0),o&&(i=o.to.split("/"),s=_slicedToArray(i,2),c=s[0],u=s[1],Object(a.assert)(u===this._client_id),Object(a.assert)(c===o.from.split("/")[0],"Services can only be registered from the same workspace")),l=this.add_service(t,r),!n){e.next=7;break}return this._fire("service-updated",{service_id:l.id,api:l,type:"add"}),e.next=7,this._notify_service_update();case 7:return e.abrupt("return",{id:"".concat(this._client_id,":").concat(l.id),type:l.type,name:l.name,description:l.description||"",config:l.config});case 8:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"unregister_service",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Object&&(t=t.id),this._services[t]){e.next=3;break}throw new Error("Service not found: ".concat(t));case 3:return n=this._services[t],delete this._services[t],this._fire("service-updated",{service_id:t,api:n,type:"remove"}),e.next=8,this._notify_service_update();case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_ndarray",value:function(e,t,r){var n=Object(a.typedArrayToDtype)(e);if(r&&r!==n)throw"dtype doesn't match the type of the array: "+n+" != "+r;return t=t||[e.length],{_rtype:"ndarray",_rvalue:e.buffer,_rshape:t,_rdtype:n}}},{key:"_encode_callback",value:function(e,t,r,n,a,o){var i="".concat(r,".").concat(e),s={_rtype:"method",_rtarget:o?"".concat(o,"/").concat(this._client_id):this._client_id,_rmethod:i,_rpromise:!1},c=this;return[s,function(){try{t.apply(null,Array.prototype.slice.call(arguments))}catch(e){console.error("Error in callback:",i,e)}finally{n&&c._object_store[r]&&delete c._object_store[r],a&&a.started&&a.clear()}}]}},{key:"_encode_promise",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n,o,i,s){var c,u,l,f,d,p;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=this._get_session_store(n,!0),Object(a.assert)(c,"Failed to create session store ".concat(n," due to invalid parent")),u={},!(i&&r&&this._method_timeout)){e.next=11;break}return e.next=6,this._encode(i.reset.bind(i),n,s);case 6:u.heartbeat=e.sent,u.interval=this._method_timeout/2,c.timer=i,e.next=12;break;case 11:i=null;case 12:return l=this._encode_callback("resolve",t,n,o,i,s),f=_slicedToArray(l,2),u.resolve=f[0],c.resolve=f[1],d=this._encode_callback("reject",r,n,o,i,s),p=_slicedToArray(d,2),u.reject=p[0],c.reject=p[1],e.abrupt("return",u);case 21:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,o,i){return e.apply(this,arguments)}}()},{key:"_send_chunks",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n){var o,i,c,u,l,f,d;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get_remote_service("".concat(r,":built-in"));case 2:return o=e.sent,Object(a.assert)(o.message_cache,"Remote client does not support message caching for long message."),i=o.message_cache,c=n||Object(a.randId)(),e.next=8,i.create(c,!!n);case 8:u=t.length,l=Math.ceil(u/s),f=0;case 11:if(!(f<l)){e.next=18;break}return d=f*s,e.next=15,i.append(c,t.slice(d,d+s),!!n);case 15:f++,e.next=11;break;case 18:return e.next=20,i.process(c,!!n);case 20:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_generate_remote_method",value:function(e,t,r,n,i){var s=e._rtarget;n&&!s.includes("/")&&(s=n+"/"+s,e._rtarget=s);var c=e._rmethod,u=e._rpromise,l=this;function f(){var e=arguments;return new Promise(function(){var n=_asyncToGenerator(_regeneratorRuntime().mark((function n(f,p){var h,m,v,_,y,g,b,w,k,x,j;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(h=Object(a.randId)(),r&&(h=r+"."+h),m=l._get_session_store(h,!0)){n.next=6;break}return p(new Error("Runtime Error: Failed to get session store ".concat(h))),n.abrupt("return");case 6:return m.target_id=s,n.next=9,l._encode(Array.prototype.slice.call(e),h,i);case 9:if(v=n.sent,_=v.length,(y=_>0&&"object"===typeof v[_-1]&&null!==v[_-1]&&v[_-1]._rkwargs)&&delete v[_-1]._rkwargs,g={type:"method",from:l._local_workspace?l._local_workspace+"/"+l._client_id:l._client_id,to:s,method:c},b={},v&&(b.args=v),y&&(b.with_kwargs=y),t&&(g.parent=t),w=null,!u){n.next=26;break}return g.session=h,k="".concat(s,":").concat(c),w=new d(l._method_timeout,p,["Method call time out: ".concat(k)],k),n.next=25,l._encode_promise(f,p,h,!0,w,i);case 25:b.promise=n.sent;case 26:x=Object(o.encode)(g),b&&(j=Object(o.encode)(b),x=new Uint8Array([].concat(_toConsumableArray(x),_toConsumableArray(j)))),x.length<=513024?l._emit_message(x).then((function(){w&&w.start()})):l._send_chunks(x,s,t).then((function(){w&&w.start()}));case 30:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}f.__rpc_object__=e;var p=c.split(".");return f.__name__=p[p.length-1],f.__doc__=e._rdoc,f.__sig__=e._rsig,f}},{key:"_notify_service_update",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.manager_id){e.next=12;break}return e.prev=1,e.next=4,this.get_manager_service(30);case 4:return Object(a.assert)(this._manager_service),e.next=7,this._manager_service.update_client_info(this.get_client_info());case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.warn("Failed to notify service update to",this.manager_id,e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"get_client_info",value:function(){for(var e=[],t=0,r=Object.values(this._services);t<r.length;t++){var n=r[t];e.push({id:"".concat(this._client_id,":").concat(n.id),type:n.type,name:n.name,description:n.description||"",config:n.config})}return{id:this._client_id,services:e}}},{key:"_handle_method",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,o,i,s,c,u,f,d,p,h,m,v,_;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,n=null,e.prev=2,Object(a.assert)(t.method&&t.ctx&&t.from),o=t.from+":"+t.method,i=t.from.split("/")[0],t.to=t.to.includes("/")?t.to:i+"/"+t.to,t.ctx.to=t.to,s=t.to.split("/")[0],c=t.parent,!t.promise){e.next=17;break}return e.next=13,this._decode(t.promise,t.session,c,i,s);case 13:d=e.sent,u=d.resolve,f=d.reject,d.heartbeat&&d.interval&&(p=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.heartbeat();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),n=setInterval(p,1e3*d.interval));case 17:e.prev=17,h=l(this._object_store,t.method),e.next=25;break;case 21:throw e.prev=21,e.t0=e.catch(17),console.debug("Failed to find method",o,e.t0),new Error("Method not found: ".concat(o));case 25:if(Object(a.assert)(h&&"function"===typeof h,"Invalid method: "+o),!this._method_annotations.has(h)){e.next=32;break}if("protected"!==this._method_annotations.get(h).visibility){e.next=30;break}if(s===i){e.next=30;break}throw new Error("Permission denied for protected method "+o+", workspace mismatch: "+s+" != "+i);case 30:e.next=36;break;case 32:if(m=this._object_store[t.method.split(".")[0]].target_id,s===i&&m&&-1===m.indexOf("/")&&(m=s+"/"+m),m===t.from){e.next=36;break}throw new Error("Access denied for method call ("+o+") from "+t.from);case 36:if(c&&Object(a.assert)(null!==this._get_session_store(c,!0),"Parent session was closed: "+c),!t.args){e.next=43;break}return e.next=40,this._decode(t.args,t.session,null,i,null);case 40:v=e.sent,e.next=44;break;case 43:v=[];case 44:this._method_annotations.has(h)&&this._method_annotations.get(h).require_context&&v.push(t.ctx),t.promise?(_=h.apply(null,v))instanceof Promise?_.then((function(e){u(e),clearInterval(n)})).catch((function(e){f(e),clearInterval(n)})):(u(_),clearInterval(n)):(h.apply(null,v),clearInterval(n)),e.next=52;break;case 48:e.prev=48,e.t1=e.catch(2),r?(r(e.t1),console.debug("Error during calling method: ",e.t1)):console.error("Error during calling method: ",e.t1),clearInterval(n);case 52:case"end":return e.stop()}}),e,this,[[2,48],[17,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"encode",value:function(e,t){return this._encode(e,t)}},{key:"_get_session_store",value:function(e,t){var r=this._object_store,n=e.split(".");if(t){var a,o=n.length-1,i=_createForOfIteratorHelper(n.slice(0,o));try{for(i.s();!(a=i.n()).done;){var s=a.value;if(!r[s])return null;r=r[s]}}catch(f){i.e(f)}finally{i.f()}return r[n[o]]||(r[n[o]]={}),r[n[o]]}var c,u=_createForOfIteratorHelper(n);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(!r[l])return null;r=r[l]}}catch(f){u.e(f)}finally{u.f()}return r}},{key:"_encode",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(r,n,o){var i,s,u,l,d,p,h,m,v,_,y,g,b,w,k,x,j,E,S,O,P,A,T,C;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("number"===(i=typeof r)||"string"===i||"boolean"===i||null===r||void 0===r||r instanceof Uint8Array)){t.next=3;break}return t.abrupt("return",r);case 3:if(!(r instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",{_rtype:"memoryview",_rvalue:new Uint8Array(r)});case 5:if(!r.__rpc_object__){t.next=7;break}return t.abrupt("return",r.__rpc_object__);case 7:if(!(r.constructor instanceof Object&&r._rtype)){t.next=15;break}return u=r._rtype,delete r._rtype,t.next=12,this._encode(r,n,o);case 12:return(s=t.sent)._rtype=u,t.abrupt("return",s);case 15:if("function"!==typeof r){t.next=21;break}if(this._method_annotations.has(r)?(l=this._method_annotations.get(r),s={_rtype:"method",_rtarget:this._client_id,_rmethod:l.method_id,_rpromise:!0}):(Object(a.assert)("string"===typeof n),d=r.__name__?"".concat(Object(a.randId)(),"-").concat(r.__name__):Object(a.randId)(),s={_rtype:"method",_rtarget:this._client_id,_rmethod:"".concat(n,".").concat(d),_rpromise:!0},p=this._get_session_store(n,!0),Object(a.assert)(null!==p,"Failed to create session store ".concat(n," due to invalid parent")),p[d]=r),s._rdoc=r.__doc__,s._rsig=r.__sig__,!s._rdoc||!s._rsig)try{(h=f(r))&&!s._rdoc&&(s._rdoc="".concat(h.doc)),h&&!s._rsig&&(s._rsig="".concat(h.name,"(").concat(h.sig,")"))}catch(e){console.error("Failed to extract function docstring:",r)}return t.abrupt("return",s);case 21:m=Array.isArray(r),v=0,_=Object.keys(this._codecs);case 23:if(!(v<_.length)){t.next=43;break}if(y=_[v],!((g=this._codecs[y]).encoder&&r instanceof g.type)){t.next=40;break}return t.next=29,Promise.resolve(g.encoder(r));case 29:if((b=t.sent)&&!b._rtype&&(b._rtype=g.name),"object"!==typeof b){t.next=38;break}return w=b._rtype,delete b._rtype,t.next=36,this._encode(b,n,o);case 36:(b=t.sent)._rtype=w;case 38:return s=b,t.abrupt("return",s);case 40:v++,t.next=23;break;case 43:if(!("undefined"!==typeof tf&&tf.Tensor&&r instanceof tf.Tensor)){t.next=48;break}k=r.dataSync(),s={_rtype:"ndarray",_rvalue:new Uint8Array(k.buffer),_rshape:r.shape,_rdtype:r.dtype},t.next=117;break;case 48:if(!("undefined"!==typeof nj&&nj.NdArray&&r instanceof nj.NdArray)){t.next=53;break}x=Object(a.typedArrayToDtype)(r.selection.data),s={_rtype:"ndarray",_rvalue:new Uint8Array(r.selection.data.buffer),_rshape:r.shape,_rdtype:x},t.next=117;break;case 53:if(!(r instanceof Error)){t.next=58;break}console.error(r),s={_rtype:"error",_rvalue:r.toString()},t.next=117;break;case 58:if(!(r!==Object(r)||r instanceof Boolean||r instanceof String||r instanceof Date||r instanceof RegExp||r instanceof ImageData||"undefined"!==typeof FileList&&r instanceof FileList||"undefined"!==typeof FileSystemDirectoryHandle&&r instanceof FileSystemDirectoryHandle||"undefined"!==typeof FileSystemFileHandle&&r instanceof FileSystemFileHandle||"undefined"!==typeof FileSystemHandle&&r instanceof FileSystemHandle||"undefined"!==typeof FileSystemWritableFileStream&&r instanceof FileSystemWritableFileStream)){t.next=62;break}s=r,t.next=117;break;case 62:if(!(r instanceof Blob)){t.next=79;break}return j=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?r.slice(S,S+t):r.slice(S),e.t0=Uint8Array,e.next=4,n.arrayBuffer();case 4:return e.t1=e.sent,a=new e.t0(e.t1),S+=a.byteLength,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e){S=e},S=0,t.t0=r.type,t.t1=r.name,t.t2=r.size,t.t3=r._path||r.webkitRelativePath,t.next=72,this._encode(j,n,o);case 72:return t.t4=t.sent,t.next=75,this._encode(E,n,o);case 75:t.t5=t.sent,s={_rtype:"iostream",_rnative:"js:blob",type:t.t0,name:t.t1,size:t.t2,path:t.t3,read:t.t4,seek:t.t5},t.next=117;break;case 79:if(!(r instanceof c)){t.next=84;break}O=Object(a.typedArrayToDtype)(r),s={_rtype:"typedarray",_rvalue:new Uint8Array(r.buffer),_rdtype:O},t.next=117;break;case 84:if(!(r instanceof DataView)){t.next=88;break}s={_rtype:"memoryview",_rvalue:new Uint8Array(r.buffer)},t.next=117;break;case 88:if(!(r instanceof Set)){t.next=95;break}return t.next=91,this._encode(Array.from(r),n,o);case 91:t.t6=t.sent,s={_rtype:"set",_rvalue:t.t6},t.next=117;break;case 95:if(!(r instanceof Map)){t.next=102;break}return t.next=98,this._encode(Array.from(r),n,o);case 98:t.t7=t.sent,s={_rtype:"orderedmap",_rvalue:t.t7},t.next=117;break;case 102:if(!(r.constructor instanceof Object||Array.isArray(r))){t.next=116;break}s=m?[]:{},P=Object.keys(r),A=0,T=P;case 106:if(!(A<T.length)){t.next=114;break}return C=T[A],t.next=110,this._encode(r[C],n,o);case 110:s[C]=t.sent;case 111:A++,t.next=106;break;case 114:t.next=117;break;case 116:throw"imjoy-rpc: Unsupported data type: ".concat(r,", you can register a custom codec to encode/decode the object.");case 117:if(s){t.next=119;break}throw new Error("Failed to encode object");case 119:return t.abrupt("return",s);case 120:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"decode",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._decode(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_decode",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n,o,i){var s,c,l,f,d,p,h,m,v,_,y,g,b,w,k,x;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",t);case 2:if(!t._rtype){e.next=88;break}if(!this._codecs[t._rtype]||!this._codecs[t._rtype].decoder){e.next=15;break}return c=t._rtype,delete t._rtype,e.next=8,this._decode(t,r,n,o,i);case 8:return(t=e.sent)._rtype=c,e.next=12,Promise.resolve(this._codecs[t._rtype].decoder(t));case 12:s=e.sent,e.next=86;break;case 15:if("method"!==t._rtype){e.next=19;break}s=this._generate_remote_method(t,r,n,o,i),e.next=86;break;case 19:if("ndarray"!==t._rtype){e.next=23;break}"undefined"!==typeof nj&&nj.array?(Array.isArray(t._rvalue)&&(t._rvalue=t._rvalue.reduce(u)),s=nj.array(new Uint8(t._rvalue),t._rdtype).reshape(t._rshape)):"undefined"!==typeof tf&&tf.Tensor?(Array.isArray(t._rvalue)&&(t._rvalue=t._rvalue.reduce(u)),l=a.dtypeToTypedArray[t._rdtype],s=tf.tensor(new l(t._rvalue),t._rshape,t._rdtype)):s=t,e.next=86;break;case 23:if("error"!==t._rtype){e.next=27;break}s=new Error(t._rvalue),e.next=86;break;case 27:if("typedarray"!==t._rtype){e.next=35;break}if(f=a.dtypeToTypedArray[t._rdtype]){e.next=31;break}throw new Error("unsupported dtype: "+t._rdtype);case 31:d=t._rvalue.buffer.slice(t._rvalue.byteOffset,t._rvalue.byteOffset+t._rvalue.byteLength),s=new f(d),e.next=86;break;case 35:if("memoryview"!==t._rtype){e.next=39;break}s=t._rvalue.buffer.slice(t._rvalue.byteOffset,t._rvalue.byteOffset+t._rvalue.byteLength),e.next=86;break;case 39:if("iostream"!==t._rtype){e.next=64;break}if("js:blob"!==t._rnative){e.next=50;break}return e.next=43,this._generate_remote_method(t.read,r,n,o,i);case 43:return p=e.sent,e.next=46,p();case 46:h=e.sent,s=new Blob([h],{type:t.type,name:t.name}),e.next=61;break;case 50:s={},m=0,v=Object.keys(t);case 52:if(!(m<v.length)){e.next=61;break}if((_=v[m]).startsWith("_")){e.next=58;break}return e.next=57,this._decode(t[_],r,n,o,i);case 57:s[_]=e.sent;case 58:m++,e.next=52;break;case 61:s.__rpc_object__=t,e.next=86;break;case 64:if("orderedmap"!==t._rtype){e.next=72;break}return e.t0=Map,e.next=68,this._decode(t._rvalue,r,n,o,i);case 68:e.t1=e.sent,s=new e.t0(e.t1),e.next=86;break;case 72:if("set"!==t._rtype){e.next=80;break}return e.t2=Set,e.next=76,this._decode(t._rvalue,r,n,o,i);case 76:e.t3=e.sent,s=new e.t2(e.t3),e.next=86;break;case 80:return y=t._rtype,delete t._rtype,e.next=84,this._decode(t,r,n,o,i);case 84:(s=e.sent)._rtype=y;case 86:e.next=105;break;case 88:if(t.constructor!==Object&&!Array.isArray(t)){e.next=104;break}g=Array.isArray(t),s=g?[]:{},b=0,w=Object.keys(t);case 92:if(!(b<w.length)){e.next=102;break}if(k=w[b],!g&&!t.hasOwnProperty(k)){e.next=99;break}return x=t[k],e.next=98,this._decode(x,r,n,o,i);case 98:s[k]=e.sent;case 99:b++,e.next=92;break;case 102:e.next=105;break;case 104:s=t;case 105:if(void 0!==s){e.next=107;break}throw new Error("Failed to decode object");case 107:return e.abrupt("return",s);case 108:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,o){return e.apply(this,arguments)}}()}]),n}(a.MessageEmitter)},"./src/hypha/sse-client.js":function(e,t,r){"use strict";r.r(t),r.d(t,"login",(function(){return l})),r.d(t,"connectToServer",(function(){return d}));var n=r("./src/hypha/rpc.js");r.d(t,"RPC",(function(){return n.RPC})),r.d(t,"API_VERSION",(function(){return n.API_VERSION}));var a=r("./src/hypha/utils.js");r.d(t,"loadRequirements",(function(){return a.loadRequirements}));var o=r("./src/hypha/webrtc-client.js");r.d(t,"getRTCService",(function(){return o.getRTCService})),r.d(t,"registerRTCService",(function(){return o.registerRTCService}));var i=r("./package.json");function s(e){return fetch("data:".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/octet-stream",";base64,").concat(e)).then((function(e){return e.arrayBuffer()}))}r.d(t,"VERSION",(function(){return i.version}));var c=function(){function e(t,r,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:120;_classCallCheck(this,e),Object(a.assert)(t&&r,"server_url and client_id are required"),t=t+"?client_id="+r,n&&(t+="&workspace="+n),o&&(t+="&token="+o),t+="&session_id="+Object(a.randId)(),this._events=null,this._handle_message=null,this._reconnection_token=null,this._server_url=t,this._timeout=1e3*i,this._opening=!1,this._retry_count=0,this._closing=!1}return _createClass(e,[{key:"set_reconnection_token",value:function(e){this._reconnection_token=e}},{key:"on_message",value:function(e){Object(a.assert)(e,"handler is required"),this._handle_message=e}},{key:"open",value:function(){var e=this;return this._opening||(this._opening=new Promise((function(t,r){var n=e._reconnection_token?"".concat(e._server_url,"&reconnection_token=").concat(e._reconnection_token):e._server_url;console.info("Creating a new connection to ",n.split("?")[0]),e._events=new EventSource(n),e._events.onmessage=function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(r){var n;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(r.data);case 2:n=t.sent,e._handle_message(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e._events.onclose=function(t){console.log("eventsource closed"),e._closing||(console.log("Connection interrupted, retrying..."),e._retry_count++,setTimeout((function(){return e.open()}),e._timeout)),e._events=null,e._opening=!1,r("closed")},e._events.onerror=function(e){console.trace(),console.log("Error occurred in eventsource connection: ",e.message),r(e.toString())},e._events.onopen=function(e){t(!0)}}))),this._opening}},{key:"_send",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this._server_url,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"octet-stream"},redirect:"follow",referrerPolicy:"no-referrer",body:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"emit_message",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(a.assert)(this._handle_message,"No handler for message"),this._events&&this._events.readyState!==EventSource.CLOSED){e.next=4;break}return e.next=4,this.open();case 4:return e.next=6,this._send(t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(e){this._closing=!0;var t=this._events;this._events=null,t&&t.readyState===EventSource.OPEN&&t.close(),console.info("EventSource connection disconnected (".concat(e,")"))}}]),e}();function u(e){if(!e)throw new Error("server_url is required");return e=e.replace(/\/$/,"")+"/sse"}function l(e){return f.apply(this,arguments)}function f(){return(f=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a,o,i,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login_service_id||"public/*:hypha-login",n=t.login_timeout||120,a=t.login_callback,e.next=5,d({name:"initial login client",server_url:t.server_url,method_timeout:n});case 5:return o=e.sent,e.prev=6,e.next=9,o.get_service(r);case 9:return i=e.sent,e.next=12,i.start();case 12:if(s=e.sent,!a){e.next=18;break}return e.next=16,a(s);case 16:e.next=19;break;case 18:console.log("Please open your browser and login at ".concat(s.login_url));case 19:return e.next=21,i.check(s.key,n);case 21:return e.abrupt("return",e.sent);case 24:throw e.prev=24,e.t0=e.catch(6),e.t0;case 27:return e.prev=27,e.next=30,o.disconnect();case 30:return e.finish(27);case 31:case"end":return e.stop()}}),e,null,[[6,24,27,31]])})))).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,i,s,l,f,d,p,h,m,v,_,y;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _=function(){return(_=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.disconnect();case 2:return e.next=4,s.disconnect();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},v=function(){return _.apply(this,arguments)},m=function(){return(m=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get_service(t+":default");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},h=function(e){return m.apply(this,arguments)},p=function(){return(p=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.id="default",r.name=t.name||r.id,e.next=4,l.register_service(r,!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},d=function(e){return p.apply(this,arguments)},(r=t.client_id)||(r=Object(a.randId)()),i=u(t.server_url),s=new c(i,r,t.workspace,t.token,t.method_timeout||120),e.next=12,s.open();case 12:return l=new n.RPC(s,{client_id:r,manager_id:"workspace-manager",default_context:{connection_type:"eventsource"},name:t.name,method_timeout:t.method_timeout}),e.next=15,l.get_remote_service("workspace-manager:default",t.method_timeout);case 15:if((f=e.sent).rpc=l,f.export=d,f.getPlugin=h,f.listPlugins=f.listServices,f.disconnect=v,f.registerCodec=l.register_codec.bind(l),!t.webrtc){e.next=25;break}return e.next=25,Object(o.registerRTCService)(f,r+"-rtc",t.webrtc_config);case 25:return(f.get_service||f.getService)&&(y=f.get_service||f.getService,f.get_service=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n){var i,s,c,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(a.assert)([void 0,!0,!1,"auto"].includes(r),"webrtc must be true, false or 'auto'"),e.next=3,y(t);case 3:if(i=e.sent,!0!==r&&"auto"!==r){e.next=25;break}if(!i.id.includes(":")||!i.id.includes("/")){e.next=23;break}return s=i.id.split(":")[0],e.prev=7,e.next=10,Object(o.getRTCService)(f,s+":"+s.split("/")[1]+"-rtc",n);case 10:return c=e.sent,e.next=13,c.get_service(i.id.split(":")[1]);case 13:return(u=e.sent)._webrtc=!0,u._peer=c,u._service=i,e.abrupt("return",u);case 20:e.prev=20,e.t0=e.catch(7),console.warn("Failed to get webrtc service, using eventsource connection",e.t0);case 23:if(!0!==r){e.next=25;break}throw new Error("Failed to get the service via webrtc");case 25:return e.abrupt("return",i);case 26:case"end":return e.stop()}}),e,null,[[7,20]])})));return function(t,r,n){return e.apply(this,arguments)}}(),f.getService=f.get_service),e.abrupt("return",f);case 27:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}},"./src/hypha/utils.js":function srcHyphaUtilsJs(module,__nested_webpack_exports__,__nested_webpack_require_237047__){"use strict";function randId(){return Math.random().toString(36).substr(2,10)+(new Date).getTime()}__nested_webpack_require_237047__.r(__nested_webpack_exports__),__nested_webpack_require_237047__.d(__nested_webpack_exports__,"randId",(function(){return randId})),__nested_webpack_require_237047__.d(__nested_webpack_exports__,"dtypeToTypedArray",(function(){return dtypeToTypedArray})),__nested_webpack_require_237047__.d(__nested_webpack_exports__,"loadRequirementsInWindow",(function(){return loadRequirementsInWindow})),__nested_webpack_require_237047__.d(__nested_webpack_exports__,"loadRequirementsInWebworker",(function(){return loadRequirementsInWebworker})),__nested_webpack_require_237047__.d(__nested_webpack_exports__,"loadRequirements",(function(){return loadRequirements})),__nested_webpack_require_237047__.d(__nested_webpack_exports__,"normalizeConfig",(function(){return normalizeConfig})),__nested_webpack_require_237047__.d(__nested_webpack_exports__,"typedArrayToDtypeMapping",(function(){return typedArrayToDtypeMapping})),__nested_webpack_require_237047__.d(__nested_webpack_exports__,"typedArrayToDtype",(function(){return typedArrayToDtype})),__nested_webpack_require_237047__.d(__nested_webpack_exports__,"cacheRequirements",(function(){return cacheRequirements})),__nested_webpack_require_237047__.d(__nested_webpack_exports__,"setupServiceWorker",(function(){return setupServiceWorker})),__nested_webpack_require_237047__.d(__nested_webpack_exports__,"assert",(function(){return assert})),__nested_webpack_require_237047__.d(__nested_webpack_exports__,"urlJoin",(function(){return urlJoin})),__nested_webpack_require_237047__.d(__nested_webpack_exports__,"waitFor",(function(){return waitFor})),__nested_webpack_require_237047__.d(__nested_webpack_exports__,"MessageEmitter",(function(){return MessageEmitter}));var dtypeToTypedArray={int8:Int8Array,int16:Int16Array,int32:Int32Array,uint8:Uint8Array,uint16:Uint16Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array,array:Array};function loadRequirementsInWindow(e){return _loadRequirementsInWindow.apply(this,arguments)}function _loadRequirementsInWindow(){return _loadRequirementsInWindow=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a,o,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(){return a=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,a,o=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Array.prototype.slice.call(o),n=t.length,a=0;case 1:if(!(a<n)){e.next=7;break}return e.next=4,r(t[a]);case 4:a++,e.next=1;break;case 7:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)},n=function(){return a.apply(this,arguments)},r=function(e){return new Promise((function(t,r){var n=document.createElement("script");n.src=e,n.type="text/javascript",n.onload=t,n.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||t()},n.onerror=r,document.head.appendChild(n)}))},!t||!Array.isArray(t)&&"string"!==typeof t){e.next=46;break}if(e.prev=4,t="string"===typeof t?[t]:t,!Array.isArray(t)){e.next=40;break}i=0;case 8:if(!(i<t.length)){e.next=38;break}if(!t[i].toLowerCase().endsWith(".css")&&!t[i].startsWith("css:")){e.next=17;break}t[i].startsWith("css:")&&(t[i]=t[i].slice(4)),(o=document.createElement("link")).rel="stylesheet",o.href=t[i],document.head.appendChild(o),e.next=35;break;case 17:if(!t[i].toLowerCase().endsWith(".mjs")&&!t[i].startsWith("mjs:")){e.next=23;break}return t[i].startsWith("mjs:")&&(t[i]=t[i].slice(4)),e.next=21,import(t[i]);case 21:e.next=35;break;case 23:if(!t[i].toLowerCase().endsWith(".js")&&!t[i].startsWith("js:")){e.next=29;break}return t[i].startsWith("js:")&&(t[i]=t[i].slice(3)),e.next=27,n(t[i]);case 27:e.next=35;break;case 29:if(!t[i].startsWith("http")){e.next=34;break}return e.next=32,n(t[i]);case 32:e.next=35;break;case 34:t[i].startsWith("cache:")||console.log("Unprocessed requirements url: "+t[i]);case 35:i++,e.next=8;break;case 38:e.next=41;break;case 40:throw"unsupported requirements definition";case 41:e.next=46;break;case 43:throw e.prev=43,e.t0=e.catch(4),"failed to import required scripts: "+t.toString();case 46:case"end":return e.stop()}}),e,null,[[4,43]])}))),_loadRequirementsInWindow.apply(this,arguments)}function loadRequirementsInWebworker(e){return _loadRequirementsInWebworker.apply(this,arguments)}function _loadRequirementsInWebworker(){return(_loadRequirementsInWebworker=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!Array.isArray(t)&&"string"!==typeof t){e.next=18;break}e.prev=1,Array.isArray(t)||(t=[t]),r=0;case 4:if(!(r<t.length)){e.next=13;break}if(!t[r].toLowerCase().endsWith(".css")&&!t[r].startsWith("css:")){e.next=9;break}throw"unable to import css in a webworker";case 9:t[r].toLowerCase().endsWith(".js")||t[r].startsWith("js:")?(t[r].startsWith("js:")&&(t[r]=t[r].slice(3)),importScripts(t[r])):t[r].startsWith("http")?importScripts(t[r]):t[r].startsWith("cache:")||console.log("Unprocessed requirements url: "+t[r]);case 10:r++,e.next=4;break;case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(1),"failed to import required scripts: "+t.toString();case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function loadRequirements(e){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?loadRequirementsInWebworker(e):loadRequirementsInWindow(e)}function normalizeConfig(e){return e.version=e.version||"0.1.0",e.description=e.description||"[TODO: add description for ".concat(e.name," ]"),e.type=e.type||"rpc-window",e.id=e.id||randId(),e.target_origin=e.target_origin||"*",e.allow_execution=e.allow_execution||!1,e=Object.keys(e).reduce((function(t,r){return"function"!==typeof e[r]&&(t[r]=e[r]),t}),{})}for(var typedArrayToDtypeMapping={Int8Array:"int8",Int16Array:"int16",Int32Array:"int32",Uint8Array:"uint8",Uint16Array:"uint16",Uint32Array:"uint32",Float32Array:"float32",Float64Array:"float64",Array:"array"},typedArrayToDtypeKeys=[],_i9=0,_Object$keys6=Object.keys(typedArrayToDtypeMapping);_i9<_Object$keys6.length;_i9++){var arrType=_Object$keys6[_i9];typedArrayToDtypeKeys.push(eval(arrType))}function typedArrayToDtype(e){var t=typedArrayToDtypeMapping[e.constructor.name];if(!t){var r,n=Object.getPrototypeOf(e),a=_createForOfIteratorHelper(typedArrayToDtypeKeys);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(n instanceof o){t=typedArrayToDtypeMapping[o.name];break}}}catch(i){a.e(i)}finally{a.f()}}return t}function cacheUrlInServiceWorker(e){return new Promise((function(t,r){var n={command:"add",url:e};if(navigator.serviceWorker&&navigator.serviceWorker.register){var a=new MessageChannel;a.port1.onmessage=function(e){e.data&&e.data.error?r(e.data.error):t(e.data&&e.data.result)},navigator.serviceWorker&&navigator.serviceWorker.controller?navigator.serviceWorker.controller.postMessage(n,[a.port2]):r("Service worker controller is not available")}else r("Service worker is not supported.")}))}function cacheRequirements(e){return _cacheRequirements.apply(this,arguments)}function _cacheRequirements(){return(_cacheRequirements=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=t||[],Array.isArray(t)||(t=[t]),r=_createForOfIteratorHelper(t),e.prev=3,r.s();case 5:if((n=r.n()).done){e.next=16;break}if((a=n.value).startsWith("js:")&&(a=a.slice(3)),a.startsWith("css:")&&(a=a.slice(4)),a.startsWith("cache:")&&(a=a.slice(6)),a.startsWith("http")){e.next=12;break}return e.abrupt("continue",14);case 12:return e.next=14,cacheUrlInServiceWorker(a).catch((function(e){console.error(e)}));case 14:e.next=5;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,18,21,24]])})))).apply(this,arguments)}function setupServiceWorker(e,t,r){if("serviceWorker"in navigator){if(e=e||"/",navigator.serviceWorker.register(e+"plugin-service-worker.js").then((function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)}),(function(e){console.log("ServiceWorker registration failed: ",e)})),t=t||"*",(r=r||cacheRequirements)&&"function"!==typeof r)throw new Error("config.cache_requirements must be a function");window.addEventListener("message",(function(e){if("*"===t||e.origin===t){var n=e.data;"cacheRequirements"===n.type&&r(n.requirements)}}))}}function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}function urlJoin(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.join("/").replace(/[\/]+/g,"/").replace(/^(.+):\//,"$1://").replace(/^file:/,"file:/").replace(/\/(\?|&|#[^!])/g,"$1").replace(/\?/g,"&").replace("&","?")}function waitFor(e,t,r){var n;return Promise.race([e,new Promise((function(e,a){return n=setTimeout((function(){a(r||"Timeout Error")}),1e3*t)}))]).finally((function(){return clearTimeout(n)}))}var MessageEmitter=function(){function t(e){_classCallCheck(this,t),this._event_handlers={},this._once_handlers={},this._debug=e}return _createClass(t,[{key:"emit",value:function(){throw new Error("emit is not implemented")}},{key:"on",value:function(e,t){this._event_handlers[e]||(this._event_handlers[e]=[]),this._event_handlers[e].push(t)}},{key:"once",value:function(e,t){t.___event_run_once=!0,this.on(e,t)}},{key:"off",value:function(e,t){if(e||t){if(e&&!t)this._event_handlers[e]&&(this._event_handlers[e]=[]);else if(this._event_handlers[e]){var r=this._event_handlers[e].indexOf(t);r>=0&&this._event_handlers[e].splice(r,1)}}else this._event_handlers={}}},{key:"_fire",value:function(t,r){if(this._event_handlers[t])for(var n=this._event_handlers[t].length;n--;){var a=this._event_handlers[t][n];try{a(r)}catch(e){console.error(e)}finally{a.___event_run_once&&this._event_handlers[t].splice(n,1)}}else this._debug&&console.warn("unhandled event",t,r)}}]),t}()},"./src/hypha/webrtc-client.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getRTCService",(function(){return l})),r.d(t,"registerRTCService",(function(){return d}));var n=r("./src/hypha/rpc.js"),a=r("./src/hypha/utils.js"),o=function(){function e(t){var r=this;_classCallCheck(this,e),this._data_channel=t,this._handle_message=null,this._reconnection_token=null,this._data_channel.onmessage=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=t.data)instanceof Blob)){e.next=5;break}return e.next=4,n.arrayBuffer();case 4:n=e.sent;case 5:r._handle_message(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var n=this;this._data_channel.onclose=function(){console.log("websocket closed"),n._data_channel=null}}return _createClass(e,[{key:"set_reconnection_token",value:function(e){this._reconnection_token=e}},{key:"on_message",value:function(e){Object(a.assert)(e,"handler is required"),this._handle_message=e}},{key:"emit_message",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(a.assert)(this._handle_message,"No handler for message"),e.prev=1,this._data_channel.send(t),e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(1),console.error("Failed to send data, error: ".concat(e.t0)),e.t0;case 9:case"end":return e.stop()}}),e,this,[[1,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._data_channel=null,console.info("data channel connection disconnected (".concat(t,")"));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function i(e){return s.apply(this,arguments)}function s(){return(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,i,s,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(a.assert)(t.channel,"No channel provided"),Object(a.assert)(t.workspace,"No workspace provided"),r=t.channel,i=t.client_id||Object(a.randId)(),s=new o(r),t.context=t.context||{},t.context.connection_type="webrtc",c=new n.RPC(s,{client_id:i,manager_id:null,default_context:t.context,name:t.name,method_timeout:t.method_timeout||10,workspace:t.workspace}),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e,t,r,n,a){return u.apply(this,arguments)}function u(){return u=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n,a,o){var s,c,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=n||{},s=new RTCSessionDescription({sdp:t.sdp,type:t.type}),c=new RTCPeerConnection({iceServers:n.ice_servers||[{urls:["stun:stun.l.google.com:19302"]}],sdpSemantics:"unified-plan"}),r&&c.addEventListener("datachannel",function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.channel,a=null,o&&o.user&&(a={user:o.user}),e.next=5,i({channel:n,client_id:n.label,workspace:r.config.workspace,context:a});case 5:e.sent._services=r.rpc._services;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),!a){e.next=7;break}return e.next=7,a(c);case 7:return e.next=9,c.setRemoteDescription(s);case 9:return e.next=11,c.createAnswer();case 11:return u=e.sent,e.next=14,c.setLocalDescription(u);case 14:return e.abrupt("return",{sdp:c.localDescription.sdp,type:c.localDescription.type,workspace:r.config.workspace});case 15:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(e,t,r){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n){var o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=n||{}).peer_id=n.peer_id||Object(a.randId)(),o=new RTCPeerConnection({iceServers:n.ice_servers||[{urls:["stun:stun.l.google.com:19302"]}],sdpSemantics:"unified-plan"}),e.abrupt("return",new Promise(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(a,s){var c,u,l,f;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o.addEventListener("connectionstatechange",(function(){"failed"===o.connectionState&&(o.close(),s(new Error("Connection failed")))}),!1),!n.on_init){e.next=6;break}return e.next=5,n.on_init(o);case 5:delete n.on_init;case 6:return(c=o.createDataChannel(n.peer_id,{ordered:!0})).binaryType="arraybuffer",e.next=10,o.createOffer();case 10:return u=e.sent,e.next=13,o.setLocalDescription(u);case 13:return e.next=15,t.getService(r);case 15:return l=e.sent,e.next=18,l.offer({sdp:o.localDescription.sdp,type:o.localDescription.type});case 18:return f=e.sent,c.onopen=function(){n.channel=c,n.workspace=f.workspace,setTimeout(_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r,s,c,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(){return(u=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.disconnect();case 2:o.close();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(){return u.apply(this,arguments)},s=function(){return(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get_remote_service(n.peer_id+":"+r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(e){return s.apply(this,arguments)},e.next=6,i(n);case 6:t=e.sent,o.rpc=t,o.get_service=r,o.getService=r,o.disconnect=c,o.register_codec=t.register_codec,o.registerCodec=t.register_codec,a(o);case 14:case"end":return e.stop()}}),e)}))),500)},c.onclose=function(){return s(new Error("Data channel closed"))},e.next=23,o.setRemoteDescription(new RTCSessionDescription({sdp:f.sdp,type:f.type}));case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),s(e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t,r){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function d(e,t,r){return p.apply(this,arguments)}function p(){return(p=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n){var a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(n=n||{visibility:"protected",require_context:!0}).on_init,delete n.on_init,e.next=5,t.registerService({id:r,config:n,offer:function(e,r){return c(e,t,n,a,r)}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}})},module.exports=factory()},72751:function(module,__unused_webpack_exports,__webpack_require__){var _toConsumableArray=__webpack_require__(861).default,_createForOfIteratorHelper=__webpack_require__(74704).default,_slicedToArray=__webpack_require__(27424).default,_regeneratorRuntime=__webpack_require__(17061).default,_asyncToGenerator=__webpack_require__(17156).default,_assertThisInitialized=__webpack_require__(66115).default,_inherits=__webpack_require__(61655).default,_createSuper=__webpack_require__(26389).default,_classCallCheck=__webpack_require__(56690).default,_createClass=__webpack_require__(89728).default,factory;window,factory=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/hypha/websocket-client.js")}({"./node_modules/@msgpack/msgpack/dist.es5+esm/CachedKeyDecoder.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"CachedKeyDecoder",(function(){return a}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs"),a=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,r){e:for(var n=0,a=this.caches[r-1];n<a.length;n++){for(var o=a[n],i=o.bytes,s=0;s<r;s++)if(i[s]!==e[t+s])continue e;return o.str}return null},e.prototype.store=function(e,t){var r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)},e.prototype.decode=function(e,t,r){var a=this.find(e,t,r);if(null!=a)return this.hit++,a;this.miss++;var o=Object(n.utf8DecodeJs)(e,t,r),i=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(i,o),o},e}()},"./node_modules/@msgpack/msgpack/dist.es5+esm/DecodeError.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"DecodeError",(function(){return a}));var n=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=function(e){function t(r){var n=e.call(this,r)||this,a=Object.create(t.prototype);return Object.setPrototypeOf(n,a),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:t.name}),n}return n(t,e),t}(Error)},"./node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs":function(t,r,n){"use strict";n.r(r),n.d(r,"DataViewIndexOutOfBoundsError",(function(){return g})),n.d(r,"Decoder",(function(){return k}));var a=n("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/prettyByte.mjs"),o=n("./node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs"),i=n("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs"),s=n("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs"),c=n("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/typedArrays.mjs"),u=n("./node_modules/@msgpack/msgpack/dist.es5+esm/CachedKeyDecoder.mjs"),l=n("./node_modules/@msgpack/msgpack/dist.es5+esm/DecodeError.mjs"),f=function(t,r,n,a){return new(n||(n=Promise))((function(o,i){function s(t){try{u(a.next(t))}catch(e){i(e)}}function c(t){try{u(a.throw(t))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((a=a.apply(t,r||[])).next())}))},d=function(t,r){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=r.call(t,s)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},p=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"===typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,a){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,a,(t=e[r](t)).done,t.value)}))}}},h=function(e){return this instanceof h?(this.v=e,this):new h(e)},m=function(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,o=n.apply(t,r||[]),i=[];return a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a;function s(e){o[e]&&(a[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||c(e,t)}))})}function c(t,r){try{(n=o[t](r)).value instanceof h?Promise.resolve(n.value.v).then(u,l):f(i[0][2],n)}catch(e){f(i[0][3],e)}var n}function u(e){c("next",e)}function l(e){c("throw",e)}function f(e,t){e(t),i.shift(),i.length&&c(i[0][0],i[0][1])}},v=function(e){var t=typeof e;return"string"===t||"number"===t},_=new DataView(new ArrayBuffer(0)),y=new Uint8Array(_.buffer),g=function(){try{_.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),b=new g("Insufficient data"),w=new u.CachedKeyDecoder,k=function(){function t(e,t,r,n,a,s,c,u){void 0===e&&(e=o.ExtensionCodec.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=i.UINT32_MAX),void 0===n&&(n=i.UINT32_MAX),void 0===a&&(a=i.UINT32_MAX),void 0===s&&(s=i.UINT32_MAX),void 0===c&&(c=i.UINT32_MAX),void 0===u&&(u=w),this.extensionCodec=e,this.context=t,this.maxStrLength=r,this.maxBinLength=n,this.maxArrayLength=a,this.maxMapLength=s,this.maxExtLength=c,this.keyDecoder=u,this.totalPos=0,this.pos=0,this.view=_,this.bytes=y,this.headByte=-1,this.stack=[]}return t.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},t.prototype.setBuffer=function(e){this.bytes=Object(c.ensureUint8Array)(e),this.view=Object(c.createDataView)(this.bytes),this.pos=0},t.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),r=Object(c.ensureUint8Array)(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)},t.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},t.prototype.createExtraByteError=function(e){var t=this.view,r=this.pos;return new RangeError("Extra "+(t.byteLength-r)+" of "+t.byteLength+" byte(s) found at buffer["+e+"]")},t.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},t.prototype.decodeMulti=function(e){return d(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},t.prototype.decodeAsync=function(t){var r,n,o,i;return f(this,void 0,void 0,(function(){var s,c,u,l,f,h,m,v;return d(this,(function(d){switch(d.label){case 0:s=!1,d.label=1;case 1:d.trys.push([1,6,7,12]),r=p(t),d.label=2;case 2:return[4,r.next()];case 3:if((n=d.sent()).done)return[3,5];if(u=n.value,s)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u);try{c=this.doDecodeSync(),s=!0}catch(e){if(!(e instanceof g))throw e}this.totalPos+=this.pos,d.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return l=d.sent(),o={error:l},[3,12];case 7:return d.trys.push([7,,10,11]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,9];case 8:d.sent(),d.label=9;case 9:return[3,11];case 10:if(o)throw o.error;return[7];case 11:return[7];case 12:if(s){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,c]}throw h=(f=this).headByte,m=f.pos,v=f.totalPos,new RangeError("Insufficient data in parsing "+Object(a.prettyByte)(h)+" at "+v+" ("+m+" in the current buffer)")}}))}))},t.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},t.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},t.prototype.decodeMultiAsync=function(e,t){return m(this,arguments,(function(){var r,n,a,o,i,s,c,u,l;return d(this,(function(f){switch(f.label){case 0:r=t,n=-1,f.label=1;case 1:f.trys.push([1,13,14,19]),a=p(e),f.label=2;case 2:return[4,h(a.next())];case 3:if((o=f.sent()).done)return[3,12];if(i=o.value,t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(n=this.readArraySize(),r=!1,this.complete()),f.label=4;case 4:f.trys.push([4,9,,10]),f.label=5;case 5:return[4,h(this.doDecodeSync())];case 6:return[4,f.sent()];case 7:return f.sent(),0===--n?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((s=f.sent())instanceof g))throw s;return[3,10];case 10:this.totalPos+=this.pos,f.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=f.sent(),u={error:c},[3,19];case 14:return f.trys.push([14,,17,18]),o&&!o.done&&(l=a.return)?[4,h(l.call(a))]:[3,16];case 15:f.sent(),f.label=16;case 16:return[3,18];case 17:if(u)throw u.error;return[7];case 18:return[7];case 19:return[2]}}))}))},t.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!==(n=e-128)){this.pushMapState(n),this.complete();continue e}t={}}else if(e<160){if(0!==(n=e-144)){this.pushArrayState(n),this.complete();continue e}t=[]}else{var r=e-160;t=this.decodeUtf8String(r,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e)r=this.lookU8(),t=this.decodeUtf8String(r,1);else if(218===e)r=this.lookU16(),t=this.decodeUtf8String(r,2);else if(219===e)r=this.lookU32(),t=this.decodeUtf8String(r,4);else if(220===e){if(0!==(n=this.readU16())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(221===e){if(0!==(n=this.readU32())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(222===e){if(0!==(n=this.readU16())){this.pushMapState(n),this.complete();continue e}t={}}else if(223===e){if(0!==(n=this.readU32())){this.pushMapState(n),this.complete();continue e}t={}}else if(196===e){var n=this.lookU8();t=this.decodeBinary(n,1)}else if(197===e)n=this.lookU16(),t=this.decodeBinary(n,2);else if(198===e)n=this.lookU32(),t=this.decodeBinary(n,4);else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e)n=this.lookU8(),t=this.decodeExtension(n,1);else if(200===e)n=this.lookU16(),t=this.decodeExtension(n,2);else{if(201!==e)throw new l.DecodeError("Unrecognized type byte: "+Object(a.prettyByte)(e));n=this.lookU32(),t=this.decodeExtension(n,4)}this.complete();for(var o=this.stack;o.length>0;){var i=o[o.length-1];if(0===i.type){if(i.array[i.position]=t,i.position++,i.position!==i.size)continue e;o.pop(),t=i.array}else{if(1===i.type){if(!v(t))throw new l.DecodeError("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new l.DecodeError("The key __proto__ is not allowed");i.key=t,i.type=2;continue e}if(i.map[i.key]=t,i.readCount++,i.readCount!==i.size){i.key=null,i.type=1;continue e}o.pop(),t=i.map}}return t}},t.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},t.prototype.complete=function(){this.headByte=-1},t.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new l.DecodeError("Unrecognized array type byte: "+Object(a.prettyByte)(e))}},t.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new l.DecodeError("Max length exceeded: map length ("+e+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},t.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new l.DecodeError("Max length exceeded: array length ("+e+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:e,array:new Array(e),position:0})},t.prototype.decodeUtf8String=function(e,t){var r;if(e>this.maxStrLength)throw new l.DecodeError("Max length exceeded: UTF-8 byte length ("+e+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+t+e)throw b;var n,a=this.pos+t;return n=this.stateIsMapKey()&&(null===(r=this.keyDecoder)||void 0===r?void 0:r.canBeCached(e))?this.keyDecoder.decode(this.bytes,a,e):e>s.TEXT_DECODER_THRESHOLD?Object(s.utf8DecodeTD)(this.bytes,a,e):Object(s.utf8DecodeJs)(this.bytes,a,e),this.pos+=t+e,n},t.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},t.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new l.DecodeError("Max length exceeded: bin length ("+e+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(e+t))throw b;var r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n},t.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new l.DecodeError("Max length exceeded: ext length ("+e+") > maxExtLength ("+this.maxExtLength+")");var r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)},t.prototype.lookU8=function(){return this.view.getUint8(this.pos)},t.prototype.lookU16=function(){return this.view.getUint16(this.pos)},t.prototype.lookU32=function(){return this.view.getUint32(this.pos)},t.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},t.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},t.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},t.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},t.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},t.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},t.prototype.readU64=function(){var e=Object(i.getUint64)(this.view,this.pos);return this.pos+=8,e},t.prototype.readI64=function(){var e=Object(i.getInt64)(this.view,this.pos);return this.pos+=8,e},t.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},t.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},t}()},"./node_modules/@msgpack/msgpack/dist.es5+esm/Encoder.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"DEFAULT_MAX_DEPTH",(function(){return s})),r.d(t,"DEFAULT_INITIAL_BUFFER_SIZE",(function(){return c})),r.d(t,"Encoder",(function(){return u}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs"),a=r("./node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs"),o=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs"),i=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/typedArrays.mjs"),s=100,c=2048,u=function(){function e(e,t,r,n,o,i,u,l){void 0===e&&(e=a.ExtensionCodec.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=s),void 0===n&&(n=c),void 0===o&&(o=!1),void 0===i&&(i=!1),void 0===u&&(u=!1),void 0===l&&(l=!1),this.extensionCodec=e,this.context=t,this.maxDepth=r,this.initialBufferSize=n,this.sortKeys=o,this.forceFloat32=i,this.ignoreUndefined=u,this.forceIntegerToFloat=l,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.getUint8Array=function(){return this.bytes.subarray(0,this.pos)},e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.getUint8Array()},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth "+t);null==e?this.encodeNil():"boolean"===typeof e?this.encodeBoolean(e):"number"===typeof e?this.encodeNumber(e):"string"===typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: "+e+" bytes in UTF-8");this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>n.TEXT_ENCODER_THRESHOLD){var t=Object(n.utf8Count)(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),Object(n.utf8EncodeTE)(e,this.bytes,this.pos),this.pos+=t}else t=Object(n.utf8Count)(e),this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),Object(n.utf8EncodeJs)(e,this.bytes,this.pos),this.pos+=t},e.prototype.encodeObject=function(e,t){var r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!==typeof e)throw new Error("Unrecognized object: "+Object.prototype.toString.apply(e));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: "+t);this.writeU8(198),this.writeU32(t)}var r=Object(i.ensureUint8Array)(e);this.writeU8a(r)},e.prototype.encodeArray=function(e,t){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large array: "+r);this.writeU8(221),this.writeU32(r)}for(var n=0,a=e;n<a.length;n++){var o=a[n];this.doEncode(o,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var r=0,n=0,a=t;n<a.length;n++)void 0!==e[a[n]]&&r++;return r},e.prototype.encodeMap=function(e,t){var r=Object.keys(e);this.sortKeys&&r.sort();var n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large map object: "+n);this.writeU8(223),this.writeU32(n)}for(var a=0,o=r;a<o.length;a++){var i=o[a],s=e[i];this.ignoreUndefined&&void 0===s||(this.encodeString(i),this.doEncode(s,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: "+t);this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),Object(o.setUint64)(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),Object(o.setInt64)(this.view,this.pos,e),this.pos+=8},e}()},"./node_modules/@msgpack/msgpack/dist.es5+esm/ExtData.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"ExtData",(function(){return n}));var n=function(e,t){this.type=e,this.data=t}},"./node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"ExtensionCodec",(function(){return o}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/ExtData.mjs"),a=r("./node_modules/@msgpack/msgpack/dist.es5+esm/timestamp.mjs"),o=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(a.timestampExtension)}return e.prototype.register=function(e){var t=e.type,r=e.encode,n=e.decode;if(t>=0)this.encoders[t]=r,this.decoders[t]=n;else{var a=1+t;this.builtInEncoders[a]=r,this.builtInDecoders[a]=n}},e.prototype.tryToEncode=function(e,t){for(var r=0;r<this.builtInEncoders.length;r++)if(null!=(o=this.builtInEncoders[r])&&null!=(i=o(e,t))){var a=-1-r;return new n.ExtData(a,i)}for(r=0;r<this.encoders.length;r++){var o,i;if(null!=(o=this.encoders[r])&&null!=(i=o(e,t)))return a=r,new n.ExtData(a,i)}return e instanceof n.ExtData?e:null},e.prototype.decode=function(e,t,r){var a=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return a?a(e,t,r):new n.ExtData(t,e)},e.defaultCodec=new e,e}()},"./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"defaultDecodeOptions",(function(){return a})),r.d(t,"decode",(function(){return o})),r.d(t,"decodeMulti",(function(){return i}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs"),a={};function o(e,t){return void 0===t&&(t=a),new n.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decode(e)}function i(e,t){return void 0===t&&(t=a),new n.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeMulti(e)}},"./node_modules/@msgpack/msgpack/dist.es5+esm/decodeAsync.mjs":function(t,r,n){"use strict";n.r(r),n.d(r,"decodeAsync",(function(){return u})),n.d(r,"decodeArrayStream",(function(){return l})),n.d(r,"decodeMultiStream",(function(){return f})),n.d(r,"decodeStream",(function(){return d}));var a=n("./node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs"),o=n("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/stream.mjs"),i=n("./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs"),s=function(t,r,n,a){return new(n||(n=Promise))((function(o,i){function s(t){try{u(a.next(t))}catch(e){i(e)}}function c(t){try{u(a.throw(t))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((a=a.apply(t,r||[])).next())}))},c=function(t,r){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=r.call(t,s)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function u(e,t){return void 0===t&&(t=i.defaultDecodeOptions),s(this,void 0,void 0,(function(){var r;return c(this,(function(n){return r=Object(o.ensureAsyncIterable)(e),[2,new a.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeAsync(r)]}))}))}function l(e,t){void 0===t&&(t=i.defaultDecodeOptions);var r=Object(o.ensureAsyncIterable)(e);return new a.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeArrayStream(r)}function f(e,t){void 0===t&&(t=i.defaultDecodeOptions);var r=Object(o.ensureAsyncIterable)(e);return new a.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(r)}function d(e,t){return void 0===t&&(t=i.defaultDecodeOptions),f(e,t)}},"./node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"encode",(function(){return o}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/Encoder.mjs"),a={};function o(e,t){return void 0===t&&(t=a),new n.Encoder(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined,t.forceIntegerToFloat).encode(e)}},"./node_modules/@msgpack/msgpack/dist.es5+esm/index.mjs":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs");r.d(t,"encode",(function(){return n.encode}));var a=r("./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs");r.d(t,"decode",(function(){return a.decode})),r.d(t,"decodeMulti",(function(){return a.decodeMulti}));var o=r("./node_modules/@msgpack/msgpack/dist.es5+esm/decodeAsync.mjs");r.d(t,"decodeAsync",(function(){return o.decodeAsync})),r.d(t,"decodeArrayStream",(function(){return o.decodeArrayStream})),r.d(t,"decodeMultiStream",(function(){return o.decodeMultiStream})),r.d(t,"decodeStream",(function(){return o.decodeStream}));var i=r("./node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs");r.d(t,"Decoder",(function(){return i.Decoder})),r.d(t,"DataViewIndexOutOfBoundsError",(function(){return i.DataViewIndexOutOfBoundsError}));var s=r("./node_modules/@msgpack/msgpack/dist.es5+esm/DecodeError.mjs");r.d(t,"DecodeError",(function(){return s.DecodeError}));var c=r("./node_modules/@msgpack/msgpack/dist.es5+esm/Encoder.mjs");r.d(t,"Encoder",(function(){return c.Encoder}));var u=r("./node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs");r.d(t,"ExtensionCodec",(function(){return u.ExtensionCodec}));var l=r("./node_modules/@msgpack/msgpack/dist.es5+esm/ExtData.mjs");r.d(t,"ExtData",(function(){return l.ExtData}));var f=r("./node_modules/@msgpack/msgpack/dist.es5+esm/timestamp.mjs");r.d(t,"EXT_TIMESTAMP",(function(){return f.EXT_TIMESTAMP})),r.d(t,"encodeDateToTimeSpec",(function(){return f.encodeDateToTimeSpec})),r.d(t,"encodeTimeSpecToTimestamp",(function(){return f.encodeTimeSpecToTimestamp})),r.d(t,"decodeTimestampToTimeSpec",(function(){return f.decodeTimestampToTimeSpec})),r.d(t,"encodeTimestampExtension",(function(){return f.encodeTimestampExtension})),r.d(t,"decodeTimestampExtension",(function(){return f.decodeTimestampExtension}))},"./node_modules/@msgpack/msgpack/dist.es5+esm/timestamp.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"EXT_TIMESTAMP",(function(){return o})),r.d(t,"encodeTimeSpecToTimestamp",(function(){return c})),r.d(t,"encodeDateToTimeSpec",(function(){return u})),r.d(t,"encodeTimestampExtension",(function(){return l})),r.d(t,"decodeTimestampToTimeSpec",(function(){return f})),r.d(t,"decodeTimestampExtension",(function(){return d})),r.d(t,"timestampExtension",(function(){return p}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/DecodeError.mjs"),a=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs"),o=-1,i=4294967295,s=17179869183;function c(e){var t,r=e.sec,n=e.nsec;if(r>=0&&n>=0&&r<=s){if(0===n&&r<=i){var o=new Uint8Array(4);return(t=new DataView(o.buffer)).setUint32(0,r),o}var c=r/4294967296,u=4294967295&r;return o=new Uint8Array(8),(t=new DataView(o.buffer)).setUint32(0,n<<2|3&c),t.setUint32(4,u),o}return o=new Uint8Array(12),(t=new DataView(o.buffer)).setUint32(0,n),Object(a.setInt64)(t,4,r),o}function u(e){var t=e.getTime(),r=Math.floor(t/1e3),n=1e6*(t-1e3*r),a=Math.floor(n/1e9);return{sec:r+a,nsec:n-1e9*a}}function l(e){return e instanceof Date?c(u(e)):null}function f(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var r=t.getUint32(0);return{sec:4294967296*(3&r)+t.getUint32(4),nsec:r>>>2};case 12:return{sec:Object(a.getInt64)(t,4),nsec:t.getUint32(0)};default:throw new n.DecodeError("Unrecognized data size for timestamp (expected 4, 8, or 12): "+e.length)}}function d(e){var t=f(e);return new Date(1e3*t.sec+t.nsec/1e6)}var p={type:o,encode:l,decode:d}},"./node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"UINT32_MAX",(function(){return n})),r.d(t,"setUint64",(function(){return a})),r.d(t,"setInt64",(function(){return o})),r.d(t,"getInt64",(function(){return i})),r.d(t,"getUint64",(function(){return s}));var n=4294967295;function a(e,t,r){var n=r/4294967296,a=r;e.setUint32(t,n),e.setUint32(t+4,a)}function o(e,t,r){var n=Math.floor(r/4294967296),a=r;e.setUint32(t,n),e.setUint32(t+4,a)}function i(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}function s(e,t){return 4294967296*e.getUint32(t)+e.getUint32(t+4)}},"./node_modules/@msgpack/msgpack/dist.es5+esm/utils/prettyByte.mjs":function(e,t,r){"use strict";function n(e){return(e<0?"-":"")+"0x"+Math.abs(e).toString(16).padStart(2,"0")}r.r(t),r.d(t,"prettyByte",(function(){return n}))},"./node_modules/@msgpack/msgpack/dist.es5+esm/utils/stream.mjs":function(t,r,n){"use strict";n.r(r),n.d(r,"isAsyncIterable",(function(){return s})),n.d(r,"asyncIterableFromStream",(function(){return c})),n.d(r,"ensureAsyncIterable",(function(){return u}));var a=function(t,r){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=r.call(t,s)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},o=function(e){return this instanceof o?(this.v=e,this):new o(e)},i=function(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,i=n.apply(t,r||[]),s=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(e){i[e]&&(a[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||u(e,t)}))})}function u(t,r){try{(n=i[t](r)).value instanceof o?Promise.resolve(n.value.v).then(l,f):d(s[0][2],n)}catch(e){d(s[0][3],e)}var n}function l(e){u("next",e)}function f(e){u("throw",e)}function d(e,t){e(t),s.shift(),s.length&&u(s[0][0],s[0][1])}};function s(e){return null!=e[Symbol.asyncIterator]}function c(e){return i(this,arguments,(function(){var t,r,n,i;return a(this,(function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,o(t.read())];case 3:return r=a.sent(),n=r.done,i=r.value,n?[4,o(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return function(e){if(null==e)throw new Error("Assertion Failure: value must not be null nor undefined")}(i),[4,o(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function u(e){return s(e)?e:c(e)}},"./node_modules/@msgpack/msgpack/dist.es5+esm/utils/typedArrays.mjs":function(e,t,r){"use strict";function n(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}function a(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=n(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}r.r(t),r.d(t,"ensureUint8Array",(function(){return n})),r.d(t,"createDataView",(function(){return a}))},"./node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"utf8Count",(function(){return o})),r.d(t,"utf8EncodeJs",(function(){return i})),r.d(t,"TEXT_ENCODER_THRESHOLD",(function(){return c})),r.d(t,"utf8EncodeTE",(function(){return u})),r.d(t,"utf8DecodeJs",(function(){return f})),r.d(t,"TEXT_DECODER_THRESHOLD",(function(){return p})),r.d(t,"utf8DecodeTD",(function(){return h}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs"),a=("undefined"===typeof process||"never"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.TEXT_ENCODING)&&"undefined"!==typeof TextEncoder&&"undefined"!==typeof TextDecoder;function o(e){for(var t=e.length,r=0,n=0;n<t;){var a=e.charCodeAt(n++);if(0!==(4294967168&a))if(0===(4294965248&a))r+=2;else{if(a>=55296&&a<=56319&&n<t){var o=e.charCodeAt(n);56320===(64512&o)&&(++n,a=((1023&a)<<10)+(1023&o)+65536)}r+=0===(4294901760&a)?3:4}else r++}return r}function i(e,t,r){for(var n=e.length,a=r,o=0;o<n;){var i=e.charCodeAt(o++);if(0!==(4294967168&i)){if(0===(4294965248&i))t[a++]=i>>6&31|192;else{if(i>=55296&&i<=56319&&o<n){var s=e.charCodeAt(o);56320===(64512&s)&&(++o,i=((1023&i)<<10)+(1023&s)+65536)}0===(4294901760&i)?(t[a++]=i>>12&15|224,t[a++]=i>>6&63|128):(t[a++]=i>>18&7|240,t[a++]=i>>12&63|128,t[a++]=i>>6&63|128)}t[a++]=63&i|128}else t[a++]=i}}var s=a?new TextEncoder:void 0,c=a?"undefined"!==typeof process&&"force"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.TEXT_ENCODING?200:0:n.UINT32_MAX,u=(null===s||void 0===s?void 0:s.encodeInto)?function(e,t,r){s.encodeInto(e,t.subarray(r))}:function(e,t,r){t.set(s.encode(e),r)},l=4096;function f(e,t,r){for(var n=t,a=n+r,o=[],i="";n<a;){var s=e[n++];if(0===(128&s))o.push(s);else if(192===(224&s)){var c=63&e[n++];o.push((31&s)<<6|c)}else if(224===(240&s)){c=63&e[n++];var u=63&e[n++];o.push((31&s)<<12|c<<6|u)}else if(240===(248&s)){var f=(7&s)<<18|(c=63&e[n++])<<12|(u=63&e[n++])<<6|63&e[n++];f>65535&&(f-=65536,o.push(f>>>10&1023|55296),f=56320|1023&f),o.push(f)}else o.push(s);o.length>=l&&(i+=String.fromCharCode.apply(String,o),o.length=0)}return o.length>0&&(i+=String.fromCharCode.apply(String,o)),i}var d=a?new TextDecoder:null,p=a?"undefined"!==typeof process&&"force"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.TEXT_DECODER?200:0:n.UINT32_MAX;function h(e,t,r){var n=e.subarray(t,t+r);return d.decode(n)}},"./package.json":function(e){e.exports=JSON.parse('{"name":"imjoy-rpc","version":"0.5.44","description":"Remote procedure calls for ImJoy.","module":"index.js","types":"index.d.ts","scripts":{"build":"rm -rf dist && npm run build-umd","build-umd":"webpack --config webpack.config.js --mode development && NODE_ENV=production webpack --config webpack.config.js --mode production --devtool source-map ","watch":"NODE_ENV=production webpack --watch --progress --config webpack.config.js --mode production --devtool source-map","publish-npm":"npm install && npm run build && npm publish","serve":"webpack-dev-server","stats":"webpack --profile --json > stats.json","stats-prod":"webpack --profile --json --mode production > stats-prod.json","analyze":"webpack-bundle-analyzer -p 9999 stats.json","analyze-prod":"webpack-bundle-analyzer -p 9999 stats-prod.json","clean":"rimraf dist/*","deploy":"npm run build && node deploy-site.js","format":"prettier --write \\"{src,tests}/**/**\\"","check-format":"prettier --check \\"{src,tests}/**/**\\"","test":"karma start --single-run --browsers ChromeHeadless,FirefoxHeadless karma.conf.js","test-watch":"karma start --auto-watch --browsers ChromeDebugging karma.conf.js --debug"},"repository":{"type":"git","url":"git+https://github.com/imjoy-team/imjoy-rpc.git"},"keywords":["imjoy","rpc"],"author":"imjoy-team <imjoy.team@gmail.com>","license":"MIT","bugs":{"url":"https://github.com/imjoy-team/imjoy-rpc/issues"},"homepage":"https://github.com/imjoy-team/imjoy-rpc","dependencies":{"@msgpack/msgpack":"^2.7.1","socket.io-client":"^4.6.2"},"devDependencies":{"@babel/core":"^7.16.12","@babel/plugin-syntax-dynamic-import":"^7.8.3","@babel/polyfill":"^7.12.1","@babel/preset-env":"^7.16.11","@types/requirejs":"^2.1.34","babel-core":"^6.26.0","babel-eslint":"^10.1.0","babel-loader":"^8.2.3","babel-runtime":"^6.26.0","chai":"^4.3.6","clean-webpack-plugin":"^0.1.19","copy-webpack-plugin":"^5.1.2","eslint":"^6.8.0","eslint-config-prettier":"^4.2.0","eslint-loader":"^4.0.2","file-loader":"^0.11.2","fs-extra":"^0.30.0","gh-pages":"^2.0.1","html-loader":"^0.5.5","html-webpack-plugin":"^3.2.0","json-loader":"^0.5.4","karma":"^6.3.12","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^1.3.0","karma-mocha":"^2.0.1","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"0.0.32","karma-webpack":"^4.0.2","lerna":"^6.0.3","lodash.debounce":"^4.0.8","mocha":"^10.1.0","postcss":"^7.0.36","prettier":"^1.6.1","rimraf":"^2.6.2","schema-utils":"^0.4.3","style-loader":"^0.18.1","ts-loader":"^9.4.3","url-loader":"^0.5.9","webpack":"^4.46.0","webpack-bundle-analyzer":"^4.7.0","webpack-cli":"^3.3.12","webpack-dev-server":"^3.11.3","webpack-merge":"^4.1.1","workbox-webpack-plugin":"^4.3.1","worker-loader":"^2.0.0","write-file-webpack-plugin":"^4.5.1"},"eslintConfig":{"globals":{"document":true,"window":true}}}')},"./src/hypha/rpc.js":function(t,r,n){"use strict";n.r(r),n.d(r,"API_VERSION",(function(){return i})),n.d(r,"RPC",(function(){return p}));var a=n("./src/hypha/utils.js"),o=n("./node_modules/@msgpack/msgpack/dist.es5+esm/index.mjs"),i="0.3.0",s=512e3,c=Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array)).constructor;function u(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer}function l(e,t){if(!t)throw new Error("undefined index");return"string"===typeof t?l(e,t.split(".")):0===t.length?e:l(e[t[0]],t.slice(1))}function f(e){var t=e.toString(),r=t.match(/function\s*(\w*)/),n=r&&r[1]||"",a=t.match(/\(([^)]*)\)/),o="";a&&(o=a[1].split(",").map((function(e){return e.replace(/\/\*.*?\*\//g,"").replace(/\/\/.*$/g,"")})).filter((function(e){return e.trim().length>0})).map((function(e){return e.trim()})).join(", "));var i=t.match(/\)\s*\{\s*\/\*([\s\S]*?)\*\//),s=i&&i[1].trim()||"",c=(i=t.match(/\)\s*\{\s*(\/\/[\s\S]*?)\n\s*[^\s\/]/))&&i[1].split("\n").map((function(e){return e.replace(/^\/\/\s*/,"").trim()})).join("\n")||"",u=s||c;return n&&o.length>0&&{name:n,sig:o,doc:u}}var d=function(){function e(t,r,n,a){_classCallCheck(this,e),this._timeout=t,this._callback=r,this._args=n,this._label=a||"timer",this._task=null,this.started=!1}return _createClass(e,[{key:"start",value:function(){var e=this;this.started?this.reset():(this._task=setTimeout((function(){e._callback.apply(e,e._args)}),1e3*this._timeout),this.started=!0)}},{key:"clear",value:function(){this._task?(clearTimeout(this._task),this._task=null,this.started=!1):console.warn("Clearing a timer (".concat(this._label,") which is not started"))}},{key:"reset",value:function(){var e=this;this._task&&clearTimeout(this._task),this._task=setTimeout((function(){e._callback.apply(e,e._args)}),1e3*this._timeout),this.started=!0}}]),e}(),p=function(t){_inherits(n,t);var r=_createSuper(n);function n(e,t){var o,i=t.client_id,s=void 0===i?null:i,c=t.manager_id,u=void 0===c?null:c,l=t.default_context,f=void 0===l?null:l,d=t.name,p=void 0===d?null:d,h=t.codecs,m=void 0===h?null:h,v=t.method_timeout,_=void 0===v?null:v,y=t.max_message_buffer_size,g=void 0===y?0:y,b=t.debug,w=void 0!==b&&b,k=t.workspace,x=void 0===k?null:k;return _classCallCheck(this,n),(o=r.call(this,w))._codecs=m||{},Object(a.assert)(s&&"string"===typeof s),Object(a.assert)(s,"client_id is required"),o._client_id=s,o._name=p,o._connection_info=null,o._workspace=null,o._local_workspace=x,o.manager_id=u,o.default_context=f||{},o._method_annotations=new WeakMap,o._manager_service=null,o._max_message_buffer_size=g,o._chunk_store={},o._method_timeout=_||30,o._services={},o._object_store={services:o._services},e?(o.add_service({id:"built-in",type:"built-in",name:"RPC built-in services",config:{require_context:!0,visibility:"public"},ping:o._ping.bind(_assertThisInitialized(o)),get_service:o.get_local_service.bind(_assertThisInitialized(o)),register_service:o.register_service.bind(_assertThisInitialized(o)),message_cache:{create:o._create_message.bind(_assertThisInitialized(o)),append:o._append_message.bind(_assertThisInitialized(o)),process:o._process_message.bind(_assertThisInitialized(o)),remove:o._remove_message.bind(_assertThisInitialized(o))}}),o.on("method",o._handle_method.bind(_assertThisInitialized(o))),Object(a.assert)(e.emit_message&&e.on_message),o._emit_message=e.emit_message.bind(e),e.on_message(o._on_message.bind(_assertThisInitialized(o))),o._connection=e,o._get_connection_info()):o._emit_message=function(){console.log("No connection to emit message")},o}return _createClass(n,[{key:"_get_connection_info",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.manager_id){e.next=14;break}return e.prev=1,e.next=4,this.get_manager_service(30);case 4:return Object(a.assert)(this._manager_service),e.next=7,this._manager_service.get_connection_info();case 7:this._connection_info=e.sent,this._connection_info.reconnection_token&&this._connection.set_reconnection_token&&(this._connection.set_reconnection_token(this._connection_info.reconnection_token),t=.8*this._connection_info.reconnection_expires_in,this._get_connection_info_task=setTimeout(this._get_connection_info.bind(this),1e3*t)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.warn("Failed to fetch user info from ",this.manager_id,e.t0);case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"register_codec",value:function(e){if(!e.name||!e.encoder&&!e.decoder)throw new Error("Invalid codec format, please make sure you provide a name, type, encoder and decoder.");if(e.type)for(var t=0,r=Object.keys(this._codecs);t<r.length;t++){var n=r[t];this._codecs[n].type!==e.type&&n!==e.name||(delete this._codecs[n],console.warn("Remove duplicated codec: "+n))}this._codecs[e.name]=e}},{key:"_ping",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(a.assert)("ping"==t),e.abrupt("return","pong");case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"ping",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._generate_remote_method({_rtarget:t,_rmethod:"services.built-in.ping",_rpromise:!0,_rdoc:"Ping a remote client",_rsig:"ping(msg)"}),e.t0=Object(a.assert),e.next=4,n("ping",r);case 4:e.t1=e.sent,e.t2="pong"==e.t1,(0,e.t0)(e.t2);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_create_message",value:function(e,t,r,n){if(t){if(!this._object_store[e])throw new Error("session does not exist anymore: ".concat(e));this._object_store[e].timer.reset()}if(this._object_store.message_cache||(this._object_store.message_cache={}),!r&&this._object_store.message_cache[e])throw new Error("Message with the same key (".concat(e,") already exists in the cache store, please use overwrite=true or remove it first."));this._object_store.message_cache[e]=[]}},{key:"_append_message",value:function(e,t,r,n){if(r){if(!this._object_store[e])throw new Error("session does not exist anymore: ".concat(e));this._object_store[e].timer.reset()}var o=this._object_store.message_cache;if(!o[e])throw new Error("Message with key ".concat(e," does not exists."));Object(a.assert)(t instanceof c),o[e].push(t)}},{key:"_remove_message",value:function(e,t){var r=this._object_store.message_cache;if(!r[e])throw new Error("Message with key ".concat(e," does not exists."));delete r[e]}},{key:"_process_message",value:function(e,t,r){if(t){if(!this._object_store[e])throw new Error("session does not exist anymore: ".concat(e));this._object_store[e].timer.reset()}var n=this._object_store.message_cache;if(Object(a.assert)(!!r,"Context is required"),!n[e])throw new Error("Message with key ".concat(e," does not exists."));n[e]=function(e){var t=e.map((function(e){return e.byteLength})),r=t.reduce((function(e,t){return e+t}),0),n=new Uint8Array(r);return t.reduce((function(t,r,a){return n.set(new Uint8Array(e[a]),t),t+r}),0),n.buffer}(n[e]),console.debug("Processing message ".concat(e," (size=").concat(n[e].length,")"));var i=Object(o.decodeMulti)(n[e]),s=i.next(),c=s.done,u=s.value;if(Object.assign(u,{from:r.from,to:r.to,user:r.user}),u.ctx=JSON.parse(JSON.stringify(u)),Object.assign(u.ctx,this.default_context),!c){var l=i.next();Object.assign(u,l.value)}this._fire(u.type,u),delete n[e]}},{key:"_on_message",value:function(t){try{Object(a.assert)(t instanceof ArrayBuffer);var r=Object(o.decodeMulti)(t),n=r.next(),i=n.done,s=n.value;if(s.ctx=JSON.parse(JSON.stringify(s)),Object.assign(s.ctx,this.default_context),!i){var c=r.next();Object.assign(s,c.value)}this._fire(s.type,s)}catch(u){console.error(e)}}},{key:"reset",value:function(){this._event_handlers={},this._services={}}},{key:"disconnect",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._get_connection_info_task&&(clearTimeout(this._get_connection_info_task),this._get_connection_info_task=null),this._fire("disconnect");case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get_manager_service",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.manager_id||this._manager_service){e.next=4;break}return e.next=3,this.get_remote_service("".concat(this.manager_id,":default"),t);case 3:this._manager_service=e.sent;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get_all_local_services",value:function(){return this._services}},{key:"get_local_service",value:function(e,t){Object(a.assert)(e);var r=t.to.split("/"),n=_slicedToArray(r,2),o=n[0],i=n[1];Object(a.assert)(i===this._client_id,"Services can only be accessed locally");var s=this._services[e];if(!s)throw new Error("Service not found: "+e);if("public"==s.config.visibility)return s;if(t.from.startsWith(o+"/"))return s;throw new Error("Permission denied for service: "+e)}},{key:"get_remote_service",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n,o,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===r?this._method_timeout:r,!t&&this.manager_id?t=this.manager_id:t.includes(":")||(t=this._client_id+":"+t),n=t.split(":")[0],Object(a.assert)(n),e.prev=4,o=this._generate_remote_method({_rtarget:n,_rmethod:"services.built-in.get_service",_rpromise:!0,_rdoc:"Get a remote service",_rsig:"get_service(service_id)"}),e.next=8,Object(a.waitFor)(o(t.split(":")[1]),r,"Timeout Error: Failed to get remote service: "+t);case 8:return(i=e.sent).id=t,e.abrupt("return",i);case 13:throw e.prev=13,e.t0=e.catch(4),console.error("Failed to get remote service: "+t,e.t0),e.t0;case 17:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_annotate_service_methods",value:function(e,t,r,n,a){if("function"===typeof e){var o=t.split(".")[1];this._method_annotations.set(e,{require_context:Array.isArray(r)?r.includes(o):!!r,run_in_executor:n,method_id:"services."+t,visibility:a})}else if(e instanceof Array||e instanceof Object)for(var i=0,s=Object.keys(e);i<s.length;i++){var c=s[i],u=e[c];if("function"===typeof u&&u.__rpc_object__){var f=u.__rpc_object__._rtarget;if(f.includes("/")&&(f=f.split("/")[1]),this._client_id!==f)throw new Error("Local method not found: ".concat(u.__rpc_object__._rmethod,", client id mismatch ").concat(this._client_id," != ").concat(f));e instanceof Array&&(e=e.slice()),e[c]=l(this._object_store,u.__rpc_object__._rmethod),u=e[c]}this._annotate_service_methods(u,t+"."+c,r,n,a)}}},{key:"add_service",value:function(e,t){if(!e||Array.isArray(e))throw new Error("Invalid service object");if(e.constructor===Object)e=Object.assign({},e);else{var r,n={},o=Object.getOwnPropertyNames(e).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(e))),i=_createForOfIteratorHelper(o);try{for(i.s();!(r=i.n()).done;){var s=r.value;"constructor"!==s&&("function"===typeof e[s]?n[s]=e[s].bind(e):n[s]=e[s])}}catch(f){i.e(f)}finally{i.f()}e.id=e.id||"default",e=n}Object(a.assert)(e.id&&"string"===typeof e.id,"Service id not found: ".concat(e)),e.name||(e.name=e.id),e.config||(e.config={}),e.type||(e.type="generic");var c=!1,u=!1;e.config.require_context&&(c=e.config.require_context),e.config.run_in_executor&&(u=!0);var l=e.config.visibility||"protected";if(Object(a.assert)(["protected","public"].includes(l)),this._annotate_service_methods(e,e.id,c,u,l),this._services[e.id]){if(!t)throw new Error("Service already exists: ".concat(e.id,", please specify a different id (not ").concat(e.id,") or overwrite=true"));delete this._services[e.id]}return this._services[e.id]=e,e}},{key:"register_service",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n,o){var i,s,c,u,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!0),o&&(i=o.to.split("/"),s=_slicedToArray(i,2),c=s[0],u=s[1],Object(a.assert)(u===this._client_id),Object(a.assert)(c===o.from.split("/")[0],"Services can only be registered from the same workspace")),l=this.add_service(t,r),!n){e.next=7;break}return this._fire("service-updated",{service_id:l.id,api:l,type:"add"}),e.next=7,this._notify_service_update();case 7:return e.abrupt("return",{id:"".concat(this._client_id,":").concat(l.id),type:l.type,name:l.name,description:l.description||"",config:l.config});case 8:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"unregister_service",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Object&&(t=t.id),this._services[t]){e.next=3;break}throw new Error("Service not found: ".concat(t));case 3:return n=this._services[t],delete this._services[t],this._fire("service-updated",{service_id:t,api:n,type:"remove"}),e.next=8,this._notify_service_update();case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_ndarray",value:function(e,t,r){var n=Object(a.typedArrayToDtype)(e);if(r&&r!==n)throw"dtype doesn't match the type of the array: "+n+" != "+r;return t=t||[e.length],{_rtype:"ndarray",_rvalue:e.buffer,_rshape:t,_rdtype:n}}},{key:"_encode_callback",value:function(e,t,r,n,a,o){var i="".concat(r,".").concat(e),s={_rtype:"method",_rtarget:o?"".concat(o,"/").concat(this._client_id):this._client_id,_rmethod:i,_rpromise:!1},c=this;return[s,function(){try{t.apply(null,Array.prototype.slice.call(arguments))}catch(e){console.error("Error in callback:",i,e)}finally{n&&c._object_store[r]&&delete c._object_store[r],a&&a.started&&a.clear()}}]}},{key:"_encode_promise",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n,o,i,s){var c,u,l,f,d,p;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=this._get_session_store(n,!0),Object(a.assert)(c,"Failed to create session store ".concat(n," due to invalid parent")),u={},!(i&&r&&this._method_timeout)){e.next=11;break}return e.next=6,this._encode(i.reset.bind(i),n,s);case 6:u.heartbeat=e.sent,u.interval=this._method_timeout/2,c.timer=i,e.next=12;break;case 11:i=null;case 12:return l=this._encode_callback("resolve",t,n,o,i,s),f=_slicedToArray(l,2),u.resolve=f[0],c.resolve=f[1],d=this._encode_callback("reject",r,n,o,i,s),p=_slicedToArray(d,2),u.reject=p[0],c.reject=p[1],e.abrupt("return",u);case 21:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,o,i){return e.apply(this,arguments)}}()},{key:"_send_chunks",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n){var o,i,c,u,l,f,d;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get_remote_service("".concat(r,":built-in"));case 2:return o=e.sent,Object(a.assert)(o.message_cache,"Remote client does not support message caching for long message."),i=o.message_cache,c=n||Object(a.randId)(),e.next=8,i.create(c,!!n);case 8:u=t.length,l=Math.ceil(u/s),f=0;case 11:if(!(f<l)){e.next=18;break}return d=f*s,e.next=15,i.append(c,t.slice(d,d+s),!!n);case 15:f++,e.next=11;break;case 18:return e.next=20,i.process(c,!!n);case 20:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_generate_remote_method",value:function(e,t,r,n,i){var s=e._rtarget;n&&!s.includes("/")&&(s=n+"/"+s,e._rtarget=s);var c=e._rmethod,u=e._rpromise,l=this;function f(){var e=arguments;return new Promise(function(){var n=_asyncToGenerator(_regeneratorRuntime().mark((function n(f,p){var h,m,v,_,y,g,b,w,k,x,j;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(h=Object(a.randId)(),r&&(h=r+"."+h),m=l._get_session_store(h,!0)){n.next=6;break}return p(new Error("Runtime Error: Failed to get session store ".concat(h))),n.abrupt("return");case 6:return m.target_id=s,n.next=9,l._encode(Array.prototype.slice.call(e),h,i);case 9:if(v=n.sent,_=v.length,(y=_>0&&"object"===typeof v[_-1]&&null!==v[_-1]&&v[_-1]._rkwargs)&&delete v[_-1]._rkwargs,g={type:"method",from:l._local_workspace?l._local_workspace+"/"+l._client_id:l._client_id,to:s,method:c},b={},v&&(b.args=v),y&&(b.with_kwargs=y),t&&(g.parent=t),w=null,!u){n.next=26;break}return g.session=h,k="".concat(s,":").concat(c),w=new d(l._method_timeout,p,["Method call time out: ".concat(k)],k),n.next=25,l._encode_promise(f,p,h,!0,w,i);case 25:b.promise=n.sent;case 26:x=Object(o.encode)(g),b&&(j=Object(o.encode)(b),x=new Uint8Array([].concat(_toConsumableArray(x),_toConsumableArray(j)))),x.length<=513024?l._emit_message(x).then((function(){w&&w.start()})):l._send_chunks(x,s,t).then((function(){w&&w.start()}));case 30:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}f.__rpc_object__=e;var p=c.split(".");return f.__name__=p[p.length-1],f.__doc__=e._rdoc,f.__sig__=e._rsig,f}},{key:"_notify_service_update",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.manager_id){e.next=12;break}return e.prev=1,e.next=4,this.get_manager_service(30);case 4:return Object(a.assert)(this._manager_service),e.next=7,this._manager_service.update_client_info(this.get_client_info());case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.warn("Failed to notify service update to",this.manager_id,e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"get_client_info",value:function(){for(var e=[],t=0,r=Object.values(this._services);t<r.length;t++){var n=r[t];e.push({id:"".concat(this._client_id,":").concat(n.id),type:n.type,name:n.name,description:n.description||"",config:n.config})}return{id:this._client_id,services:e}}},{key:"_handle_method",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,o,i,s,c,u,f,d,p,h,m,v,_;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,n=null,e.prev=2,Object(a.assert)(t.method&&t.ctx&&t.from),o=t.from+":"+t.method,i=t.from.split("/")[0],t.to=t.to.includes("/")?t.to:i+"/"+t.to,t.ctx.to=t.to,s=t.to.split("/")[0],c=t.parent,!t.promise){e.next=17;break}return e.next=13,this._decode(t.promise,t.session,c,i,s);case 13:d=e.sent,u=d.resolve,f=d.reject,d.heartbeat&&d.interval&&(p=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.heartbeat();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),n=setInterval(p,1e3*d.interval));case 17:e.prev=17,h=l(this._object_store,t.method),e.next=25;break;case 21:throw e.prev=21,e.t0=e.catch(17),console.debug("Failed to find method",o,e.t0),new Error("Method not found: ".concat(o));case 25:if(Object(a.assert)(h&&"function"===typeof h,"Invalid method: "+o),!this._method_annotations.has(h)){e.next=32;break}if("protected"!==this._method_annotations.get(h).visibility){e.next=30;break}if(s===i){e.next=30;break}throw new Error("Permission denied for protected method "+o+", workspace mismatch: "+s+" != "+i);case 30:e.next=36;break;case 32:if(m=this._object_store[t.method.split(".")[0]].target_id,s===i&&m&&-1===m.indexOf("/")&&(m=s+"/"+m),m===t.from){e.next=36;break}throw new Error("Access denied for method call ("+o+") from "+t.from);case 36:if(c&&Object(a.assert)(null!==this._get_session_store(c,!0),"Parent session was closed: "+c),!t.args){e.next=43;break}return e.next=40,this._decode(t.args,t.session,null,i,null);case 40:v=e.sent,e.next=44;break;case 43:v=[];case 44:this._method_annotations.has(h)&&this._method_annotations.get(h).require_context&&v.push(t.ctx),t.promise?(_=h.apply(null,v))instanceof Promise?_.then((function(e){u(e),clearInterval(n)})).catch((function(e){f(e),clearInterval(n)})):(u(_),clearInterval(n)):(h.apply(null,v),clearInterval(n)),e.next=52;break;case 48:e.prev=48,e.t1=e.catch(2),r?(r(e.t1),console.debug("Error during calling method: ",e.t1)):console.error("Error during calling method: ",e.t1),clearInterval(n);case 52:case"end":return e.stop()}}),e,this,[[2,48],[17,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"encode",value:function(e,t){return this._encode(e,t)}},{key:"_get_session_store",value:function(e,t){var r=this._object_store,n=e.split(".");if(t){var a,o=n.length-1,i=_createForOfIteratorHelper(n.slice(0,o));try{for(i.s();!(a=i.n()).done;){var s=a.value;if(!r[s])return null;r=r[s]}}catch(f){i.e(f)}finally{i.f()}return r[n[o]]||(r[n[o]]={}),r[n[o]]}var c,u=_createForOfIteratorHelper(n);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(!r[l])return null;r=r[l]}}catch(f){u.e(f)}finally{u.f()}return r}},{key:"_encode",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(r,n,o){var i,s,u,l,d,p,h,m,v,_,y,g,b,w,k,x,j,E,S,O,P,A,T,C;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("number"===(i=typeof r)||"string"===i||"boolean"===i||null===r||void 0===r||r instanceof Uint8Array)){t.next=3;break}return t.abrupt("return",r);case 3:if(!(r instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",{_rtype:"memoryview",_rvalue:new Uint8Array(r)});case 5:if(!r.__rpc_object__){t.next=7;break}return t.abrupt("return",r.__rpc_object__);case 7:if(!(r.constructor instanceof Object&&r._rtype)){t.next=15;break}return u=r._rtype,delete r._rtype,t.next=12,this._encode(r,n,o);case 12:return(s=t.sent)._rtype=u,t.abrupt("return",s);case 15:if("function"!==typeof r){t.next=21;break}if(this._method_annotations.has(r)?(l=this._method_annotations.get(r),s={_rtype:"method",_rtarget:this._client_id,_rmethod:l.method_id,_rpromise:!0}):(Object(a.assert)("string"===typeof n),d=r.__name__?"".concat(Object(a.randId)(),"-").concat(r.__name__):Object(a.randId)(),s={_rtype:"method",_rtarget:this._client_id,_rmethod:"".concat(n,".").concat(d),_rpromise:!0},p=this._get_session_store(n,!0),Object(a.assert)(null!==p,"Failed to create session store ".concat(n," due to invalid parent")),p[d]=r),s._rdoc=r.__doc__,s._rsig=r.__sig__,!s._rdoc||!s._rsig)try{(h=f(r))&&!s._rdoc&&(s._rdoc="".concat(h.doc)),h&&!s._rsig&&(s._rsig="".concat(h.name,"(").concat(h.sig,")"))}catch(e){console.error("Failed to extract function docstring:",r)}return t.abrupt("return",s);case 21:m=Array.isArray(r),v=0,_=Object.keys(this._codecs);case 23:if(!(v<_.length)){t.next=43;break}if(y=_[v],!((g=this._codecs[y]).encoder&&r instanceof g.type)){t.next=40;break}return t.next=29,Promise.resolve(g.encoder(r));case 29:if((b=t.sent)&&!b._rtype&&(b._rtype=g.name),"object"!==typeof b){t.next=38;break}return w=b._rtype,delete b._rtype,t.next=36,this._encode(b,n,o);case 36:(b=t.sent)._rtype=w;case 38:return s=b,t.abrupt("return",s);case 40:v++,t.next=23;break;case 43:if(!("undefined"!==typeof tf&&tf.Tensor&&r instanceof tf.Tensor)){t.next=48;break}k=r.dataSync(),s={_rtype:"ndarray",_rvalue:new Uint8Array(k.buffer),_rshape:r.shape,_rdtype:r.dtype},t.next=117;break;case 48:if(!("undefined"!==typeof nj&&nj.NdArray&&r instanceof nj.NdArray)){t.next=53;break}x=Object(a.typedArrayToDtype)(r.selection.data),s={_rtype:"ndarray",_rvalue:new Uint8Array(r.selection.data.buffer),_rshape:r.shape,_rdtype:x},t.next=117;break;case 53:if(!(r instanceof Error)){t.next=58;break}console.error(r),s={_rtype:"error",_rvalue:r.toString()},t.next=117;break;case 58:if(!(r!==Object(r)||r instanceof Boolean||r instanceof String||r instanceof Date||r instanceof RegExp||r instanceof ImageData||"undefined"!==typeof FileList&&r instanceof FileList||"undefined"!==typeof FileSystemDirectoryHandle&&r instanceof FileSystemDirectoryHandle||"undefined"!==typeof FileSystemFileHandle&&r instanceof FileSystemFileHandle||"undefined"!==typeof FileSystemHandle&&r instanceof FileSystemHandle||"undefined"!==typeof FileSystemWritableFileStream&&r instanceof FileSystemWritableFileStream)){t.next=62;break}s=r,t.next=117;break;case 62:if(!(r instanceof Blob)){t.next=79;break}return j=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?r.slice(S,S+t):r.slice(S),e.t0=Uint8Array,e.next=4,n.arrayBuffer();case 4:return e.t1=e.sent,a=new e.t0(e.t1),S+=a.byteLength,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e){S=e},S=0,t.t0=r.type,t.t1=r.name,t.t2=r.size,t.t3=r._path||r.webkitRelativePath,t.next=72,this._encode(j,n,o);case 72:return t.t4=t.sent,t.next=75,this._encode(E,n,o);case 75:t.t5=t.sent,s={_rtype:"iostream",_rnative:"js:blob",type:t.t0,name:t.t1,size:t.t2,path:t.t3,read:t.t4,seek:t.t5},t.next=117;break;case 79:if(!(r instanceof c)){t.next=84;break}O=Object(a.typedArrayToDtype)(r),s={_rtype:"typedarray",_rvalue:new Uint8Array(r.buffer),_rdtype:O},t.next=117;break;case 84:if(!(r instanceof DataView)){t.next=88;break}s={_rtype:"memoryview",_rvalue:new Uint8Array(r.buffer)},t.next=117;break;case 88:if(!(r instanceof Set)){t.next=95;break}return t.next=91,this._encode(Array.from(r),n,o);case 91:t.t6=t.sent,s={_rtype:"set",_rvalue:t.t6},t.next=117;break;case 95:if(!(r instanceof Map)){t.next=102;break}return t.next=98,this._encode(Array.from(r),n,o);case 98:t.t7=t.sent,s={_rtype:"orderedmap",_rvalue:t.t7},t.next=117;break;case 102:if(!(r.constructor instanceof Object||Array.isArray(r))){t.next=116;break}s=m?[]:{},P=Object.keys(r),A=0,T=P;case 106:if(!(A<T.length)){t.next=114;break}return C=T[A],t.next=110,this._encode(r[C],n,o);case 110:s[C]=t.sent;case 111:A++,t.next=106;break;case 114:t.next=117;break;case 116:throw"imjoy-rpc: Unsupported data type: ".concat(r,", you can register a custom codec to encode/decode the object.");case 117:if(s){t.next=119;break}throw new Error("Failed to encode object");case 119:return t.abrupt("return",s);case 120:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"decode",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._decode(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_decode",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n,o,i){var s,c,l,f,d,p,h,m,v,_,y,g,b,w,k,x;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",t);case 2:if(!t._rtype){e.next=88;break}if(!this._codecs[t._rtype]||!this._codecs[t._rtype].decoder){e.next=15;break}return c=t._rtype,delete t._rtype,e.next=8,this._decode(t,r,n,o,i);case 8:return(t=e.sent)._rtype=c,e.next=12,Promise.resolve(this._codecs[t._rtype].decoder(t));case 12:s=e.sent,e.next=86;break;case 15:if("method"!==t._rtype){e.next=19;break}s=this._generate_remote_method(t,r,n,o,i),e.next=86;break;case 19:if("ndarray"!==t._rtype){e.next=23;break}"undefined"!==typeof nj&&nj.array?(Array.isArray(t._rvalue)&&(t._rvalue=t._rvalue.reduce(u)),s=nj.array(new Uint8(t._rvalue),t._rdtype).reshape(t._rshape)):"undefined"!==typeof tf&&tf.Tensor?(Array.isArray(t._rvalue)&&(t._rvalue=t._rvalue.reduce(u)),l=a.dtypeToTypedArray[t._rdtype],s=tf.tensor(new l(t._rvalue),t._rshape,t._rdtype)):s=t,e.next=86;break;case 23:if("error"!==t._rtype){e.next=27;break}s=new Error(t._rvalue),e.next=86;break;case 27:if("typedarray"!==t._rtype){e.next=35;break}if(f=a.dtypeToTypedArray[t._rdtype]){e.next=31;break}throw new Error("unsupported dtype: "+t._rdtype);case 31:d=t._rvalue.buffer.slice(t._rvalue.byteOffset,t._rvalue.byteOffset+t._rvalue.byteLength),s=new f(d),e.next=86;break;case 35:if("memoryview"!==t._rtype){e.next=39;break}s=t._rvalue.buffer.slice(t._rvalue.byteOffset,t._rvalue.byteOffset+t._rvalue.byteLength),e.next=86;break;case 39:if("iostream"!==t._rtype){e.next=64;break}if("js:blob"!==t._rnative){e.next=50;break}return e.next=43,this._generate_remote_method(t.read,r,n,o,i);case 43:return p=e.sent,e.next=46,p();case 46:h=e.sent,s=new Blob([h],{type:t.type,name:t.name}),e.next=61;break;case 50:s={},m=0,v=Object.keys(t);case 52:if(!(m<v.length)){e.next=61;break}if((_=v[m]).startsWith("_")){e.next=58;break}return e.next=57,this._decode(t[_],r,n,o,i);case 57:s[_]=e.sent;case 58:m++,e.next=52;break;case 61:s.__rpc_object__=t,e.next=86;break;case 64:if("orderedmap"!==t._rtype){e.next=72;break}return e.t0=Map,e.next=68,this._decode(t._rvalue,r,n,o,i);case 68:e.t1=e.sent,s=new e.t0(e.t1),e.next=86;break;case 72:if("set"!==t._rtype){e.next=80;break}return e.t2=Set,e.next=76,this._decode(t._rvalue,r,n,o,i);case 76:e.t3=e.sent,s=new e.t2(e.t3),e.next=86;break;case 80:return y=t._rtype,delete t._rtype,e.next=84,this._decode(t,r,n,o,i);case 84:(s=e.sent)._rtype=y;case 86:e.next=105;break;case 88:if(t.constructor!==Object&&!Array.isArray(t)){e.next=104;break}g=Array.isArray(t),s=g?[]:{},b=0,w=Object.keys(t);case 92:if(!(b<w.length)){e.next=102;break}if(k=w[b],!g&&!t.hasOwnProperty(k)){e.next=99;break}return x=t[k],e.next=98,this._decode(x,r,n,o,i);case 98:s[k]=e.sent;case 99:b++,e.next=92;break;case 102:e.next=105;break;case 104:s=t;case 105:if(void 0!==s){e.next=107;break}throw new Error("Failed to decode object");case 107:return e.abrupt("return",s);case 108:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,o){return e.apply(this,arguments)}}()}]),n}(a.MessageEmitter)},"./src/hypha/utils.js":function srcHyphaUtilsJs(module,__nested_webpack_exports__,__nested_webpack_require_214177__){"use strict";function randId(){return Math.random().toString(36).substr(2,10)+(new Date).getTime()}__nested_webpack_require_214177__.r(__nested_webpack_exports__),__nested_webpack_require_214177__.d(__nested_webpack_exports__,"randId",(function(){return randId})),__nested_webpack_require_214177__.d(__nested_webpack_exports__,"dtypeToTypedArray",(function(){return dtypeToTypedArray})),__nested_webpack_require_214177__.d(__nested_webpack_exports__,"loadRequirementsInWindow",(function(){return loadRequirementsInWindow})),__nested_webpack_require_214177__.d(__nested_webpack_exports__,"loadRequirementsInWebworker",(function(){return loadRequirementsInWebworker})),__nested_webpack_require_214177__.d(__nested_webpack_exports__,"loadRequirements",(function(){return loadRequirements})),__nested_webpack_require_214177__.d(__nested_webpack_exports__,"normalizeConfig",(function(){return normalizeConfig})),__nested_webpack_require_214177__.d(__nested_webpack_exports__,"typedArrayToDtypeMapping",(function(){return typedArrayToDtypeMapping})),__nested_webpack_require_214177__.d(__nested_webpack_exports__,"typedArrayToDtype",(function(){return typedArrayToDtype})),__nested_webpack_require_214177__.d(__nested_webpack_exports__,"cacheRequirements",(function(){return cacheRequirements})),__nested_webpack_require_214177__.d(__nested_webpack_exports__,"setupServiceWorker",(function(){return setupServiceWorker})),__nested_webpack_require_214177__.d(__nested_webpack_exports__,"assert",(function(){return assert})),__nested_webpack_require_214177__.d(__nested_webpack_exports__,"urlJoin",(function(){return urlJoin})),__nested_webpack_require_214177__.d(__nested_webpack_exports__,"waitFor",(function(){return waitFor})),__nested_webpack_require_214177__.d(__nested_webpack_exports__,"MessageEmitter",(function(){return MessageEmitter}));var dtypeToTypedArray={int8:Int8Array,int16:Int16Array,int32:Int32Array,uint8:Uint8Array,uint16:Uint16Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array,array:Array};function loadRequirementsInWindow(e){return _loadRequirementsInWindow.apply(this,arguments)}function _loadRequirementsInWindow(){return _loadRequirementsInWindow=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a,o,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(){return a=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,a,o=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Array.prototype.slice.call(o),n=t.length,a=0;case 1:if(!(a<n)){e.next=7;break}return e.next=4,r(t[a]);case 4:a++,e.next=1;break;case 7:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)},n=function(){return a.apply(this,arguments)},r=function(e){return new Promise((function(t,r){var n=document.createElement("script");n.src=e,n.type="text/javascript",n.onload=t,n.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||t()},n.onerror=r,document.head.appendChild(n)}))},!t||!Array.isArray(t)&&"string"!==typeof t){e.next=46;break}if(e.prev=4,t="string"===typeof t?[t]:t,!Array.isArray(t)){e.next=40;break}i=0;case 8:if(!(i<t.length)){e.next=38;break}if(!t[i].toLowerCase().endsWith(".css")&&!t[i].startsWith("css:")){e.next=17;break}t[i].startsWith("css:")&&(t[i]=t[i].slice(4)),(o=document.createElement("link")).rel="stylesheet",o.href=t[i],document.head.appendChild(o),e.next=35;break;case 17:if(!t[i].toLowerCase().endsWith(".mjs")&&!t[i].startsWith("mjs:")){e.next=23;break}return t[i].startsWith("mjs:")&&(t[i]=t[i].slice(4)),e.next=21,import(t[i]);case 21:e.next=35;break;case 23:if(!t[i].toLowerCase().endsWith(".js")&&!t[i].startsWith("js:")){e.next=29;break}return t[i].startsWith("js:")&&(t[i]=t[i].slice(3)),e.next=27,n(t[i]);case 27:e.next=35;break;case 29:if(!t[i].startsWith("http")){e.next=34;break}return e.next=32,n(t[i]);case 32:e.next=35;break;case 34:t[i].startsWith("cache:")||console.log("Unprocessed requirements url: "+t[i]);case 35:i++,e.next=8;break;case 38:e.next=41;break;case 40:throw"unsupported requirements definition";case 41:e.next=46;break;case 43:throw e.prev=43,e.t0=e.catch(4),"failed to import required scripts: "+t.toString();case 46:case"end":return e.stop()}}),e,null,[[4,43]])}))),_loadRequirementsInWindow.apply(this,arguments)}function loadRequirementsInWebworker(e){return _loadRequirementsInWebworker.apply(this,arguments)}function _loadRequirementsInWebworker(){return(_loadRequirementsInWebworker=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!Array.isArray(t)&&"string"!==typeof t){e.next=18;break}e.prev=1,Array.isArray(t)||(t=[t]),r=0;case 4:if(!(r<t.length)){e.next=13;break}if(!t[r].toLowerCase().endsWith(".css")&&!t[r].startsWith("css:")){e.next=9;break}throw"unable to import css in a webworker";case 9:t[r].toLowerCase().endsWith(".js")||t[r].startsWith("js:")?(t[r].startsWith("js:")&&(t[r]=t[r].slice(3)),importScripts(t[r])):t[r].startsWith("http")?importScripts(t[r]):t[r].startsWith("cache:")||console.log("Unprocessed requirements url: "+t[r]);case 10:r++,e.next=4;break;case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(1),"failed to import required scripts: "+t.toString();case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function loadRequirements(e){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?loadRequirementsInWebworker(e):loadRequirementsInWindow(e)}function normalizeConfig(e){return e.version=e.version||"0.1.0",e.description=e.description||"[TODO: add description for ".concat(e.name," ]"),e.type=e.type||"rpc-window",e.id=e.id||randId(),e.target_origin=e.target_origin||"*",e.allow_execution=e.allow_execution||!1,e=Object.keys(e).reduce((function(t,r){return"function"!==typeof e[r]&&(t[r]=e[r]),t}),{})}for(var typedArrayToDtypeMapping={Int8Array:"int8",Int16Array:"int16",Int32Array:"int32",Uint8Array:"uint8",Uint16Array:"uint16",Uint32Array:"uint32",Float32Array:"float32",Float64Array:"float64",Array:"array"},typedArrayToDtypeKeys=[],_i9=0,_Object$keys6=Object.keys(typedArrayToDtypeMapping);_i9<_Object$keys6.length;_i9++){var arrType=_Object$keys6[_i9];typedArrayToDtypeKeys.push(eval(arrType))}function typedArrayToDtype(e){var t=typedArrayToDtypeMapping[e.constructor.name];if(!t){var r,n=Object.getPrototypeOf(e),a=_createForOfIteratorHelper(typedArrayToDtypeKeys);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(n instanceof o){t=typedArrayToDtypeMapping[o.name];break}}}catch(i){a.e(i)}finally{a.f()}}return t}function cacheUrlInServiceWorker(e){return new Promise((function(t,r){var n={command:"add",url:e};if(navigator.serviceWorker&&navigator.serviceWorker.register){var a=new MessageChannel;a.port1.onmessage=function(e){e.data&&e.data.error?r(e.data.error):t(e.data&&e.data.result)},navigator.serviceWorker&&navigator.serviceWorker.controller?navigator.serviceWorker.controller.postMessage(n,[a.port2]):r("Service worker controller is not available")}else r("Service worker is not supported.")}))}function cacheRequirements(e){return _cacheRequirements.apply(this,arguments)}function _cacheRequirements(){return(_cacheRequirements=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=t||[],Array.isArray(t)||(t=[t]),r=_createForOfIteratorHelper(t),e.prev=3,r.s();case 5:if((n=r.n()).done){e.next=16;break}if((a=n.value).startsWith("js:")&&(a=a.slice(3)),a.startsWith("css:")&&(a=a.slice(4)),a.startsWith("cache:")&&(a=a.slice(6)),a.startsWith("http")){e.next=12;break}return e.abrupt("continue",14);case 12:return e.next=14,cacheUrlInServiceWorker(a).catch((function(e){console.error(e)}));case 14:e.next=5;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,18,21,24]])})))).apply(this,arguments)}function setupServiceWorker(e,t,r){if("serviceWorker"in navigator){if(e=e||"/",navigator.serviceWorker.register(e+"plugin-service-worker.js").then((function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)}),(function(e){console.log("ServiceWorker registration failed: ",e)})),t=t||"*",(r=r||cacheRequirements)&&"function"!==typeof r)throw new Error("config.cache_requirements must be a function");window.addEventListener("message",(function(e){if("*"===t||e.origin===t){var n=e.data;"cacheRequirements"===n.type&&r(n.requirements)}}))}}function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}function urlJoin(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.join("/").replace(/[\/]+/g,"/").replace(/^(.+):\//,"$1://").replace(/^file:/,"file:/").replace(/\/(\?|&|#[^!])/g,"$1").replace(/\?/g,"&").replace("&","?")}function waitFor(e,t,r){var n;return Promise.race([e,new Promise((function(e,a){return n=setTimeout((function(){a(r||"Timeout Error")}),1e3*t)}))]).finally((function(){return clearTimeout(n)}))}var MessageEmitter=function(){function t(e){_classCallCheck(this,t),this._event_handlers={},this._once_handlers={},this._debug=e}return _createClass(t,[{key:"emit",value:function(){throw new Error("emit is not implemented")}},{key:"on",value:function(e,t){this._event_handlers[e]||(this._event_handlers[e]=[]),this._event_handlers[e].push(t)}},{key:"once",value:function(e,t){t.___event_run_once=!0,this.on(e,t)}},{key:"off",value:function(e,t){if(e||t){if(e&&!t)this._event_handlers[e]&&(this._event_handlers[e]=[]);else if(this._event_handlers[e]){var r=this._event_handlers[e].indexOf(t);r>=0&&this._event_handlers[e].splice(r,1)}}else this._event_handlers={}}},{key:"_fire",value:function(t,r){if(this._event_handlers[t])for(var n=this._event_handlers[t].length;n--;){var a=this._event_handlers[t][n];try{a(r)}catch(e){console.error(e)}finally{a.___event_run_once&&this._event_handlers[t].splice(n,1)}}else this._debug&&console.warn("unhandled event",t,r)}}]),t}()},"./src/hypha/webrtc-client.js":function(e,t,r){"use strict";r.r(t),r.d(t,"getRTCService",(function(){return l})),r.d(t,"registerRTCService",(function(){return d}));var n=r("./src/hypha/rpc.js"),a=r("./src/hypha/utils.js"),o=function(){function e(t){var r=this;_classCallCheck(this,e),this._data_channel=t,this._handle_message=null,this._reconnection_token=null,this._data_channel.onmessage=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=t.data)instanceof Blob)){e.next=5;break}return e.next=4,n.arrayBuffer();case 4:n=e.sent;case 5:r._handle_message(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var n=this;this._data_channel.onclose=function(){console.log("websocket closed"),n._data_channel=null}}return _createClass(e,[{key:"set_reconnection_token",value:function(e){this._reconnection_token=e}},{key:"on_message",value:function(e){Object(a.assert)(e,"handler is required"),this._handle_message=e}},{key:"emit_message",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(a.assert)(this._handle_message,"No handler for message"),e.prev=1,this._data_channel.send(t),e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(1),console.error("Failed to send data, error: ".concat(e.t0)),e.t0;case 9:case"end":return e.stop()}}),e,this,[[1,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._data_channel=null,console.info("data channel connection disconnected (".concat(t,")"));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function i(e){return s.apply(this,arguments)}function s(){return(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,i,s,c;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(a.assert)(t.channel,"No channel provided"),Object(a.assert)(t.workspace,"No workspace provided"),r=t.channel,i=t.client_id||Object(a.randId)(),s=new o(r),t.context=t.context||{},t.context.connection_type="webrtc",c=new n.RPC(s,{client_id:i,manager_id:null,default_context:t.context,name:t.name,method_timeout:t.method_timeout||10,workspace:t.workspace}),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e,t,r,n,a){return u.apply(this,arguments)}function u(){return u=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n,a,o){var s,c,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=n||{},s=new RTCSessionDescription({sdp:t.sdp,type:t.type}),c=new RTCPeerConnection({iceServers:n.ice_servers||[{urls:["stun:stun.l.google.com:19302"]}],sdpSemantics:"unified-plan"}),r&&c.addEventListener("datachannel",function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.channel,a=null,o&&o.user&&(a={user:o.user}),e.next=5,i({channel:n,client_id:n.label,workspace:r.config.workspace,context:a});case 5:e.sent._services=r.rpc._services;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),!a){e.next=7;break}return e.next=7,a(c);case 7:return e.next=9,c.setRemoteDescription(s);case 9:return e.next=11,c.createAnswer();case 11:return u=e.sent,e.next=14,c.setLocalDescription(u);case 14:return e.abrupt("return",{sdp:c.localDescription.sdp,type:c.localDescription.type,workspace:r.config.workspace});case 15:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(e,t,r){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n){var o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=n||{}).peer_id=n.peer_id||Object(a.randId)(),o=new RTCPeerConnection({iceServers:n.ice_servers||[{urls:["stun:stun.l.google.com:19302"]}],sdpSemantics:"unified-plan"}),e.abrupt("return",new Promise(function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(a,s){var c,u,l,f;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o.addEventListener("connectionstatechange",(function(){"failed"===o.connectionState&&(o.close(),s(new Error("Connection failed")))}),!1),!n.on_init){e.next=6;break}return e.next=5,n.on_init(o);case 5:delete n.on_init;case 6:return(c=o.createDataChannel(n.peer_id,{ordered:!0})).binaryType="arraybuffer",e.next=10,o.createOffer();case 10:return u=e.sent,e.next=13,o.setLocalDescription(u);case 13:return e.next=15,t.getService(r);case 15:return l=e.sent,e.next=18,l.offer({sdp:o.localDescription.sdp,type:o.localDescription.type});case 18:return f=e.sent,c.onopen=function(){n.channel=c,n.workspace=f.workspace,setTimeout(_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,r,s,c,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(){return(u=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.disconnect();case 2:o.close();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(){return u.apply(this,arguments)},s=function(){return(s=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get_remote_service(n.peer_id+":"+r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=function(e){return s.apply(this,arguments)},e.next=6,i(n);case 6:t=e.sent,o.rpc=t,o.get_service=r,o.getService=r,o.disconnect=c,o.register_codec=t.register_codec,o.registerCodec=t.register_codec,a(o);case 14:case"end":return e.stop()}}),e)}))),500)},c.onclose=function(){return s(new Error("Data channel closed"))},e.next=23,o.setRemoteDescription(new RTCSessionDescription({sdp:f.sdp,type:f.type}));case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),s(e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t,r){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function d(e,t,r){return p.apply(this,arguments)}function p(){return(p=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n){var a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(n=n||{visibility:"protected",require_context:!0}).on_init,delete n.on_init,e.next=5,t.registerService({id:r,config:n,offer:function(e,r){return c(e,t,n,a,r)}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},"./src/hypha/websocket-client.js":function(e,t,r){"use strict";r.r(t),r.d(t,"login",(function(){return u})),r.d(t,"connectToServer",(function(){return f}));var n=r("./src/hypha/rpc.js");r.d(t,"RPC",(function(){return n.RPC})),r.d(t,"API_VERSION",(function(){return n.API_VERSION}));var a=r("./src/hypha/utils.js");r.d(t,"loadRequirements",(function(){return a.loadRequirements}));var o=r("./src/hypha/webrtc-client.js");r.d(t,"getRTCService",(function(){return o.getRTCService})),r.d(t,"registerRTCService",(function(){return o.registerRTCService}));var i=r("./package.json");r.d(t,"VERSION",(function(){return i.version}));var s=function(){function e(t,r,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:60;_classCallCheck(this,e),Object(a.assert)(t&&r,"server_url and client_id are required"),t=t+"?client_id="+r,n&&(t+="&workspace="+n),o&&(t+="&token="+o),this._websocket=null,this._handle_message=null,this._reconnection_token=null,this._server_url=t,this._timeout=1e3*i,this._opening=null,this._retry_count=0,this._closing=!1}return _createClass(e,[{key:"set_reconnection_token",value:function(e){this._reconnection_token=e}},{key:"on_message",value:function(e){Object(a.assert)(e,"handler is required"),this._handle_message=e}},{key:"open",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._opening){e.next=2;break}return e.abrupt("return",this._opening);case 2:return this._opening=new Promise((function(e,r){var n=t._reconnection_token?"".concat(t._server_url,"&reconnection_token=").concat(t._reconnection_token):t._server_url;console.info("Creating a new connection to ",n.split("?")[0]);var a=new WebSocket(n);a.binaryType="arraybuffer",a.onmessage=function(e){var r=e.data;t._handle_message(r)},a.onopen=function(){t._websocket=a,console.info("WebSocket connection established"),t._retry_count=0,e()},a.onclose=function(e){console.log("websocket closed"),t._closing||(console.log("Websocket connection interrupted, retrying..."),t._retry_count++,setTimeout((function(){return t.open()}),t._timeout)),t._websocket=null},a.onerror=function(e){console.log("Error occurred in websocket connection: ",e),r(new Error("Websocket connection failed.")),t._websocket=null}})).finally((function(){t._opening=null})),e.abrupt("return",this._opening);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"emit_message",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(a.assert)(this._handle_message,"No handler for message"),this._websocket&&this._websocket.readyState===WebSocket.OPEN){e.next=4;break}return e.next=4,this.open();case 4:return e.abrupt("return",new Promise((function(e,n){if(r._websocket)if(r._websocket.readyState===WebSocket.CONNECTING){var a=setTimeout((function(){n(new Error("WebSocket connection timed out"))}),r._timeout);r._websocket.addEventListener("open",(function(){clearTimeout(a);try{r._websocket.send(t),e()}catch(o){console.error("Failed to send data, error: ".concat(o)),n(o)}}))}else if(r._websocket.readyState===WebSocket.OPEN)try{r._websocket.send(t),e()}catch(o){console.error("Failed to send data, error: ".concat(o)),n(o)}else n(new Error("WebSocket is not in the OPEN or CONNECTING state"));else n(new Error("Websocket connection not available"))})));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(e){this._closing=!0;var t=this._websocket;this._websocket=null,t&&t.readyState===WebSocket.OPEN&&t.close(1e3,e),console.info("Websocket connection disconnected (".concat(e,")"))}}]),e}();function c(e){if(!e)throw new Error("server_url is required");return e.startsWith("http://")?e=e.replace("http://","ws://").replace(/\/$/,"")+"/ws":e.startsWith("https://")&&(e=e.replace("https://","wss://").replace(/\/$/,"")+"/ws"),e}function u(e){return l.apply(this,arguments)}function l(){return(l=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a,o,i,s;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.login_service_id||"public/*:hypha-login",n=t.login_timeout||60,a=t.login_callback,e.next=5,f({name:"initial login client",server_url:t.server_url});case 5:return o=e.sent,e.prev=6,e.next=9,o.get_service(r);case 9:return i=e.sent,e.next=12,i.start();case 12:if(s=e.sent,!a){e.next=18;break}return e.next=16,a(s);case 16:e.next=19;break;case 18:console.log("Please open your browser and login at ".concat(s.login_url));case 19:return e.next=21,i.check(s.key,n);case 21:return e.abrupt("return",e.sent);case 24:throw e.prev=24,e.t0=e.catch(6),e.t0;case 27:return e.prev=27,e.next=30,o.disconnect();case 30:return e.finish(27);case 31:case"end":return e.stop()}}),e,null,[[6,24,27,31]])})))).apply(this,arguments)}function f(e){return d.apply(this,arguments)}function d(){return d=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,i,u,l,f,d,p,h,m,v,_,y;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _=function(){return(_=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.disconnect();case 2:return e.next=4,u.disconnect();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},v=function(){return _.apply(this,arguments)},m=function(){return(m=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.get_service(t+":default");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},h=function(e){return m.apply(this,arguments)},p=function(){return(p=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.id="default",r.name=t.name||r.id,e.next=4,l.register_service(r,!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},d=function(e){return p.apply(this,arguments)},(r=t.client_id)||(r=Object(a.randId)()),i=c(t.server_url),u=new s(i,r,t.workspace,t.token,t.method_timeout||60),e.next=12,u.open();case 12:return l=new n.RPC(u,{client_id:r,manager_id:"workspace-manager",default_context:{connection_type:"websocket"},name:t.name,method_timeout:t.method_timeout}),e.next=15,l.get_remote_service("workspace-manager:default");case 15:if((f=e.sent).rpc=l,f.export=d,f.getPlugin=h,f.listPlugins=f.listServices,f.disconnect=v,f.registerCodec=l.register_codec.bind(l),!t.webrtc){e.next=25;break}return e.next=25,Object(o.registerRTCService)(f,r+"-rtc",t.webrtc_config);case 25:return(f.get_service||f.getService)&&(y=f.get_service||f.getService,f.get_service=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n){var i,s,c,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(a.assert)([void 0,!0,!1,"auto"].includes(r),"webrtc must be true, false or 'auto'"),e.next=3,y(t);case 3:if(i=e.sent,!0!==r&&"auto"!==r){e.next=25;break}if(!i.id.includes(":")||!i.id.includes("/")){e.next=23;break}return s=i.id.split(":")[0],e.prev=7,e.next=10,Object(o.getRTCService)(f,s+":"+s.split("/")[1]+"-rtc",n);case 10:return c=e.sent,e.next=13,c.get_service(i.id.split(":")[1]);case 13:return(u=e.sent)._webrtc=!0,u._peer=c,u._service=i,e.abrupt("return",u);case 20:e.prev=20,e.t0=e.catch(7),console.warn("Failed to get webrtc service, using websocket connection",e.t0);case 23:if(!0!==r){e.next=25;break}throw new Error("Failed to get the service via webrtc");case 25:return e.abrupt("return",i);case 26:case"end":return e.stop()}}),e,null,[[7,20]])})));return function(t,r,n){return e.apply(this,arguments)}}(),f.getService=f.get_service),e.abrupt("return",f);case 27:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}}})},module.exports=factory()},69349:function(module,__unused_webpack_exports,__webpack_require__){var _toConsumableArray=__webpack_require__(861).default,_createForOfIteratorHelper=__webpack_require__(74704).default,_slicedToArray=__webpack_require__(27424).default,_regeneratorRuntime=__webpack_require__(17061).default,_asyncToGenerator=__webpack_require__(17156).default,_assertThisInitialized=__webpack_require__(66115).default,_inherits=__webpack_require__(61655).default,_createSuper=__webpack_require__(26389).default,_classCallCheck=__webpack_require__(56690).default,_createClass=__webpack_require__(89728).default,factory;window,factory=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/hypha/rpc.js")}({"./node_modules/@msgpack/msgpack/dist.es5+esm/CachedKeyDecoder.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"CachedKeyDecoder",(function(){return a}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs"),a=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,r){e:for(var n=0,a=this.caches[r-1];n<a.length;n++){for(var o=a[n],i=o.bytes,s=0;s<r;s++)if(i[s]!==e[t+s])continue e;return o.str}return null},e.prototype.store=function(e,t){var r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)},e.prototype.decode=function(e,t,r){var a=this.find(e,t,r);if(null!=a)return this.hit++,a;this.miss++;var o=Object(n.utf8DecodeJs)(e,t,r),i=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(i,o),o},e}()},"./node_modules/@msgpack/msgpack/dist.es5+esm/DecodeError.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"DecodeError",(function(){return a}));var n=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a=function(e){function t(r){var n=e.call(this,r)||this,a=Object.create(t.prototype);return Object.setPrototypeOf(n,a),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:t.name}),n}return n(t,e),t}(Error)},"./node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs":function(t,r,n){"use strict";n.r(r),n.d(r,"DataViewIndexOutOfBoundsError",(function(){return g})),n.d(r,"Decoder",(function(){return k}));var a=n("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/prettyByte.mjs"),o=n("./node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs"),i=n("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs"),s=n("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs"),c=n("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/typedArrays.mjs"),u=n("./node_modules/@msgpack/msgpack/dist.es5+esm/CachedKeyDecoder.mjs"),l=n("./node_modules/@msgpack/msgpack/dist.es5+esm/DecodeError.mjs"),f=function(t,r,n,a){return new(n||(n=Promise))((function(o,i){function s(t){try{u(a.next(t))}catch(e){i(e)}}function c(t){try{u(a.throw(t))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((a=a.apply(t,r||[])).next())}))},d=function(t,r){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=r.call(t,s)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},p=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"===typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,a){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,a,(t=e[r](t)).done,t.value)}))}}},h=function(e){return this instanceof h?(this.v=e,this):new h(e)},m=function(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,o=n.apply(t,r||[]),i=[];return a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a;function s(e){o[e]&&(a[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||c(e,t)}))})}function c(t,r){try{(n=o[t](r)).value instanceof h?Promise.resolve(n.value.v).then(u,l):f(i[0][2],n)}catch(e){f(i[0][3],e)}var n}function u(e){c("next",e)}function l(e){c("throw",e)}function f(e,t){e(t),i.shift(),i.length&&c(i[0][0],i[0][1])}},v=function(e){var t=typeof e;return"string"===t||"number"===t},_=new DataView(new ArrayBuffer(0)),y=new Uint8Array(_.buffer),g=function(){try{_.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),b=new g("Insufficient data"),w=new u.CachedKeyDecoder,k=function(){function t(e,t,r,n,a,s,c,u){void 0===e&&(e=o.ExtensionCodec.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=i.UINT32_MAX),void 0===n&&(n=i.UINT32_MAX),void 0===a&&(a=i.UINT32_MAX),void 0===s&&(s=i.UINT32_MAX),void 0===c&&(c=i.UINT32_MAX),void 0===u&&(u=w),this.extensionCodec=e,this.context=t,this.maxStrLength=r,this.maxBinLength=n,this.maxArrayLength=a,this.maxMapLength=s,this.maxExtLength=c,this.keyDecoder=u,this.totalPos=0,this.pos=0,this.view=_,this.bytes=y,this.headByte=-1,this.stack=[]}return t.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},t.prototype.setBuffer=function(e){this.bytes=Object(c.ensureUint8Array)(e),this.view=Object(c.createDataView)(this.bytes),this.pos=0},t.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),r=Object(c.ensureUint8Array)(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)},t.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},t.prototype.createExtraByteError=function(e){var t=this.view,r=this.pos;return new RangeError("Extra "+(t.byteLength-r)+" of "+t.byteLength+" byte(s) found at buffer["+e+"]")},t.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},t.prototype.decodeMulti=function(e){return d(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},t.prototype.decodeAsync=function(t){var r,n,o,i;return f(this,void 0,void 0,(function(){var s,c,u,l,f,h,m,v;return d(this,(function(d){switch(d.label){case 0:s=!1,d.label=1;case 1:d.trys.push([1,6,7,12]),r=p(t),d.label=2;case 2:return[4,r.next()];case 3:if((n=d.sent()).done)return[3,5];if(u=n.value,s)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u);try{c=this.doDecodeSync(),s=!0}catch(e){if(!(e instanceof g))throw e}this.totalPos+=this.pos,d.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return l=d.sent(),o={error:l},[3,12];case 7:return d.trys.push([7,,10,11]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,9];case 8:d.sent(),d.label=9;case 9:return[3,11];case 10:if(o)throw o.error;return[7];case 11:return[7];case 12:if(s){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,c]}throw h=(f=this).headByte,m=f.pos,v=f.totalPos,new RangeError("Insufficient data in parsing "+Object(a.prettyByte)(h)+" at "+v+" ("+m+" in the current buffer)")}}))}))},t.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},t.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},t.prototype.decodeMultiAsync=function(e,t){return m(this,arguments,(function(){var r,n,a,o,i,s,c,u,l;return d(this,(function(f){switch(f.label){case 0:r=t,n=-1,f.label=1;case 1:f.trys.push([1,13,14,19]),a=p(e),f.label=2;case 2:return[4,h(a.next())];case 3:if((o=f.sent()).done)return[3,12];if(i=o.value,t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(n=this.readArraySize(),r=!1,this.complete()),f.label=4;case 4:f.trys.push([4,9,,10]),f.label=5;case 5:return[4,h(this.doDecodeSync())];case 6:return[4,f.sent()];case 7:return f.sent(),0===--n?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((s=f.sent())instanceof g))throw s;return[3,10];case 10:this.totalPos+=this.pos,f.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=f.sent(),u={error:c},[3,19];case 14:return f.trys.push([14,,17,18]),o&&!o.done&&(l=a.return)?[4,h(l.call(a))]:[3,16];case 15:f.sent(),f.label=16;case 16:return[3,18];case 17:if(u)throw u.error;return[7];case 18:return[7];case 19:return[2]}}))}))},t.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!==(n=e-128)){this.pushMapState(n),this.complete();continue e}t={}}else if(e<160){if(0!==(n=e-144)){this.pushArrayState(n),this.complete();continue e}t=[]}else{var r=e-160;t=this.decodeUtf8String(r,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e)r=this.lookU8(),t=this.decodeUtf8String(r,1);else if(218===e)r=this.lookU16(),t=this.decodeUtf8String(r,2);else if(219===e)r=this.lookU32(),t=this.decodeUtf8String(r,4);else if(220===e){if(0!==(n=this.readU16())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(221===e){if(0!==(n=this.readU32())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(222===e){if(0!==(n=this.readU16())){this.pushMapState(n),this.complete();continue e}t={}}else if(223===e){if(0!==(n=this.readU32())){this.pushMapState(n),this.complete();continue e}t={}}else if(196===e){var n=this.lookU8();t=this.decodeBinary(n,1)}else if(197===e)n=this.lookU16(),t=this.decodeBinary(n,2);else if(198===e)n=this.lookU32(),t=this.decodeBinary(n,4);else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e)n=this.lookU8(),t=this.decodeExtension(n,1);else if(200===e)n=this.lookU16(),t=this.decodeExtension(n,2);else{if(201!==e)throw new l.DecodeError("Unrecognized type byte: "+Object(a.prettyByte)(e));n=this.lookU32(),t=this.decodeExtension(n,4)}this.complete();for(var o=this.stack;o.length>0;){var i=o[o.length-1];if(0===i.type){if(i.array[i.position]=t,i.position++,i.position!==i.size)continue e;o.pop(),t=i.array}else{if(1===i.type){if(!v(t))throw new l.DecodeError("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new l.DecodeError("The key __proto__ is not allowed");i.key=t,i.type=2;continue e}if(i.map[i.key]=t,i.readCount++,i.readCount!==i.size){i.key=null,i.type=1;continue e}o.pop(),t=i.map}}return t}},t.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},t.prototype.complete=function(){this.headByte=-1},t.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new l.DecodeError("Unrecognized array type byte: "+Object(a.prettyByte)(e))}},t.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new l.DecodeError("Max length exceeded: map length ("+e+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},t.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new l.DecodeError("Max length exceeded: array length ("+e+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:e,array:new Array(e),position:0})},t.prototype.decodeUtf8String=function(e,t){var r;if(e>this.maxStrLength)throw new l.DecodeError("Max length exceeded: UTF-8 byte length ("+e+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+t+e)throw b;var n,a=this.pos+t;return n=this.stateIsMapKey()&&(null===(r=this.keyDecoder)||void 0===r?void 0:r.canBeCached(e))?this.keyDecoder.decode(this.bytes,a,e):e>s.TEXT_DECODER_THRESHOLD?Object(s.utf8DecodeTD)(this.bytes,a,e):Object(s.utf8DecodeJs)(this.bytes,a,e),this.pos+=t+e,n},t.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},t.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new l.DecodeError("Max length exceeded: bin length ("+e+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(e+t))throw b;var r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n},t.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new l.DecodeError("Max length exceeded: ext length ("+e+") > maxExtLength ("+this.maxExtLength+")");var r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)},t.prototype.lookU8=function(){return this.view.getUint8(this.pos)},t.prototype.lookU16=function(){return this.view.getUint16(this.pos)},t.prototype.lookU32=function(){return this.view.getUint32(this.pos)},t.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},t.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},t.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},t.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},t.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},t.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},t.prototype.readU64=function(){var e=Object(i.getUint64)(this.view,this.pos);return this.pos+=8,e},t.prototype.readI64=function(){var e=Object(i.getInt64)(this.view,this.pos);return this.pos+=8,e},t.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},t.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},t}()},"./node_modules/@msgpack/msgpack/dist.es5+esm/Encoder.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"DEFAULT_MAX_DEPTH",(function(){return s})),r.d(t,"DEFAULT_INITIAL_BUFFER_SIZE",(function(){return c})),r.d(t,"Encoder",(function(){return u}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs"),a=r("./node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs"),o=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs"),i=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/typedArrays.mjs"),s=100,c=2048,u=function(){function e(e,t,r,n,o,i,u,l){void 0===e&&(e=a.ExtensionCodec.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=s),void 0===n&&(n=c),void 0===o&&(o=!1),void 0===i&&(i=!1),void 0===u&&(u=!1),void 0===l&&(l=!1),this.extensionCodec=e,this.context=t,this.maxDepth=r,this.initialBufferSize=n,this.sortKeys=o,this.forceFloat32=i,this.ignoreUndefined=u,this.forceIntegerToFloat=l,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.getUint8Array=function(){return this.bytes.subarray(0,this.pos)},e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.getUint8Array()},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth "+t);null==e?this.encodeNil():"boolean"===typeof e?this.encodeBoolean(e):"number"===typeof e?this.encodeNumber(e):"string"===typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: "+e+" bytes in UTF-8");this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>n.TEXT_ENCODER_THRESHOLD){var t=Object(n.utf8Count)(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),Object(n.utf8EncodeTE)(e,this.bytes,this.pos),this.pos+=t}else t=Object(n.utf8Count)(e),this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),Object(n.utf8EncodeJs)(e,this.bytes,this.pos),this.pos+=t},e.prototype.encodeObject=function(e,t){var r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!==typeof e)throw new Error("Unrecognized object: "+Object.prototype.toString.apply(e));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: "+t);this.writeU8(198),this.writeU32(t)}var r=Object(i.ensureUint8Array)(e);this.writeU8a(r)},e.prototype.encodeArray=function(e,t){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large array: "+r);this.writeU8(221),this.writeU32(r)}for(var n=0,a=e;n<a.length;n++){var o=a[n];this.doEncode(o,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var r=0,n=0,a=t;n<a.length;n++)void 0!==e[a[n]]&&r++;return r},e.prototype.encodeMap=function(e,t){var r=Object.keys(e);this.sortKeys&&r.sort();var n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large map object: "+n);this.writeU8(223),this.writeU32(n)}for(var a=0,o=r;a<o.length;a++){var i=o[a],s=e[i];this.ignoreUndefined&&void 0===s||(this.encodeString(i),this.doEncode(s,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: "+t);this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),Object(o.setUint64)(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),Object(o.setInt64)(this.view,this.pos,e),this.pos+=8},e}()},"./node_modules/@msgpack/msgpack/dist.es5+esm/ExtData.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"ExtData",(function(){return n}));var n=function(e,t){this.type=e,this.data=t}},"./node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"ExtensionCodec",(function(){return o}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/ExtData.mjs"),a=r("./node_modules/@msgpack/msgpack/dist.es5+esm/timestamp.mjs"),o=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(a.timestampExtension)}return e.prototype.register=function(e){var t=e.type,r=e.encode,n=e.decode;if(t>=0)this.encoders[t]=r,this.decoders[t]=n;else{var a=1+t;this.builtInEncoders[a]=r,this.builtInDecoders[a]=n}},e.prototype.tryToEncode=function(e,t){for(var r=0;r<this.builtInEncoders.length;r++)if(null!=(o=this.builtInEncoders[r])&&null!=(i=o(e,t))){var a=-1-r;return new n.ExtData(a,i)}for(r=0;r<this.encoders.length;r++){var o,i;if(null!=(o=this.encoders[r])&&null!=(i=o(e,t)))return a=r,new n.ExtData(a,i)}return e instanceof n.ExtData?e:null},e.prototype.decode=function(e,t,r){var a=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return a?a(e,t,r):new n.ExtData(t,e)},e.defaultCodec=new e,e}()},"./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"defaultDecodeOptions",(function(){return a})),r.d(t,"decode",(function(){return o})),r.d(t,"decodeMulti",(function(){return i}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs"),a={};function o(e,t){return void 0===t&&(t=a),new n.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decode(e)}function i(e,t){return void 0===t&&(t=a),new n.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeMulti(e)}},"./node_modules/@msgpack/msgpack/dist.es5+esm/decodeAsync.mjs":function(t,r,n){"use strict";n.r(r),n.d(r,"decodeAsync",(function(){return u})),n.d(r,"decodeArrayStream",(function(){return l})),n.d(r,"decodeMultiStream",(function(){return f})),n.d(r,"decodeStream",(function(){return d}));var a=n("./node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs"),o=n("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/stream.mjs"),i=n("./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs"),s=function(t,r,n,a){return new(n||(n=Promise))((function(o,i){function s(t){try{u(a.next(t))}catch(e){i(e)}}function c(t){try{u(a.throw(t))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((a=a.apply(t,r||[])).next())}))},c=function(t,r){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=r.call(t,s)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function u(e,t){return void 0===t&&(t=i.defaultDecodeOptions),s(this,void 0,void 0,(function(){var r;return c(this,(function(n){return r=Object(o.ensureAsyncIterable)(e),[2,new a.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeAsync(r)]}))}))}function l(e,t){void 0===t&&(t=i.defaultDecodeOptions);var r=Object(o.ensureAsyncIterable)(e);return new a.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeArrayStream(r)}function f(e,t){void 0===t&&(t=i.defaultDecodeOptions);var r=Object(o.ensureAsyncIterable)(e);return new a.Decoder(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(r)}function d(e,t){return void 0===t&&(t=i.defaultDecodeOptions),f(e,t)}},"./node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"encode",(function(){return o}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/Encoder.mjs"),a={};function o(e,t){return void 0===t&&(t=a),new n.Encoder(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined,t.forceIntegerToFloat).encode(e)}},"./node_modules/@msgpack/msgpack/dist.es5+esm/index.mjs":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/encode.mjs");r.d(t,"encode",(function(){return n.encode}));var a=r("./node_modules/@msgpack/msgpack/dist.es5+esm/decode.mjs");r.d(t,"decode",(function(){return a.decode})),r.d(t,"decodeMulti",(function(){return a.decodeMulti}));var o=r("./node_modules/@msgpack/msgpack/dist.es5+esm/decodeAsync.mjs");r.d(t,"decodeAsync",(function(){return o.decodeAsync})),r.d(t,"decodeArrayStream",(function(){return o.decodeArrayStream})),r.d(t,"decodeMultiStream",(function(){return o.decodeMultiStream})),r.d(t,"decodeStream",(function(){return o.decodeStream}));var i=r("./node_modules/@msgpack/msgpack/dist.es5+esm/Decoder.mjs");r.d(t,"Decoder",(function(){return i.Decoder})),r.d(t,"DataViewIndexOutOfBoundsError",(function(){return i.DataViewIndexOutOfBoundsError}));var s=r("./node_modules/@msgpack/msgpack/dist.es5+esm/DecodeError.mjs");r.d(t,"DecodeError",(function(){return s.DecodeError}));var c=r("./node_modules/@msgpack/msgpack/dist.es5+esm/Encoder.mjs");r.d(t,"Encoder",(function(){return c.Encoder}));var u=r("./node_modules/@msgpack/msgpack/dist.es5+esm/ExtensionCodec.mjs");r.d(t,"ExtensionCodec",(function(){return u.ExtensionCodec}));var l=r("./node_modules/@msgpack/msgpack/dist.es5+esm/ExtData.mjs");r.d(t,"ExtData",(function(){return l.ExtData}));var f=r("./node_modules/@msgpack/msgpack/dist.es5+esm/timestamp.mjs");r.d(t,"EXT_TIMESTAMP",(function(){return f.EXT_TIMESTAMP})),r.d(t,"encodeDateToTimeSpec",(function(){return f.encodeDateToTimeSpec})),r.d(t,"encodeTimeSpecToTimestamp",(function(){return f.encodeTimeSpecToTimestamp})),r.d(t,"decodeTimestampToTimeSpec",(function(){return f.decodeTimestampToTimeSpec})),r.d(t,"encodeTimestampExtension",(function(){return f.encodeTimestampExtension})),r.d(t,"decodeTimestampExtension",(function(){return f.decodeTimestampExtension}))},"./node_modules/@msgpack/msgpack/dist.es5+esm/timestamp.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"EXT_TIMESTAMP",(function(){return o})),r.d(t,"encodeTimeSpecToTimestamp",(function(){return c})),r.d(t,"encodeDateToTimeSpec",(function(){return u})),r.d(t,"encodeTimestampExtension",(function(){return l})),r.d(t,"decodeTimestampToTimeSpec",(function(){return f})),r.d(t,"decodeTimestampExtension",(function(){return d})),r.d(t,"timestampExtension",(function(){return p}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/DecodeError.mjs"),a=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs"),o=-1,i=4294967295,s=17179869183;function c(e){var t,r=e.sec,n=e.nsec;if(r>=0&&n>=0&&r<=s){if(0===n&&r<=i){var o=new Uint8Array(4);return(t=new DataView(o.buffer)).setUint32(0,r),o}var c=r/4294967296,u=4294967295&r;return o=new Uint8Array(8),(t=new DataView(o.buffer)).setUint32(0,n<<2|3&c),t.setUint32(4,u),o}return o=new Uint8Array(12),(t=new DataView(o.buffer)).setUint32(0,n),Object(a.setInt64)(t,4,r),o}function u(e){var t=e.getTime(),r=Math.floor(t/1e3),n=1e6*(t-1e3*r),a=Math.floor(n/1e9);return{sec:r+a,nsec:n-1e9*a}}function l(e){return e instanceof Date?c(u(e)):null}function f(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var r=t.getUint32(0);return{sec:4294967296*(3&r)+t.getUint32(4),nsec:r>>>2};case 12:return{sec:Object(a.getInt64)(t,4),nsec:t.getUint32(0)};default:throw new n.DecodeError("Unrecognized data size for timestamp (expected 4, 8, or 12): "+e.length)}}function d(e){var t=f(e);return new Date(1e3*t.sec+t.nsec/1e6)}var p={type:o,encode:l,decode:d}},"./node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"UINT32_MAX",(function(){return n})),r.d(t,"setUint64",(function(){return a})),r.d(t,"setInt64",(function(){return o})),r.d(t,"getInt64",(function(){return i})),r.d(t,"getUint64",(function(){return s}));var n=4294967295;function a(e,t,r){var n=r/4294967296,a=r;e.setUint32(t,n),e.setUint32(t+4,a)}function o(e,t,r){var n=Math.floor(r/4294967296),a=r;e.setUint32(t,n),e.setUint32(t+4,a)}function i(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}function s(e,t){return 4294967296*e.getUint32(t)+e.getUint32(t+4)}},"./node_modules/@msgpack/msgpack/dist.es5+esm/utils/prettyByte.mjs":function(e,t,r){"use strict";function n(e){return(e<0?"-":"")+"0x"+Math.abs(e).toString(16).padStart(2,"0")}r.r(t),r.d(t,"prettyByte",(function(){return n}))},"./node_modules/@msgpack/msgpack/dist.es5+esm/utils/stream.mjs":function(t,r,n){"use strict";n.r(r),n.d(r,"isAsyncIterable",(function(){return s})),n.d(r,"asyncIterableFromStream",(function(){return c})),n.d(r,"ensureAsyncIterable",(function(){return u}));var a=function(t,r){var n,a,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(o=2&i[0]?a.return:i[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,i[1])).done)return o;switch(a=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=r.call(t,s)}catch(e){i=[6,e],a=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},o=function(e){return this instanceof o?(this.v=e,this):new o(e)},i=function(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,i=n.apply(t,r||[]),s=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(e){i[e]&&(a[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||u(e,t)}))})}function u(t,r){try{(n=i[t](r)).value instanceof o?Promise.resolve(n.value.v).then(l,f):d(s[0][2],n)}catch(e){d(s[0][3],e)}var n}function l(e){u("next",e)}function f(e){u("throw",e)}function d(e,t){e(t),s.shift(),s.length&&u(s[0][0],s[0][1])}};function s(e){return null!=e[Symbol.asyncIterator]}function c(e){return i(this,arguments,(function(){var t,r,n,i;return a(this,(function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,o(t.read())];case 3:return r=a.sent(),n=r.done,i=r.value,n?[4,o(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return function(e){if(null==e)throw new Error("Assertion Failure: value must not be null nor undefined")}(i),[4,o(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function u(e){return s(e)?e:c(e)}},"./node_modules/@msgpack/msgpack/dist.es5+esm/utils/typedArrays.mjs":function(e,t,r){"use strict";function n(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}function a(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=n(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}r.r(t),r.d(t,"ensureUint8Array",(function(){return n})),r.d(t,"createDataView",(function(){return a}))},"./node_modules/@msgpack/msgpack/dist.es5+esm/utils/utf8.mjs":function(e,t,r){"use strict";r.r(t),r.d(t,"utf8Count",(function(){return o})),r.d(t,"utf8EncodeJs",(function(){return i})),r.d(t,"TEXT_ENCODER_THRESHOLD",(function(){return c})),r.d(t,"utf8EncodeTE",(function(){return u})),r.d(t,"utf8DecodeJs",(function(){return f})),r.d(t,"TEXT_DECODER_THRESHOLD",(function(){return p})),r.d(t,"utf8DecodeTD",(function(){return h}));var n=r("./node_modules/@msgpack/msgpack/dist.es5+esm/utils/int.mjs"),a=("undefined"===typeof process||"never"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.TEXT_ENCODING)&&"undefined"!==typeof TextEncoder&&"undefined"!==typeof TextDecoder;function o(e){for(var t=e.length,r=0,n=0;n<t;){var a=e.charCodeAt(n++);if(0!==(4294967168&a))if(0===(4294965248&a))r+=2;else{if(a>=55296&&a<=56319&&n<t){var o=e.charCodeAt(n);56320===(64512&o)&&(++n,a=((1023&a)<<10)+(1023&o)+65536)}r+=0===(4294901760&a)?3:4}else r++}return r}function i(e,t,r){for(var n=e.length,a=r,o=0;o<n;){var i=e.charCodeAt(o++);if(0!==(4294967168&i)){if(0===(4294965248&i))t[a++]=i>>6&31|192;else{if(i>=55296&&i<=56319&&o<n){var s=e.charCodeAt(o);56320===(64512&s)&&(++o,i=((1023&i)<<10)+(1023&s)+65536)}0===(4294901760&i)?(t[a++]=i>>12&15|224,t[a++]=i>>6&63|128):(t[a++]=i>>18&7|240,t[a++]=i>>12&63|128,t[a++]=i>>6&63|128)}t[a++]=63&i|128}else t[a++]=i}}var s=a?new TextEncoder:void 0,c=a?"undefined"!==typeof process&&"force"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.TEXT_ENCODING?200:0:n.UINT32_MAX,u=(null===s||void 0===s?void 0:s.encodeInto)?function(e,t,r){s.encodeInto(e,t.subarray(r))}:function(e,t,r){t.set(s.encode(e),r)},l=4096;function f(e,t,r){for(var n=t,a=n+r,o=[],i="";n<a;){var s=e[n++];if(0===(128&s))o.push(s);else if(192===(224&s)){var c=63&e[n++];o.push((31&s)<<6|c)}else if(224===(240&s)){c=63&e[n++];var u=63&e[n++];o.push((31&s)<<12|c<<6|u)}else if(240===(248&s)){var f=(7&s)<<18|(c=63&e[n++])<<12|(u=63&e[n++])<<6|63&e[n++];f>65535&&(f-=65536,o.push(f>>>10&1023|55296),f=56320|1023&f),o.push(f)}else o.push(s);o.length>=l&&(i+=String.fromCharCode.apply(String,o),o.length=0)}return o.length>0&&(i+=String.fromCharCode.apply(String,o)),i}var d=a?new TextDecoder:null,p=a?"undefined"!==typeof process&&"force"!=={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.TEXT_DECODER?200:0:n.UINT32_MAX;function h(e,t,r){var n=e.subarray(t,t+r);return d.decode(n)}},"./src/hypha/rpc.js":function(t,r,n){"use strict";n.r(r),n.d(r,"API_VERSION",(function(){return i})),n.d(r,"RPC",(function(){return p}));var a=n("./src/hypha/utils.js"),o=n("./node_modules/@msgpack/msgpack/dist.es5+esm/index.mjs"),i="0.3.0",s=512e3,c=Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array)).constructor;function u(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer}function l(e,t){if(!t)throw new Error("undefined index");return"string"===typeof t?l(e,t.split(".")):0===t.length?e:l(e[t[0]],t.slice(1))}function f(e){var t=e.toString(),r=t.match(/function\s*(\w*)/),n=r&&r[1]||"",a=t.match(/\(([^)]*)\)/),o="";a&&(o=a[1].split(",").map((function(e){return e.replace(/\/\*.*?\*\//g,"").replace(/\/\/.*$/g,"")})).filter((function(e){return e.trim().length>0})).map((function(e){return e.trim()})).join(", "));var i=t.match(/\)\s*\{\s*\/\*([\s\S]*?)\*\//),s=i&&i[1].trim()||"",c=(i=t.match(/\)\s*\{\s*(\/\/[\s\S]*?)\n\s*[^\s\/]/))&&i[1].split("\n").map((function(e){return e.replace(/^\/\/\s*/,"").trim()})).join("\n")||"",u=s||c;return n&&o.length>0&&{name:n,sig:o,doc:u}}var d=function(){function e(t,r,n,a){_classCallCheck(this,e),this._timeout=t,this._callback=r,this._args=n,this._label=a||"timer",this._task=null,this.started=!1}return _createClass(e,[{key:"start",value:function(){var e=this;this.started?this.reset():(this._task=setTimeout((function(){e._callback.apply(e,e._args)}),1e3*this._timeout),this.started=!0)}},{key:"clear",value:function(){this._task?(clearTimeout(this._task),this._task=null,this.started=!1):console.warn("Clearing a timer (".concat(this._label,") which is not started"))}},{key:"reset",value:function(){var e=this;this._task&&clearTimeout(this._task),this._task=setTimeout((function(){e._callback.apply(e,e._args)}),1e3*this._timeout),this.started=!0}}]),e}(),p=function(t){_inherits(n,t);var r=_createSuper(n);function n(e,t){var o,i=t.client_id,s=void 0===i?null:i,c=t.manager_id,u=void 0===c?null:c,l=t.default_context,f=void 0===l?null:l,d=t.name,p=void 0===d?null:d,h=t.codecs,m=void 0===h?null:h,v=t.method_timeout,_=void 0===v?null:v,y=t.max_message_buffer_size,g=void 0===y?0:y,b=t.debug,w=void 0!==b&&b,k=t.workspace,x=void 0===k?null:k;return _classCallCheck(this,n),(o=r.call(this,w))._codecs=m||{},Object(a.assert)(s&&"string"===typeof s),Object(a.assert)(s,"client_id is required"),o._client_id=s,o._name=p,o._connection_info=null,o._workspace=null,o._local_workspace=x,o.manager_id=u,o.default_context=f||{},o._method_annotations=new WeakMap,o._manager_service=null,o._max_message_buffer_size=g,o._chunk_store={},o._method_timeout=_||30,o._services={},o._object_store={services:o._services},e?(o.add_service({id:"built-in",type:"built-in",name:"RPC built-in services",config:{require_context:!0,visibility:"public"},ping:o._ping.bind(_assertThisInitialized(o)),get_service:o.get_local_service.bind(_assertThisInitialized(o)),register_service:o.register_service.bind(_assertThisInitialized(o)),message_cache:{create:o._create_message.bind(_assertThisInitialized(o)),append:o._append_message.bind(_assertThisInitialized(o)),process:o._process_message.bind(_assertThisInitialized(o)),remove:o._remove_message.bind(_assertThisInitialized(o))}}),o.on("method",o._handle_method.bind(_assertThisInitialized(o))),Object(a.assert)(e.emit_message&&e.on_message),o._emit_message=e.emit_message.bind(e),e.on_message(o._on_message.bind(_assertThisInitialized(o))),o._connection=e,o._get_connection_info()):o._emit_message=function(){console.log("No connection to emit message")},o}return _createClass(n,[{key:"_get_connection_info",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.manager_id){e.next=14;break}return e.prev=1,e.next=4,this.get_manager_service(30);case 4:return Object(a.assert)(this._manager_service),e.next=7,this._manager_service.get_connection_info();case 7:this._connection_info=e.sent,this._connection_info.reconnection_token&&this._connection.set_reconnection_token&&(this._connection.set_reconnection_token(this._connection_info.reconnection_token),t=.8*this._connection_info.reconnection_expires_in,this._get_connection_info_task=setTimeout(this._get_connection_info.bind(this),1e3*t)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.warn("Failed to fetch user info from ",this.manager_id,e.t0);case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"register_codec",value:function(e){if(!e.name||!e.encoder&&!e.decoder)throw new Error("Invalid codec format, please make sure you provide a name, type, encoder and decoder.");if(e.type)for(var t=0,r=Object.keys(this._codecs);t<r.length;t++){var n=r[t];this._codecs[n].type!==e.type&&n!==e.name||(delete this._codecs[n],console.warn("Remove duplicated codec: "+n))}this._codecs[e.name]=e}},{key:"_ping",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(a.assert)("ping"==t),e.abrupt("return","pong");case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"ping",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._generate_remote_method({_rtarget:t,_rmethod:"services.built-in.ping",_rpromise:!0,_rdoc:"Ping a remote client",_rsig:"ping(msg)"}),e.t0=Object(a.assert),e.next=4,n("ping",r);case 4:e.t1=e.sent,e.t2="pong"==e.t1,(0,e.t0)(e.t2);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_create_message",value:function(e,t,r,n){if(t){if(!this._object_store[e])throw new Error("session does not exist anymore: ".concat(e));this._object_store[e].timer.reset()}if(this._object_store.message_cache||(this._object_store.message_cache={}),!r&&this._object_store.message_cache[e])throw new Error("Message with the same key (".concat(e,") already exists in the cache store, please use overwrite=true or remove it first."));this._object_store.message_cache[e]=[]}},{key:"_append_message",value:function(e,t,r,n){if(r){if(!this._object_store[e])throw new Error("session does not exist anymore: ".concat(e));this._object_store[e].timer.reset()}var o=this._object_store.message_cache;if(!o[e])throw new Error("Message with key ".concat(e," does not exists."));Object(a.assert)(t instanceof c),o[e].push(t)}},{key:"_remove_message",value:function(e,t){var r=this._object_store.message_cache;if(!r[e])throw new Error("Message with key ".concat(e," does not exists."));delete r[e]}},{key:"_process_message",value:function(e,t,r){if(t){if(!this._object_store[e])throw new Error("session does not exist anymore: ".concat(e));this._object_store[e].timer.reset()}var n=this._object_store.message_cache;if(Object(a.assert)(!!r,"Context is required"),!n[e])throw new Error("Message with key ".concat(e," does not exists."));n[e]=function(e){var t=e.map((function(e){return e.byteLength})),r=t.reduce((function(e,t){return e+t}),0),n=new Uint8Array(r);return t.reduce((function(t,r,a){return n.set(new Uint8Array(e[a]),t),t+r}),0),n.buffer}(n[e]),console.debug("Processing message ".concat(e," (size=").concat(n[e].length,")"));var i=Object(o.decodeMulti)(n[e]),s=i.next(),c=s.done,u=s.value;if(Object.assign(u,{from:r.from,to:r.to,user:r.user}),u.ctx=JSON.parse(JSON.stringify(u)),Object.assign(u.ctx,this.default_context),!c){var l=i.next();Object.assign(u,l.value)}this._fire(u.type,u),delete n[e]}},{key:"_on_message",value:function(t){try{Object(a.assert)(t instanceof ArrayBuffer);var r=Object(o.decodeMulti)(t),n=r.next(),i=n.done,s=n.value;if(s.ctx=JSON.parse(JSON.stringify(s)),Object.assign(s.ctx,this.default_context),!i){var c=r.next();Object.assign(s,c.value)}this._fire(s.type,s)}catch(u){console.error(e)}}},{key:"reset",value:function(){this._event_handlers={},this._services={}}},{key:"disconnect",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._get_connection_info_task&&(clearTimeout(this._get_connection_info_task),this._get_connection_info_task=null),this._fire("disconnect");case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get_manager_service",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.manager_id||this._manager_service){e.next=4;break}return e.next=3,this.get_remote_service("".concat(this.manager_id,":default"),t);case 3:this._manager_service=e.sent;case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get_all_local_services",value:function(){return this._services}},{key:"get_local_service",value:function(e,t){Object(a.assert)(e);var r=t.to.split("/"),n=_slicedToArray(r,2),o=n[0],i=n[1];Object(a.assert)(i===this._client_id,"Services can only be accessed locally");var s=this._services[e];if(!s)throw new Error("Service not found: "+e);if("public"==s.config.visibility)return s;if(t.from.startsWith(o+"/"))return s;throw new Error("Permission denied for service: "+e)}},{key:"get_remote_service",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n,o,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0===r?this._method_timeout:r,!t&&this.manager_id?t=this.manager_id:t.includes(":")||(t=this._client_id+":"+t),n=t.split(":")[0],Object(a.assert)(n),e.prev=4,o=this._generate_remote_method({_rtarget:n,_rmethod:"services.built-in.get_service",_rpromise:!0,_rdoc:"Get a remote service",_rsig:"get_service(service_id)"}),e.next=8,Object(a.waitFor)(o(t.split(":")[1]),r,"Timeout Error: Failed to get remote service: "+t);case 8:return(i=e.sent).id=t,e.abrupt("return",i);case 13:throw e.prev=13,e.t0=e.catch(4),console.error("Failed to get remote service: "+t,e.t0),e.t0;case 17:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_annotate_service_methods",value:function(e,t,r,n,a){if("function"===typeof e){var o=t.split(".")[1];this._method_annotations.set(e,{require_context:Array.isArray(r)?r.includes(o):!!r,run_in_executor:n,method_id:"services."+t,visibility:a})}else if(e instanceof Array||e instanceof Object)for(var i=0,s=Object.keys(e);i<s.length;i++){var c=s[i],u=e[c];if("function"===typeof u&&u.__rpc_object__){var f=u.__rpc_object__._rtarget;if(f.includes("/")&&(f=f.split("/")[1]),this._client_id!==f)throw new Error("Local method not found: ".concat(u.__rpc_object__._rmethod,", client id mismatch ").concat(this._client_id," != ").concat(f));e instanceof Array&&(e=e.slice()),e[c]=l(this._object_store,u.__rpc_object__._rmethod),u=e[c]}this._annotate_service_methods(u,t+"."+c,r,n,a)}}},{key:"add_service",value:function(e,t){if(!e||Array.isArray(e))throw new Error("Invalid service object");if(e.constructor===Object)e=Object.assign({},e);else{var r,n={},o=Object.getOwnPropertyNames(e).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(e))),i=_createForOfIteratorHelper(o);try{for(i.s();!(r=i.n()).done;){var s=r.value;"constructor"!==s&&("function"===typeof e[s]?n[s]=e[s].bind(e):n[s]=e[s])}}catch(f){i.e(f)}finally{i.f()}e.id=e.id||"default",e=n}Object(a.assert)(e.id&&"string"===typeof e.id,"Service id not found: ".concat(e)),e.name||(e.name=e.id),e.config||(e.config={}),e.type||(e.type="generic");var c=!1,u=!1;e.config.require_context&&(c=e.config.require_context),e.config.run_in_executor&&(u=!0);var l=e.config.visibility||"protected";if(Object(a.assert)(["protected","public"].includes(l)),this._annotate_service_methods(e,e.id,c,u,l),this._services[e.id]){if(!t)throw new Error("Service already exists: ".concat(e.id,", please specify a different id (not ").concat(e.id,") or overwrite=true"));delete this._services[e.id]}return this._services[e.id]=e,e}},{key:"register_service",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n,o){var i,s,c,u,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=!0),o&&(i=o.to.split("/"),s=_slicedToArray(i,2),c=s[0],u=s[1],Object(a.assert)(u===this._client_id),Object(a.assert)(c===o.from.split("/")[0],"Services can only be registered from the same workspace")),l=this.add_service(t,r),!n){e.next=7;break}return this._fire("service-updated",{service_id:l.id,api:l,type:"add"}),e.next=7,this._notify_service_update();case 7:return e.abrupt("return",{id:"".concat(this._client_id,":").concat(l.id),type:l.type,name:l.name,description:l.description||"",config:l.config});case 8:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"unregister_service",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Object&&(t=t.id),this._services[t]){e.next=3;break}throw new Error("Service not found: ".concat(t));case 3:return n=this._services[t],delete this._services[t],this._fire("service-updated",{service_id:t,api:n,type:"remove"}),e.next=8,this._notify_service_update();case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_ndarray",value:function(e,t,r){var n=Object(a.typedArrayToDtype)(e);if(r&&r!==n)throw"dtype doesn't match the type of the array: "+n+" != "+r;return t=t||[e.length],{_rtype:"ndarray",_rvalue:e.buffer,_rshape:t,_rdtype:n}}},{key:"_encode_callback",value:function(e,t,r,n,a,o){var i="".concat(r,".").concat(e),s={_rtype:"method",_rtarget:o?"".concat(o,"/").concat(this._client_id):this._client_id,_rmethod:i,_rpromise:!1},c=this;return[s,function(){try{t.apply(null,Array.prototype.slice.call(arguments))}catch(e){console.error("Error in callback:",i,e)}finally{n&&c._object_store[r]&&delete c._object_store[r],a&&a.started&&a.clear()}}]}},{key:"_encode_promise",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n,o,i,s){var c,u,l,f,d,p;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=this._get_session_store(n,!0),Object(a.assert)(c,"Failed to create session store ".concat(n," due to invalid parent")),u={},!(i&&r&&this._method_timeout)){e.next=11;break}return e.next=6,this._encode(i.reset.bind(i),n,s);case 6:u.heartbeat=e.sent,u.interval=this._method_timeout/2,c.timer=i,e.next=12;break;case 11:i=null;case 12:return l=this._encode_callback("resolve",t,n,o,i,s),f=_slicedToArray(l,2),u.resolve=f[0],c.resolve=f[1],d=this._encode_callback("reject",r,n,o,i,s),p=_slicedToArray(d,2),u.reject=p[0],c.reject=p[1],e.abrupt("return",u);case 21:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,o,i){return e.apply(this,arguments)}}()},{key:"_send_chunks",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n){var o,i,c,u,l,f,d;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get_remote_service("".concat(r,":built-in"));case 2:return o=e.sent,Object(a.assert)(o.message_cache,"Remote client does not support message caching for long message."),i=o.message_cache,c=n||Object(a.randId)(),e.next=8,i.create(c,!!n);case 8:u=t.length,l=Math.ceil(u/s),f=0;case 11:if(!(f<l)){e.next=18;break}return d=f*s,e.next=15,i.append(c,t.slice(d,d+s),!!n);case 15:f++,e.next=11;break;case 18:return e.next=20,i.process(c,!!n);case 20:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_generate_remote_method",value:function(e,t,r,n,i){var s=e._rtarget;n&&!s.includes("/")&&(s=n+"/"+s,e._rtarget=s);var c=e._rmethod,u=e._rpromise,l=this;function f(){var e=arguments;return new Promise(function(){var n=_asyncToGenerator(_regeneratorRuntime().mark((function n(f,p){var h,m,v,_,y,g,b,w,k,x,j;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(h=Object(a.randId)(),r&&(h=r+"."+h),m=l._get_session_store(h,!0)){n.next=6;break}return p(new Error("Runtime Error: Failed to get session store ".concat(h))),n.abrupt("return");case 6:return m.target_id=s,n.next=9,l._encode(Array.prototype.slice.call(e),h,i);case 9:if(v=n.sent,_=v.length,(y=_>0&&"object"===typeof v[_-1]&&null!==v[_-1]&&v[_-1]._rkwargs)&&delete v[_-1]._rkwargs,g={type:"method",from:l._local_workspace?l._local_workspace+"/"+l._client_id:l._client_id,to:s,method:c},b={},v&&(b.args=v),y&&(b.with_kwargs=y),t&&(g.parent=t),w=null,!u){n.next=26;break}return g.session=h,k="".concat(s,":").concat(c),w=new d(l._method_timeout,p,["Method call time out: ".concat(k)],k),n.next=25,l._encode_promise(f,p,h,!0,w,i);case 25:b.promise=n.sent;case 26:x=Object(o.encode)(g),b&&(j=Object(o.encode)(b),x=new Uint8Array([].concat(_toConsumableArray(x),_toConsumableArray(j)))),x.length<=513024?l._emit_message(x).then((function(){w&&w.start()})):l._send_chunks(x,s,t).then((function(){w&&w.start()}));case 30:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}f.__rpc_object__=e;var p=c.split(".");return f.__name__=p[p.length-1],f.__doc__=e._rdoc,f.__sig__=e._rsig,f}},{key:"_notify_service_update",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.manager_id){e.next=12;break}return e.prev=1,e.next=4,this.get_manager_service(30);case 4:return Object(a.assert)(this._manager_service),e.next=7,this._manager_service.update_client_info(this.get_client_info());case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.warn("Failed to notify service update to",this.manager_id,e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"get_client_info",value:function(){for(var e=[],t=0,r=Object.values(this._services);t<r.length;t++){var n=r[t];e.push({id:"".concat(this._client_id,":").concat(n.id),type:n.type,name:n.name,description:n.description||"",config:n.config})}return{id:this._client_id,services:e}}},{key:"_handle_method",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,o,i,s,c,u,f,d,p,h,m,v,_;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,n=null,e.prev=2,Object(a.assert)(t.method&&t.ctx&&t.from),o=t.from+":"+t.method,i=t.from.split("/")[0],t.to=t.to.includes("/")?t.to:i+"/"+t.to,t.ctx.to=t.to,s=t.to.split("/")[0],c=t.parent,!t.promise){e.next=17;break}return e.next=13,this._decode(t.promise,t.session,c,i,s);case 13:d=e.sent,u=d.resolve,f=d.reject,d.heartbeat&&d.interval&&(p=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.heartbeat();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),n=setInterval(p,1e3*d.interval));case 17:e.prev=17,h=l(this._object_store,t.method),e.next=25;break;case 21:throw e.prev=21,e.t0=e.catch(17),console.debug("Failed to find method",o,e.t0),new Error("Method not found: ".concat(o));case 25:if(Object(a.assert)(h&&"function"===typeof h,"Invalid method: "+o),!this._method_annotations.has(h)){e.next=32;break}if("protected"!==this._method_annotations.get(h).visibility){e.next=30;break}if(s===i){e.next=30;break}throw new Error("Permission denied for protected method "+o+", workspace mismatch: "+s+" != "+i);case 30:e.next=36;break;case 32:if(m=this._object_store[t.method.split(".")[0]].target_id,s===i&&m&&-1===m.indexOf("/")&&(m=s+"/"+m),m===t.from){e.next=36;break}throw new Error("Access denied for method call ("+o+") from "+t.from);case 36:if(c&&Object(a.assert)(null!==this._get_session_store(c,!0),"Parent session was closed: "+c),!t.args){e.next=43;break}return e.next=40,this._decode(t.args,t.session,null,i,null);case 40:v=e.sent,e.next=44;break;case 43:v=[];case 44:this._method_annotations.has(h)&&this._method_annotations.get(h).require_context&&v.push(t.ctx),t.promise?(_=h.apply(null,v))instanceof Promise?_.then((function(e){u(e),clearInterval(n)})).catch((function(e){f(e),clearInterval(n)})):(u(_),clearInterval(n)):(h.apply(null,v),clearInterval(n)),e.next=52;break;case 48:e.prev=48,e.t1=e.catch(2),r?(r(e.t1),console.debug("Error during calling method: ",e.t1)):console.error("Error during calling method: ",e.t1),clearInterval(n);case 52:case"end":return e.stop()}}),e,this,[[2,48],[17,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"encode",value:function(e,t){return this._encode(e,t)}},{key:"_get_session_store",value:function(e,t){var r=this._object_store,n=e.split(".");if(t){var a,o=n.length-1,i=_createForOfIteratorHelper(n.slice(0,o));try{for(i.s();!(a=i.n()).done;){var s=a.value;if(!r[s])return null;r=r[s]}}catch(f){i.e(f)}finally{i.f()}return r[n[o]]||(r[n[o]]={}),r[n[o]]}var c,u=_createForOfIteratorHelper(n);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(!r[l])return null;r=r[l]}}catch(f){u.e(f)}finally{u.f()}return r}},{key:"_encode",value:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark((function t(r,n,o){var i,s,u,l,d,p,h,m,v,_,y,g,b,w,k,x,j,E,S,O,P,A,T,C;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("number"===(i=typeof r)||"string"===i||"boolean"===i||null===r||void 0===r||r instanceof Uint8Array)){t.next=3;break}return t.abrupt("return",r);case 3:if(!(r instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",{_rtype:"memoryview",_rvalue:new Uint8Array(r)});case 5:if(!r.__rpc_object__){t.next=7;break}return t.abrupt("return",r.__rpc_object__);case 7:if(!(r.constructor instanceof Object&&r._rtype)){t.next=15;break}return u=r._rtype,delete r._rtype,t.next=12,this._encode(r,n,o);case 12:return(s=t.sent)._rtype=u,t.abrupt("return",s);case 15:if("function"!==typeof r){t.next=21;break}if(this._method_annotations.has(r)?(l=this._method_annotations.get(r),s={_rtype:"method",_rtarget:this._client_id,_rmethod:l.method_id,_rpromise:!0}):(Object(a.assert)("string"===typeof n),d=r.__name__?"".concat(Object(a.randId)(),"-").concat(r.__name__):Object(a.randId)(),s={_rtype:"method",_rtarget:this._client_id,_rmethod:"".concat(n,".").concat(d),_rpromise:!0},p=this._get_session_store(n,!0),Object(a.assert)(null!==p,"Failed to create session store ".concat(n," due to invalid parent")),p[d]=r),s._rdoc=r.__doc__,s._rsig=r.__sig__,!s._rdoc||!s._rsig)try{(h=f(r))&&!s._rdoc&&(s._rdoc="".concat(h.doc)),h&&!s._rsig&&(s._rsig="".concat(h.name,"(").concat(h.sig,")"))}catch(e){console.error("Failed to extract function docstring:",r)}return t.abrupt("return",s);case 21:m=Array.isArray(r),v=0,_=Object.keys(this._codecs);case 23:if(!(v<_.length)){t.next=43;break}if(y=_[v],!((g=this._codecs[y]).encoder&&r instanceof g.type)){t.next=40;break}return t.next=29,Promise.resolve(g.encoder(r));case 29:if((b=t.sent)&&!b._rtype&&(b._rtype=g.name),"object"!==typeof b){t.next=38;break}return w=b._rtype,delete b._rtype,t.next=36,this._encode(b,n,o);case 36:(b=t.sent)._rtype=w;case 38:return s=b,t.abrupt("return",s);case 40:v++,t.next=23;break;case 43:if(!("undefined"!==typeof tf&&tf.Tensor&&r instanceof tf.Tensor)){t.next=48;break}k=r.dataSync(),s={_rtype:"ndarray",_rvalue:new Uint8Array(k.buffer),_rshape:r.shape,_rdtype:r.dtype},t.next=117;break;case 48:if(!("undefined"!==typeof nj&&nj.NdArray&&r instanceof nj.NdArray)){t.next=53;break}x=Object(a.typedArrayToDtype)(r.selection.data),s={_rtype:"ndarray",_rvalue:new Uint8Array(r.selection.data.buffer),_rshape:r.shape,_rdtype:x},t.next=117;break;case 53:if(!(r instanceof Error)){t.next=58;break}console.error(r),s={_rtype:"error",_rvalue:r.toString()},t.next=117;break;case 58:if(!(r!==Object(r)||r instanceof Boolean||r instanceof String||r instanceof Date||r instanceof RegExp||r instanceof ImageData||"undefined"!==typeof FileList&&r instanceof FileList||"undefined"!==typeof FileSystemDirectoryHandle&&r instanceof FileSystemDirectoryHandle||"undefined"!==typeof FileSystemFileHandle&&r instanceof FileSystemFileHandle||"undefined"!==typeof FileSystemHandle&&r instanceof FileSystemHandle||"undefined"!==typeof FileSystemWritableFileStream&&r instanceof FileSystemWritableFileStream)){t.next=62;break}s=r,t.next=117;break;case 62:if(!(r instanceof Blob)){t.next=79;break}return j=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?r.slice(S,S+t):r.slice(S),e.t0=Uint8Array,e.next=4,n.arrayBuffer();case 4:return e.t1=e.sent,a=new e.t0(e.t1),S+=a.byteLength,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e){S=e},S=0,t.t0=r.type,t.t1=r.name,t.t2=r.size,t.t3=r._path||r.webkitRelativePath,t.next=72,this._encode(j,n,o);case 72:return t.t4=t.sent,t.next=75,this._encode(E,n,o);case 75:t.t5=t.sent,s={_rtype:"iostream",_rnative:"js:blob",type:t.t0,name:t.t1,size:t.t2,path:t.t3,read:t.t4,seek:t.t5},t.next=117;break;case 79:if(!(r instanceof c)){t.next=84;break}O=Object(a.typedArrayToDtype)(r),s={_rtype:"typedarray",_rvalue:new Uint8Array(r.buffer),_rdtype:O},t.next=117;break;case 84:if(!(r instanceof DataView)){t.next=88;break}s={_rtype:"memoryview",_rvalue:new Uint8Array(r.buffer)},t.next=117;break;case 88:if(!(r instanceof Set)){t.next=95;break}return t.next=91,this._encode(Array.from(r),n,o);case 91:t.t6=t.sent,s={_rtype:"set",_rvalue:t.t6},t.next=117;break;case 95:if(!(r instanceof Map)){t.next=102;break}return t.next=98,this._encode(Array.from(r),n,o);case 98:t.t7=t.sent,s={_rtype:"orderedmap",_rvalue:t.t7},t.next=117;break;case 102:if(!(r.constructor instanceof Object||Array.isArray(r))){t.next=116;break}s=m?[]:{},P=Object.keys(r),A=0,T=P;case 106:if(!(A<T.length)){t.next=114;break}return C=T[A],t.next=110,this._encode(r[C],n,o);case 110:s[C]=t.sent;case 111:A++,t.next=106;break;case 114:t.next=117;break;case 116:throw"imjoy-rpc: Unsupported data type: ".concat(r,", you can register a custom codec to encode/decode the object.");case 117:if(s){t.next=119;break}throw new Error("Failed to encode object");case 119:return t.abrupt("return",s);case 120:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}()},{key:"decode",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._decode(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_decode",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n,o,i){var s,c,l,f,d,p,h,m,v,_,y,g,b,w,k,x;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",t);case 2:if(!t._rtype){e.next=88;break}if(!this._codecs[t._rtype]||!this._codecs[t._rtype].decoder){e.next=15;break}return c=t._rtype,delete t._rtype,e.next=8,this._decode(t,r,n,o,i);case 8:return(t=e.sent)._rtype=c,e.next=12,Promise.resolve(this._codecs[t._rtype].decoder(t));case 12:s=e.sent,e.next=86;break;case 15:if("method"!==t._rtype){e.next=19;break}s=this._generate_remote_method(t,r,n,o,i),e.next=86;break;case 19:if("ndarray"!==t._rtype){e.next=23;break}"undefined"!==typeof nj&&nj.array?(Array.isArray(t._rvalue)&&(t._rvalue=t._rvalue.reduce(u)),s=nj.array(new Uint8(t._rvalue),t._rdtype).reshape(t._rshape)):"undefined"!==typeof tf&&tf.Tensor?(Array.isArray(t._rvalue)&&(t._rvalue=t._rvalue.reduce(u)),l=a.dtypeToTypedArray[t._rdtype],s=tf.tensor(new l(t._rvalue),t._rshape,t._rdtype)):s=t,e.next=86;break;case 23:if("error"!==t._rtype){e.next=27;break}s=new Error(t._rvalue),e.next=86;break;case 27:if("typedarray"!==t._rtype){e.next=35;break}if(f=a.dtypeToTypedArray[t._rdtype]){e.next=31;break}throw new Error("unsupported dtype: "+t._rdtype);case 31:d=t._rvalue.buffer.slice(t._rvalue.byteOffset,t._rvalue.byteOffset+t._rvalue.byteLength),s=new f(d),e.next=86;break;case 35:if("memoryview"!==t._rtype){e.next=39;break}s=t._rvalue.buffer.slice(t._rvalue.byteOffset,t._rvalue.byteOffset+t._rvalue.byteLength),e.next=86;break;case 39:if("iostream"!==t._rtype){e.next=64;break}if("js:blob"!==t._rnative){e.next=50;break}return e.next=43,this._generate_remote_method(t.read,r,n,o,i);case 43:return p=e.sent,e.next=46,p();case 46:h=e.sent,s=new Blob([h],{type:t.type,name:t.name}),e.next=61;break;case 50:s={},m=0,v=Object.keys(t);case 52:if(!(m<v.length)){e.next=61;break}if((_=v[m]).startsWith("_")){e.next=58;break}return e.next=57,this._decode(t[_],r,n,o,i);case 57:s[_]=e.sent;case 58:m++,e.next=52;break;case 61:s.__rpc_object__=t,e.next=86;break;case 64:if("orderedmap"!==t._rtype){e.next=72;break}return e.t0=Map,e.next=68,this._decode(t._rvalue,r,n,o,i);case 68:e.t1=e.sent,s=new e.t0(e.t1),e.next=86;break;case 72:if("set"!==t._rtype){e.next=80;break}return e.t2=Set,e.next=76,this._decode(t._rvalue,r,n,o,i);case 76:e.t3=e.sent,s=new e.t2(e.t3),e.next=86;break;case 80:return y=t._rtype,delete t._rtype,e.next=84,this._decode(t,r,n,o,i);case 84:(s=e.sent)._rtype=y;case 86:e.next=105;break;case 88:if(t.constructor!==Object&&!Array.isArray(t)){e.next=104;break}g=Array.isArray(t),s=g?[]:{},b=0,w=Object.keys(t);case 92:if(!(b<w.length)){e.next=102;break}if(k=w[b],!g&&!t.hasOwnProperty(k)){e.next=99;break}return x=t[k],e.next=98,this._decode(x,r,n,o,i);case 98:s[k]=e.sent;case 99:b++,e.next=92;break;case 102:e.next=105;break;case 104:s=t;case 105:if(void 0!==s){e.next=107;break}throw new Error("Failed to decode object");case 107:return e.abrupt("return",s);case 108:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,o){return e.apply(this,arguments)}}()}]),n}(a.MessageEmitter)},"./src/hypha/utils.js":function srcHyphaUtilsJs(module,__nested_webpack_exports__,__nested_webpack_require_210561__){"use strict";function randId(){return Math.random().toString(36).substr(2,10)+(new Date).getTime()}__nested_webpack_require_210561__.r(__nested_webpack_exports__),__nested_webpack_require_210561__.d(__nested_webpack_exports__,"randId",(function(){return randId})),__nested_webpack_require_210561__.d(__nested_webpack_exports__,"dtypeToTypedArray",(function(){return dtypeToTypedArray})),__nested_webpack_require_210561__.d(__nested_webpack_exports__,"loadRequirementsInWindow",(function(){return loadRequirementsInWindow})),__nested_webpack_require_210561__.d(__nested_webpack_exports__,"loadRequirementsInWebworker",(function(){return loadRequirementsInWebworker})),__nested_webpack_require_210561__.d(__nested_webpack_exports__,"loadRequirements",(function(){return loadRequirements})),__nested_webpack_require_210561__.d(__nested_webpack_exports__,"normalizeConfig",(function(){return normalizeConfig})),__nested_webpack_require_210561__.d(__nested_webpack_exports__,"typedArrayToDtypeMapping",(function(){return typedArrayToDtypeMapping})),__nested_webpack_require_210561__.d(__nested_webpack_exports__,"typedArrayToDtype",(function(){return typedArrayToDtype})),__nested_webpack_require_210561__.d(__nested_webpack_exports__,"cacheRequirements",(function(){return cacheRequirements})),__nested_webpack_require_210561__.d(__nested_webpack_exports__,"setupServiceWorker",(function(){return setupServiceWorker})),__nested_webpack_require_210561__.d(__nested_webpack_exports__,"assert",(function(){return assert})),__nested_webpack_require_210561__.d(__nested_webpack_exports__,"urlJoin",(function(){return urlJoin})),__nested_webpack_require_210561__.d(__nested_webpack_exports__,"waitFor",(function(){return waitFor})),__nested_webpack_require_210561__.d(__nested_webpack_exports__,"MessageEmitter",(function(){return MessageEmitter}));var dtypeToTypedArray={int8:Int8Array,int16:Int16Array,int32:Int32Array,uint8:Uint8Array,uint16:Uint16Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array,array:Array};function loadRequirementsInWindow(e){return _loadRequirementsInWindow.apply(this,arguments)}function _loadRequirementsInWindow(){return _loadRequirementsInWindow=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a,o,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(){return a=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,a,o=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Array.prototype.slice.call(o),n=t.length,a=0;case 1:if(!(a<n)){e.next=7;break}return e.next=4,r(t[a]);case 4:a++,e.next=1;break;case 7:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)},n=function(){return a.apply(this,arguments)},r=function(e){return new Promise((function(t,r){var n=document.createElement("script");n.src=e,n.type="text/javascript",n.onload=t,n.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||t()},n.onerror=r,document.head.appendChild(n)}))},!t||!Array.isArray(t)&&"string"!==typeof t){e.next=46;break}if(e.prev=4,t="string"===typeof t?[t]:t,!Array.isArray(t)){e.next=40;break}i=0;case 8:if(!(i<t.length)){e.next=38;break}if(!t[i].toLowerCase().endsWith(".css")&&!t[i].startsWith("css:")){e.next=17;break}t[i].startsWith("css:")&&(t[i]=t[i].slice(4)),(o=document.createElement("link")).rel="stylesheet",o.href=t[i],document.head.appendChild(o),e.next=35;break;case 17:if(!t[i].toLowerCase().endsWith(".mjs")&&!t[i].startsWith("mjs:")){e.next=23;break}return t[i].startsWith("mjs:")&&(t[i]=t[i].slice(4)),e.next=21,import(t[i]);case 21:e.next=35;break;case 23:if(!t[i].toLowerCase().endsWith(".js")&&!t[i].startsWith("js:")){e.next=29;break}return t[i].startsWith("js:")&&(t[i]=t[i].slice(3)),e.next=27,n(t[i]);case 27:e.next=35;break;case 29:if(!t[i].startsWith("http")){e.next=34;break}return e.next=32,n(t[i]);case 32:e.next=35;break;case 34:t[i].startsWith("cache:")||console.log("Unprocessed requirements url: "+t[i]);case 35:i++,e.next=8;break;case 38:e.next=41;break;case 40:throw"unsupported requirements definition";case 41:e.next=46;break;case 43:throw e.prev=43,e.t0=e.catch(4),"failed to import required scripts: "+t.toString();case 46:case"end":return e.stop()}}),e,null,[[4,43]])}))),_loadRequirementsInWindow.apply(this,arguments)}function loadRequirementsInWebworker(e){return _loadRequirementsInWebworker.apply(this,arguments)}function _loadRequirementsInWebworker(){return(_loadRequirementsInWebworker=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!Array.isArray(t)&&"string"!==typeof t){e.next=18;break}e.prev=1,Array.isArray(t)||(t=[t]),r=0;case 4:if(!(r<t.length)){e.next=13;break}if(!t[r].toLowerCase().endsWith(".css")&&!t[r].startsWith("css:")){e.next=9;break}throw"unable to import css in a webworker";case 9:t[r].toLowerCase().endsWith(".js")||t[r].startsWith("js:")?(t[r].startsWith("js:")&&(t[r]=t[r].slice(3)),importScripts(t[r])):t[r].startsWith("http")?importScripts(t[r]):t[r].startsWith("cache:")||console.log("Unprocessed requirements url: "+t[r]);case 10:r++,e.next=4;break;case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(1),"failed to import required scripts: "+t.toString();case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function loadRequirements(e){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?loadRequirementsInWebworker(e):loadRequirementsInWindow(e)}function normalizeConfig(e){return e.version=e.version||"0.1.0",e.description=e.description||"[TODO: add description for ".concat(e.name," ]"),e.type=e.type||"rpc-window",e.id=e.id||randId(),e.target_origin=e.target_origin||"*",e.allow_execution=e.allow_execution||!1,e=Object.keys(e).reduce((function(t,r){return"function"!==typeof e[r]&&(t[r]=e[r]),t}),{})}for(var typedArrayToDtypeMapping={Int8Array:"int8",Int16Array:"int16",Int32Array:"int32",Uint8Array:"uint8",Uint16Array:"uint16",Uint32Array:"uint32",Float32Array:"float32",Float64Array:"float64",Array:"array"},typedArrayToDtypeKeys=[],_i9=0,_Object$keys6=Object.keys(typedArrayToDtypeMapping);_i9<_Object$keys6.length;_i9++){var arrType=_Object$keys6[_i9];typedArrayToDtypeKeys.push(eval(arrType))}function typedArrayToDtype(e){var t=typedArrayToDtypeMapping[e.constructor.name];if(!t){var r,n=Object.getPrototypeOf(e),a=_createForOfIteratorHelper(typedArrayToDtypeKeys);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(n instanceof o){t=typedArrayToDtypeMapping[o.name];break}}}catch(i){a.e(i)}finally{a.f()}}return t}function cacheUrlInServiceWorker(e){return new Promise((function(t,r){var n={command:"add",url:e};if(navigator.serviceWorker&&navigator.serviceWorker.register){var a=new MessageChannel;a.port1.onmessage=function(e){e.data&&e.data.error?r(e.data.error):t(e.data&&e.data.result)},navigator.serviceWorker&&navigator.serviceWorker.controller?navigator.serviceWorker.controller.postMessage(n,[a.port2]):r("Service worker controller is not available")}else r("Service worker is not supported.")}))}function cacheRequirements(e){return _cacheRequirements.apply(this,arguments)}function _cacheRequirements(){return(_cacheRequirements=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=t||[],Array.isArray(t)||(t=[t]),r=_createForOfIteratorHelper(t),e.prev=3,r.s();case 5:if((n=r.n()).done){e.next=16;break}if((a=n.value).startsWith("js:")&&(a=a.slice(3)),a.startsWith("css:")&&(a=a.slice(4)),a.startsWith("cache:")&&(a=a.slice(6)),a.startsWith("http")){e.next=12;break}return e.abrupt("continue",14);case 12:return e.next=14,cacheUrlInServiceWorker(a).catch((function(e){console.error(e)}));case 14:e.next=5;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,18,21,24]])})))).apply(this,arguments)}function setupServiceWorker(e,t,r){if("serviceWorker"in navigator){if(e=e||"/",navigator.serviceWorker.register(e+"plugin-service-worker.js").then((function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)}),(function(e){console.log("ServiceWorker registration failed: ",e)})),t=t||"*",(r=r||cacheRequirements)&&"function"!==typeof r)throw new Error("config.cache_requirements must be a function");window.addEventListener("message",(function(e){if("*"===t||e.origin===t){var n=e.data;"cacheRequirements"===n.type&&r(n.requirements)}}))}}function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}function urlJoin(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.join("/").replace(/[\/]+/g,"/").replace(/^(.+):\//,"$1://").replace(/^file:/,"file:/").replace(/\/(\?|&|#[^!])/g,"$1").replace(/\?/g,"&").replace("&","?")}function waitFor(e,t,r){var n;return Promise.race([e,new Promise((function(e,a){return n=setTimeout((function(){a(r||"Timeout Error")}),1e3*t)}))]).finally((function(){return clearTimeout(n)}))}var MessageEmitter=function(){function t(e){_classCallCheck(this,t),this._event_handlers={},this._once_handlers={},this._debug=e}return _createClass(t,[{key:"emit",value:function(){throw new Error("emit is not implemented")}},{key:"on",value:function(e,t){this._event_handlers[e]||(this._event_handlers[e]=[]),this._event_handlers[e].push(t)}},{key:"once",value:function(e,t){t.___event_run_once=!0,this.on(e,t)}},{key:"off",value:function(e,t){if(e||t){if(e&&!t)this._event_handlers[e]&&(this._event_handlers[e]=[]);else if(this._event_handlers[e]){var r=this._event_handlers[e].indexOf(t);r>=0&&this._event_handlers[e].splice(r,1)}}else this._event_handlers={}}},{key:"_fire",value:function(t,r){if(this._event_handlers[t])for(var n=this._event_handlers[t].length;n--;){var a=this._event_handlers[t][n];try{a(r)}catch(e){console.error(e)}finally{a.___event_run_once&&this._event_handlers[t].splice(n,1)}}else this._debug&&console.warn("unhandled event",t,r)}}]),t}()}})},module.exports=factory()},33322:function(module,__unused_webpack_exports,__webpack_require__){var _slicedToArray=__webpack_require__(27424).default,_regeneratorRuntime=__webpack_require__(17061).default,_asyncToGenerator=__webpack_require__(17156).default,_createForOfIteratorHelper=__webpack_require__(74704).default,_get=__webpack_require__(41588).default,_getPrototypeOf=__webpack_require__(73808).default,_wrapNativeSuper=__webpack_require__(33496).default,_classCallCheck=__webpack_require__(56690).default,_createClass=__webpack_require__(89728).default,_assertThisInitialized=__webpack_require__(66115).default,_inherits=__webpack_require__(61655).default,_createSuper=__webpack_require__(26389).default,factory;window,factory=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/socketIOMain.js")}({"./node_modules/@socket.io/base64-arraybuffer/dist/base64-arraybuffer.es5.js":function(e,t,r){"use strict";r.r(t),r.d(t,"decode",(function(){return s})),r.d(t,"encode",(function(){return i}));for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a="undefined"===typeof Uint8Array?[]:new Uint8Array(256),o=0;o<64;o++)a[n.charCodeAt(o)]=o;var i=function(e){var t,r=new Uint8Array(e),a=r.length,o="";for(t=0;t<a;t+=3)o+=n[r[t]>>2],o+=n[(3&r[t])<<4|r[t+1]>>4],o+=n[(15&r[t+1])<<2|r[t+2]>>6],o+=n[63&r[t+2]];return a%3===2?o=o.substring(0,o.length-1)+"=":a%3===1&&(o=o.substring(0,o.length-2)+"=="),o},s=function(e){var t,r,n,o,i,s=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),f=new Uint8Array(l);for(t=0;t<c;t+=4)r=a[e.charCodeAt(t)],n=a[e.charCodeAt(t+1)],o=a[e.charCodeAt(t+2)],i=a[e.charCodeAt(t+3)],f[u++]=r<<2|n>>4,f[u++]=(15&n)<<4|o>>2,f[u++]=(3&o)<<6|63&i;return l}},"./node_modules/@socket.io/component-emitter/index.mjs":function(e,t,r){"use strict";function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}r.r(t),r.d(t,"Emitter",(function(){return n})),n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<n.length;a++)if((r=n[a])===t||r.fn===t){n.splice(a,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var a=(r=r.slice(0)).length;n<a;++n)r[n].apply(this,t)}return this},n.prototype.emitReserved=n.prototype.emit,n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},"./node_modules/base64-js/index.js":function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),i=n[0],s=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,i,s)),l=0,f=s>0?i-4:i;for(r=0;r<f;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===s&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,o=[],i=16383,s=0,c=r-a;s<c;s+=i)o.push(u(e,s,s+i>c?c:s+i));return 1===a?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],a=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=i[s],a[i.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var a,o,i=[],s=t;s<r;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(n[(o=a)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return i.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},"./node_modules/buffer/index.js":function(t,r,n){"use strict";(function(t){var a=n("./node_modules/base64-js/index.js"),o=n("./node_modules/ieee754/index.js"),i=n("./node_modules/isarray/index.js");function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,r);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t),e}(e,t,r,n):"string"===typeof t?function(e,t,r){if("string"===typeof r&&""!==r||(r="utf8"),!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|m(t,r),a=(e=c(e,n)).write(t,r);return a!==n&&(e=e.slice(0,a)),e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|h(t.length);return 0===(e=c(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(n=t.length)!==n?c(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(f(t),e=c(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=c(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function m(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(n)return $(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return T(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function _(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,a){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,a);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,a);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,a){var o,i=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;i=2,s/=2,c/=2,r/=2}function u(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(a){var l=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*i}else-1!==l&&(o-=o-l),l=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){for(var f=!0,d=0;d<c;d++)if(u(e,o+d)!==u(t,d)){f=!1;break}if(f)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var i=0;i<n;++i){var s=parseInt(t.substr(2*i,2),16);if(isNaN(s))return i;e[r+i]=s}return i}function w(e,t,r,n){return B($(t,e.length-r),e,r,n)}function k(e,t,r,n){return B(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return k(e,t,r,n)}function j(e,t,r,n){return B(W(t),e,r,n)}function E(e,t,r,n){return B(function(e,t){for(var r,n,a,o=[],i=0;i<e.length&&!((t-=2)<0);++i)n=(r=e.charCodeAt(i))>>8,a=r%256,o.push(a),o.push(n);return o}(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);for(var n=[],a=t;a<r;){var o,i,s,c,u=e[a],l=null,f=u>239?4:u>223?3:u>191?2:1;if(a+f<=r)switch(f){case 1:u<128&&(l=u);break;case 2:128===(192&(o=e[a+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[a+1],i=e[a+2],128===(192&o)&&128===(192&i)&&(c=(15&u)<<12|(63&o)<<6|63&i)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[a+1],i=e[a+2],s=e[a+3],128===(192&o)&&128===(192&i)&&128===(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&i)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),a+=f}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=P));return r}(n)}r.Buffer=u,r.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},r.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),r.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return l(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return f(t),t<=0?c(e,t):void 0!==r?"string"===typeof n?c(e,t).fill(r,n):c(e,t).fill(r):c(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,a=0,o=Math.min(r,n);a<o;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var o=e[r];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,a),a+=o.length}return n},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,a){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||r>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=r)return 0;if(n>=a)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(a>>>=0)-(n>>>=0),i=(r>>>=0)-(t>>>=0),s=Math.min(o,i),c=this.slice(n,a),l=e.slice(t,r),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],i=l[f];break}return o<i?-1:i<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return k(this,e,t,r);case"latin1":case"binary":return x(this,e,t,r);case"base64":return j(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function A(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(127&e[a]);return n}function T(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(e[a]);return n}function C(e,t,r){var n,a=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>a)&&(r=a);for(var o="",i=t;i<r;++i)o+=(n=e[i])<16?"0"+n.toString(16):n.toString(16);return o}function R(e,t,r){for(var n=e.slice(t,r),a="",o=0;o<n.length;o+=2)a+=String.fromCharCode(n[o]+256*n[o+1]);return a}function I(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,a,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function F(e,t,r,n){t<0&&(t=65535+t+1);for(var a=0,o=Math.min(e.length-r,2);a<o;++a)e[r+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function N(e,t,r,n){t<0&&(t=4294967295+t+1);for(var a=0,o=Math.min(e.length-r,4);a<o;++a)e[r+a]=t>>>8*(n?a:3-a)&255}function M(e,t,r,n,a,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,a){return a||M(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function q(e,t,r,n,a){return a||M(e,0,r,8),o.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var a=t-e;r=new u(a,void 0);for(var o=0;o<a;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],a=1,o=0;++o<t&&(a*=256);)n+=this[e+o]*a;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],a=1,o=0;++o<t&&(a*=256);)n+=this[e+o]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=t,a=1,o=this[e+--n];n>0&&(a*=256);)o+=this[e+--n]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||D(this,e,t,r,Math.pow(2,8*r)-1,0);var a=1,o=0;for(this[t]=255&e;++o<r&&(a*=256);)this[t+o]=e/a&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||D(this,e,t,r,Math.pow(2,8*r)-1,0);var a=r-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);D(this,e,t,r,a-1,-a)}var o=0,i=1,s=0;for(this[t]=255&e;++o<r&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);D(this,e,t,r,a-1,-a)}var o=r-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return q(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return q(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var a,o=n-r;if(this===e&&r<t&&t<n)for(a=o-1;a>=0;--a)e[a+t]=this[a+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(o=t;o<r;++o)this[o]=e;else{var i=u.isBuffer(e)?e:$(new u(e,n).toString()),s=i.length;for(o=0;o<r-t;++o)this[o+t]=i[o%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function $(e,t){var r;t=t||1/0;for(var n=e.length,a=null,o=[],i=0;i<n;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(i+1===n){(t-=3)>-1&&o.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&(t-=3)>-1&&o.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function W(e){return a.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function B(e,t,r,n){for(var a=0;a<n&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/engine.io-client/build/esm/contrib/has-cors.js":function(e,t,r){"use strict";r.r(t),r.d(t,"hasCORS",(function(){return a}));var n=!1;try{n="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(o){}var a=n},"./node_modules/engine.io-client/build/esm/contrib/parseqs.js":function(e,t,r){"use strict";function n(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function a(e){for(var t={},r=e.split("&"),n=0,a=r.length;n<a;n++){var o=r[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}r.r(t),r.d(t,"encode",(function(){return n})),r.d(t,"decode",(function(){return a}))},"./node_modules/engine.io-client/build/esm/contrib/parseuri.js":function(e,t,r){"use strict";r.r(t),r.d(t,"parse",(function(){return o}));var n=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,a=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function o(e){var t=e,r=e.indexOf("["),o=e.indexOf("]");-1!=r&&-1!=o&&(e=e.substring(0,r)+e.substring(r,o).replace(/:/g,";")+e.substring(o,e.length));for(var i=n.exec(e||""),s={},c=14;c--;)s[a[c]]=i[c]||"";return-1!=r&&-1!=o&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){var r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1),"/"==t.slice(-1)&&n.splice(n.length-1,1),n}(0,s.path),s.queryKey=function(e,t){var r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,s.query),s}},"./node_modules/engine.io-client/build/esm/contrib/yeast.js":function(e,t,r){"use strict";r.r(t),r.d(t,"encode",(function(){return u})),r.d(t,"decode",(function(){return l})),r.d(t,"yeast",(function(){return f}));var n,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,i={},s=0,c=0;function u(e){var t="";do{t=a[e%o]+t,e=Math.floor(e/o)}while(e>0);return t}function l(e){var t=0;for(c=0;c<e.length;c++)t=t*o+i[e.charAt(c)];return t}function f(){var e=u(+new Date);return e!==n?(s=0,n=e):e+"."+u(s++)}for(;c<o;c++)i[a[c]]=c},"./node_modules/engine.io-client/build/esm/globalThis.browser.js":function(e,t,r){"use strict";r.r(t),r.d(t,"globalThisShim",(function(){return n}));var n="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")()},"./node_modules/engine.io-client/build/esm/index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"protocol",(function(){return u}));var n=r("./node_modules/engine.io-client/build/esm/socket.js");r.d(t,"Socket",(function(){return n.Socket}));var a=r("./node_modules/engine.io-client/build/esm/transport.js");r.d(t,"Transport",(function(){return a.Transport}));var o=r("./node_modules/engine.io-client/build/esm/transports/index.js");r.d(t,"transports",(function(){return o.transports}));var i=r("./node_modules/engine.io-client/build/esm/util.js");r.d(t,"installTimerFunctions",(function(){return i.installTimerFunctions}));var s=r("./node_modules/engine.io-client/build/esm/contrib/parseuri.js");r.d(t,"parse",(function(){return s.parse}));var c=r("./node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js");r.d(t,"nextTick",(function(){return c.nextTick}));var u=n.Socket.protocol},"./node_modules/engine.io-client/build/esm/socket.js":function(t,r,n){"use strict";n.r(r),n.d(r,"Socket",(function(){return l}));var a=n("./node_modules/engine.io-client/build/esm/transports/index.js"),o=n("./node_modules/engine.io-client/build/esm/util.js"),i=n("./node_modules/engine.io-client/build/esm/contrib/parseqs.js"),s=n("./node_modules/engine.io-client/build/esm/contrib/parseuri.js"),c=n("./node_modules/@socket.io/component-emitter/index.mjs"),u=n("./node_modules/engine.io-parser/build/esm/index.js"),l=function(t){_inherits(n,t);var r=_createSuper(n);function n(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,n),(t=r.call(this)).writeBuffer=[],e&&"object"===typeof e&&(a=e,e=null),e?(e=Object(s.parse)(e),a.hostname=e.host,a.secure="https"===e.protocol||"wss"===e.protocol,a.port=e.port,e.query&&(a.query=e.query)):a.host&&(a.hostname=Object(s.parse)(a.host).host),Object(o.installTimerFunctions)(_assertThisInitialized(t),a),t.secure=null!=a.secure?a.secure:"undefined"!==typeof location&&"https:"===location.protocol,a.hostname&&!a.port&&(a.port=t.secure?"443":"80"),t.hostname=a.hostname||("undefined"!==typeof location?location.hostname:"localhost"),t.port=a.port||("undefined"!==typeof location&&location.port?location.port:t.secure?"443":"80"),t.transports=a.transports||["polling","websocket"],t.writeBuffer=[],t.prevBufferLen=0,t.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},a),t.opts.path=t.opts.path.replace(/\/$/,"")+(t.opts.addTrailingSlash?"/":""),"string"===typeof t.opts.query&&(t.opts.query=Object(i.decode)(t.opts.query)),t.id=null,t.upgrades=null,t.pingInterval=null,t.pingTimeout=null,t.pingTimeoutTimer=null,"function"===typeof addEventListener&&(t.opts.closeOnBeforeunload&&(t.beforeunloadEventListener=function(){t.transport&&(t.transport.removeAllListeners(),t.transport.close())},addEventListener("beforeunload",t.beforeunloadEventListener,!1)),"localhost"!==t.hostname&&(t.offlineEventListener=function(){t.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",t.offlineEventListener,!1))),t.open(),t}return _createClass(n,[{key:"createTransport",value:function(e){var t=Object.assign({},this.opts.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);var r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new a.transports[e](r)}},{key:"open",value:function(){var t,r=this;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){r.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(e){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(e){return t.onClose("transport close",e)}))}},{key:"probe",value:function(e){var t=this,r=this.createTransport(e),a=!1;n.priorWebsocketSuccess=!1;var o=function(){a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",(function(e){if(!a)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,t.transport.pause((function(){a||"closed"!==t.readyState&&(f(),t.setTransport(r),r.send([{type:"upgrade"}]),t.emitReserved("upgrade",r),r=null,t.upgrading=!1,t.flush())}))}else{var o=new Error("probe error");o.transport=r.name,t.emitReserved("upgradeError",o)}})))};function i(){a||(a=!0,f(),r.close(),r=null)}var s=function(e){var n=new Error("probe error: "+e);n.transport=r.name,i(),t.emitReserved("upgradeError",n)};function c(){s("transport closed")}function u(){s("socket closed")}function l(e){r&&e.name!==r.name&&i()}var f=function(){r.removeListener("open",o),r.removeListener("error",s),r.removeListener("close",c),t.off("close",u),t.off("upgrading",l)};r.once("open",o),r.once("error",s),r.once("close",c),this.once("close",u),this.once("upgrading",l),r.open()}},{key:"onOpen",value:function(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var e=1,t=0;t<this.writeBuffer.length;t++){var r=this.writeBuffer[t].data;if(r&&(e+=Object(o.byteLength)(r)),t>0&&e>this.maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}},{key:"write",value:function(e,t,r){return this.sendPacket("message",e,t,r),this}},{key:"send",value:function(e,t,r){return this.sendPacket("message",e,t,r),this}},{key:"sendPacket",value:function(e,t,r,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var a={type:e,data:t,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),n&&this.once("flush",n),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),e.transport.close()},r=function r(){e.off("upgrade",r),e.off("upgradeError",r),t()},n=function(){e.once("upgrade",r),e.once("upgradeError",r)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?n():t()})):this.upgrading?n():t()),this}},{key:"onError",value:function(e){n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],r=0,n=e.length;r<n;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}]),n}(c.Emitter);l.protocol=u.protocol},"./node_modules/engine.io-client/build/esm/transport.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Transport",(function(){return s}));var n=r("./node_modules/engine.io-parser/build/esm/index.js"),a=r("./node_modules/@socket.io/component-emitter/index.mjs"),o=r("./node_modules/engine.io-client/build/esm/util.js"),i=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n,a){var o;return _classCallCheck(this,r),(o=t.call(this,e)).description=n,o.context=a,o.type="TransportError",o}return _createClass(r)}(_wrapNativeSuper(Error)),s=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),(n=t.call(this)).writable=!1,Object(o.installTimerFunctions)(_assertThisInitialized(n),e),n.opts=e,n.query=e.query,n.socket=e.socket,n}return _createClass(r,[{key:"onError",value:function(e,t,n){return _get(_getPrototypeOf(r.prototype),"emitReserved",this).call(this,"error",new i(e,t,n)),this}},{key:"open",value:function(){return this.readyState="opening",this.doOpen(),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,_get(_getPrototypeOf(r.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(e){var t=Object(n.decodePacket)(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){_get(_getPrototypeOf(r.prototype),"emitReserved",this).call(this,"packet",e)}},{key:"onClose",value:function(e){this.readyState="closed",_get(_getPrototypeOf(r.prototype),"emitReserved",this).call(this,"close",e)}},{key:"pause",value:function(e){}}]),r}(a.Emitter)},"./node_modules/engine.io-client/build/esm/transports/index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"transports",(function(){return a}));var n=r("./node_modules/engine.io-client/build/esm/transports/polling.js"),a={websocket:r("./node_modules/engine.io-client/build/esm/transports/websocket.js").WS,polling:n.Polling}},"./node_modules/engine.io-client/build/esm/transports/polling.js":function(t,r,n){"use strict";n.r(r),n.d(r,"Polling",(function(){return h})),n.d(r,"Request",(function(){return m}));var a=n("./node_modules/engine.io-client/build/esm/transport.js"),o=n("./node_modules/engine.io-client/build/esm/contrib/yeast.js"),i=n("./node_modules/engine.io-client/build/esm/contrib/parseqs.js"),s=n("./node_modules/engine.io-parser/build/esm/index.js"),c=n("./node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js"),u=n("./node_modules/@socket.io/component-emitter/index.mjs"),l=n("./node_modules/engine.io-client/build/esm/util.js"),f=n("./node_modules/engine.io-client/build/esm/globalThis.browser.js");function d(){}var p=null!=new c.XHR({xdomain:!1}).responseType,h=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;if(_classCallCheck(this,r),(n=t.call(this,e)).polling=!1,"undefined"!==typeof location){var a="https:"===location.protocol,o=location.port;o||(o=a?"443":"80"),n.xd="undefined"!==typeof location&&e.hostname!==location.hostname||o!==e.port,n.xs=e.secure!==a}var i=e&&e.forceBase64;return n.supportsBinary=p&&!i,n}return _createClass(r,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var r=function(){t.readyState="paused",e()};if(this.polling||!this.writable){var n=0;this.polling&&(n++,this.once("pollComplete",(function(){--n||r()}))),this.writable||(n++,this.once("drain",(function(){--n||r()})))}else r()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(e){var t=this;Object(s.decodePayload)(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose({description:"transport closed by the server"}),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,Object(s.encodePayload)(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emitReserved("drain")}))}))}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",r="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Object(o.yeast)()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);var n=Object(i.encode)(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new m(this.uri(),e)}},{key:"doWrite",value:function(e,t){var r=this,n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(function(e,t){r.onError("xhr post error",e,t)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t,r){e.onError("xhr poll error",t,r)})),this.pollXhr=t}}]),r}(a.Transport),m=function(t){_inherits(n,t);var r=_createSuper(n);function n(e,t){var a;return _classCallCheck(this,n),a=r.call(this),Object(l.installTimerFunctions)(_assertThisInitialized(a),t),a.opts=t,a.method=t.method||"GET",a.uri=e,a.async=!1!==t.async,a.data=void 0!==t.data?t.data:null,a.create(),a}return _createClass(n,[{key:"create",value:function(){var t=this,r=Object(l.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd,r.xscheme=!!this.opts.xs;var a=this.xhr=new c.XHR(r);try{a.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var o in a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&a.setRequestHeader(o,this.opts.extraHeaders[o])}catch(e){}if("POST"===this.method)try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{a.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in a&&(a.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(a.timeout=this.opts.requestTimeout),a.onreadystatechange=function(){4===a.readyState&&(200===a.status||1223===a.status?t.onLoad():t.setTimeoutFn((function(){t.onError("number"===typeof a.status?a.status:0)}),0))},a.send(this.data)}catch(e){return void this.setTimeoutFn((function(){t.onError(e)}),0)}"undefined"!==typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onError",value:function(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(t){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=d,t)try{this.xhr.abort()}catch(e){}"undefined"!==typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}]),n}(u.Emitter);if(m.requestsCount=0,m.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",_);else if("function"===typeof addEventListener){var v="onpagehide"in f.globalThisShim?"pagehide":"unload";addEventListener(v,_,!1)}function _(){for(var e in m.requests)m.requests.hasOwnProperty(e)&&m.requests[e].abort()}},"./node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js":function(e,t,r){"use strict";r.r(t),r.d(t,"nextTick",(function(){return a})),r.d(t,"WebSocket",(function(){return o})),r.d(t,"usingBrowserWebSocket",(function(){return i})),r.d(t,"defaultBinaryType",(function(){return s}));var n=r("./node_modules/engine.io-client/build/esm/globalThis.browser.js"),a="function"===typeof Promise&&"function"===typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},o=n.globalThisShim.WebSocket||n.globalThisShim.MozWebSocket,i=!0,s="arraybuffer"},"./node_modules/engine.io-client/build/esm/transports/websocket.js":function(t,r,n){"use strict";n.r(r),function(t){n.d(r,"WS",(function(){return f}));var a=n("./node_modules/engine.io-client/build/esm/transport.js"),o=n("./node_modules/engine.io-client/build/esm/contrib/parseqs.js"),i=n("./node_modules/engine.io-client/build/esm/contrib/yeast.js"),s=n("./node_modules/engine.io-client/build/esm/util.js"),c=n("./node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js"),u=n("./node_modules/engine.io-parser/build/esm/index.js"),l="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),f=function(r){_inherits(a,r);var n=_createSuper(a);function a(e){var t;return _classCallCheck(this,a),(t=n.call(this,e)).supportsBinary=!e.forceBase64,t}return _createClass(a,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,r=l?{}:Object(s.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=c.usingBrowserWebSocket&&!l?t?new c.WebSocket(e,t):new c.WebSocket(e):new c.WebSocket(e,t,r)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType||c.defaultBinaryType,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=function(t){return e.onClose({description:"websocket connection closed",context:t})},this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(r){var n=this;this.writable=!1;for(var a=function(){var a=r[o],i=o===r.length-1;Object(u.encodePacket)(a,n.supportsBinary,(function(r){var o={};c.usingBrowserWebSocket||(a.options&&(o.compress=a.options.compress),n.opts.perMessageDeflate&&("string"===typeof r?t.byteLength(r):r.length)<n.opts.perMessageDeflate.threshold&&(o.compress=!1));try{c.usingBrowserWebSocket?n.ws.send(r):n.ws.send(r,o)}catch(e){}i&&Object(c.nextTick)((function(){n.writable=!0,n.emitReserved("drain")}),n.setTimeoutFn)}))},o=0;o<r.length;o++)a()}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",r="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Object(i.yeast)()),this.supportsBinary||(e.b64=1);var n=Object(o.encode)(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}},{key:"check",value:function(){return!!c.WebSocket}}]),a}(a.Transport)}.call(this,n("./node_modules/buffer/index.js").Buffer)},"./node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js":function(t,r,n){"use strict";n.r(r),n.d(r,"XHR",(function(){return i}));var a=n("./node_modules/engine.io-client/build/esm/contrib/has-cors.js"),o=n("./node_modules/engine.io-client/build/esm/globalThis.browser.js");function i(t){var r=t.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!r||a.hasCORS))return new XMLHttpRequest}catch(e){}if(!r)try{return new(o.globalThisShim[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},"./node_modules/engine.io-client/build/esm/util.js":function(e,t,r){"use strict";r.r(t),r.d(t,"pick",(function(){return a})),r.d(t,"installTimerFunctions",(function(){return s})),r.d(t,"byteLength",(function(){return u}));var n=r("./node_modules/engine.io-client/build/esm/globalThis.browser.js");function a(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((function(t,r){return e.hasOwnProperty(r)&&(t[r]=e[r]),t}),{})}var o=n.globalThisShim.setTimeout,i=n.globalThisShim.clearTimeout;function s(e,t){t.useNativeTimers?(e.setTimeoutFn=o.bind(n.globalThisShim),e.clearTimeoutFn=i.bind(n.globalThisShim)):(e.setTimeoutFn=n.globalThisShim.setTimeout.bind(n.globalThisShim),e.clearTimeoutFn=n.globalThisShim.clearTimeout.bind(n.globalThisShim))}var c=1.33;function u(e){return"string"===typeof e?function(e){for(var t=0,r=0,n=0,a=e.length;n<a;n++)(t=e.charCodeAt(n))<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(e):Math.ceil((e.byteLength||e.size)*c)}},"./node_modules/engine.io-parser/build/esm/commons.js":function(e,t,r){"use strict";r.r(t),r.d(t,"PACKET_TYPES",(function(){return n})),r.d(t,"PACKET_TYPES_REVERSE",(function(){return a})),r.d(t,"ERROR_PACKET",(function(){return o}));var n=Object.create(null);n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";var a=Object.create(null);Object.keys(n).forEach((function(e){a[n[e]]=e}));var o={type:"error",data:"parser error"}},"./node_modules/engine.io-parser/build/esm/decodePacket.browser.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/engine.io-parser/build/esm/commons.js"),a=r("./node_modules/@socket.io/base64-arraybuffer/dist/base64-arraybuffer.es5.js"),o="function"===typeof ArrayBuffer,i=function(e,t){if(o){var r=Object(a.decode)(e);return s(r,t)}return{base64:!0,data:e}},s=function(e,t){return"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e};t.default=function(e,t){if("string"!==typeof e)return{type:"message",data:s(e,t)};var r=e.charAt(0);return"b"===r?{type:"message",data:i(e.substring(1),t)}:n.PACKET_TYPES_REVERSE[r]?e.length>1?{type:n.PACKET_TYPES_REVERSE[r],data:e.substring(1)}:{type:n.PACKET_TYPES_REVERSE[r]}:n.ERROR_PACKET}},"./node_modules/engine.io-parser/build/esm/encodePacket.browser.js":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/engine.io-parser/build/esm/commons.js"),a="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),o="function"===typeof ArrayBuffer,i=function(e,t){var r=new FileReader;return r.onload=function(){var e=r.result.split(",")[1];t("b"+e)},r.readAsDataURL(e)};t.default=function(e,t,r){var s,c=e.type,u=e.data;return a&&u instanceof Blob?t?r(u):i(u,r):o&&(u instanceof ArrayBuffer||(s=u,"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer))?t?r(u):i(new Blob([u]),r):r(n.PACKET_TYPES[c]+(u||""))}},"./node_modules/engine.io-parser/build/esm/index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"protocol",(function(){return c})),r.d(t,"encodePayload",(function(){return i})),r.d(t,"decodePayload",(function(){return s}));var n=r("./node_modules/engine.io-parser/build/esm/encodePacket.browser.js");r.d(t,"encodePacket",(function(){return n.default}));var a=r("./node_modules/engine.io-parser/build/esm/decodePacket.browser.js");r.d(t,"decodePacket",(function(){return a.default}));var o=String.fromCharCode(30),i=function(e,t){var r=e.length,a=new Array(r),i=0;e.forEach((function(e,s){Object(n.default)(e,!1,(function(e){a[s]=e,++i===r&&t(a.join(o))}))}))},s=function(e,t){for(var r=e.split(o),n=[],i=0;i<r.length;i++){var s=Object(a.default)(r[i],t);if(n.push(s),"error"===s.type)break}return n},c=4},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,r,n,a){var o,i,s=8*a-n-1,c=(1<<s)-1,u=c>>1,l=-7,f=r?a-1:0,d=r?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(i=o&(1<<-l)-1,o>>=-l,l+=n;l>0;i=256*i+e[t+f],f+=d,l-=8);if(0===o)o=1-u;else{if(o===c)return i?NaN:1/0*(p?-1:1);i+=Math.pow(2,n),o-=u}return(p?-1:1)*i*Math.pow(2,o-n)},t.write=function(e,t,r,n,a,o){var i,s,c,u=8*o-a-1,l=(1<<u)-1,f=l>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=l):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),(t+=i+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(i++,c/=2),i+f>=l?(s=0,i=l):i+f>=1?(s=(t*c-1)*Math.pow(2,a),i+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,a),i=0));a>=8;e[r+p]=255&s,p+=h,s/=256,a-=8);for(i=i<<a|s,u+=a;u>0;e[r+p]=255&i,p+=h,i/=256,u-=8);e[r+p-h]|=128*m}},"./node_modules/isarray/index.js":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},"./node_modules/socket.io-client/build/esm/contrib/backo2.js":function(e,t,r){"use strict";function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}r.r(t),r.d(t,"Backoff",(function(){return n})),n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},"./node_modules/socket.io-client/build/esm/index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"io",(function(){return c})),r.d(t,"connect",(function(){return c})),r.d(t,"default",(function(){return c}));var n=r("./node_modules/socket.io-client/build/esm/url.js"),a=r("./node_modules/socket.io-client/build/esm/manager.js");r.d(t,"Manager",(function(){return a.Manager}));var o=r("./node_modules/socket.io-client/build/esm/socket.js");r.d(t,"Socket",(function(){return o.Socket}));var i=r("./node_modules/socket.io-parser/build/esm/index.js");r.d(t,"protocol",(function(){return i.protocol}));var s={};function c(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var r,o=Object(n.url)(e,t.path||"/socket.io"),i=o.source,c=o.id,u=o.path,l=s[c]&&u in s[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||l?r=new a.Manager(i,t):(s[c]||(s[c]=new a.Manager(i,t)),r=s[c]),o.query&&!t.query&&(t.query=o.queryKey),r.socket(o.path,t)}Object.assign(c,{Manager:a.Manager,Socket:o.Socket,io:c,connect:c})},"./node_modules/socket.io-client/build/esm/manager.js":function(t,r,n){"use strict";n.r(r),n.d(r,"Manager",(function(){return u}));var a=n("./node_modules/engine.io-client/build/esm/index.js"),o=n("./node_modules/socket.io-client/build/esm/socket.js"),i=n("./node_modules/socket.io-parser/build/esm/index.js"),s=n("./node_modules/socket.io-client/build/esm/on.js"),c=n("./node_modules/socket.io-client/build/esm/contrib/backo2.js"),u=function(t){_inherits(n,t);var r=_createSuper(n);function n(e,t){var o,s;_classCallCheck(this,n),(o=r.call(this)).nsps={},o.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",o.opts=t,Object(a.installTimerFunctions)(_assertThisInitialized(o),t),o.reconnection(!1!==t.reconnection),o.reconnectionAttempts(t.reconnectionAttempts||1/0),o.reconnectionDelay(t.reconnectionDelay||1e3),o.reconnectionDelayMax(t.reconnectionDelayMax||5e3),o.randomizationFactor(null!==(s=t.randomizationFactor)&&void 0!==s?s:.5),o.backoff=new c.Backoff({min:o.reconnectionDelay(),max:o.reconnectionDelayMax(),jitter:o.randomizationFactor()}),o.timeout(null==t.timeout?2e4:t.timeout),o._readyState="closed",o.uri=e;var u=t.parser||i;return o.encoder=new u.Encoder,o.decoder=new u.Decoder,o._autoConnect=!1!==t.autoConnect,o._autoConnect&&o.open(),o}return _createClass(n,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new a.Socket(this.uri,this.opts);var r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;var o=Object(s.on)(r,"open",(function(){n.onopen(),e&&e()})),i=Object(s.on)(r,"error",(function(r){n.cleanup(),n._readyState="closed",t.emitReserved("error",r),e?e(r):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;0===c&&o();var u=this.setTimeoutFn((function(){o(),r.close(),r.emit("error",new Error("timeout"))}),c);this.opts.autoUnref&&u.unref(),this.subs.push((function(){clearTimeout(u)}))}return this.subs.push(o),this.subs.push(i),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(Object(s.on)(e,"ping",this.onping.bind(this)),Object(s.on)(e,"data",this.ondata.bind(this)),Object(s.on)(e,"error",this.onerror.bind(this)),Object(s.on)(e,"close",this.onclose.bind(this)),Object(s.on)(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}},{key:"ondecoded",value:function(e){var t=this;Object(a.nextTick)((function(){t.emitReserved("packet",e)}),this.setTimeoutFn)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new o.Socket(this,e,t),this.nsps[e]=r),r}},{key:"_destroy",value:function(e){for(var t=0,r=Object.keys(this.nsps);t<r.length;t++){var n=r[t];if(this.nsps[n].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),r=0;r<t.length;r++)this.engine.write(t[r],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var r=this.backoff.duration();this._reconnecting=!0;var n=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(r){r?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",r)):t.onreconnect()})))}),r);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),n}(n("./node_modules/@socket.io/component-emitter/index.mjs").Emitter)},"./node_modules/socket.io-client/build/esm/on.js":function(e,t,r){"use strict";function n(e,t,r){return e.on(t,r),function(){e.off(t,r)}}r.r(t),r.d(t,"on",(function(){return n}))},"./node_modules/socket.io-client/build/esm/socket.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Socket",(function(){return s}));var n=r("./node_modules/socket.io-parser/build/esm/index.js"),a=r("./node_modules/socket.io-client/build/esm/on.js"),o=r("./node_modules/@socket.io/component-emitter/index.mjs"),i=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),s=function(e){_inherits(r,e);var t=_createSuper(r);function r(e,n,a){var o;return _classCallCheck(this,r),(o=t.call(this)).connected=!1,o.recovered=!1,o.receiveBuffer=[],o.sendBuffer=[],o._queue=[],o._queueSeq=0,o.ids=0,o.acks={},o.flags={},o.io=e,o.nsp=n,a&&a.auth&&(o.auth=a.auth),o._opts=Object.assign({},a),o.io._autoConnect&&o.open(),o}return _createClass(r,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[Object(a.on)(e,"open",this.onopen.bind(this)),Object(a.on)(e,"packet",this.onpacket.bind(this)),Object(a.on)(e,"error",this.onerror.bind(this)),Object(a.on)(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(i.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;var o={type:n.PacketType.EVENT,data:r,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof r[r.length-1]){var s=this.ids++,c=r.pop();this._registerAckCallback(s,c),o.id=s}var u=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!u||!this.connected)||(this.connected?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var r,n=this,a=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0!==a){var o=this.io.setTimeoutFn((function(){delete n.acks[e];for(var r=0;r<n.sendBuffer.length;r++)n.sendBuffer[r].id===e&&n.sendBuffer.splice(r,1);t.call(n,new Error("operation has timed out"))}),a);this.acks[e]=function(){n.io.clearTimeoutFn(o);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];t.apply(n,[null].concat(r))}}else this.acks[e]=t}},{key:"emitWithAck",value:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var o=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((function(r,a){n.push((function(e,t){return o?e?a(e):r(t):r(e)})),t.emit.apply(t,[e].concat(n))}))}},{key:"_addToQueue",value:function(e){var t,r=this;"function"===typeof e[e.length-1]&&(t=e.pop());var n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(n===r._queue[0]){if(null!==e)n.tryCount>r._opts.retries&&(r._queue.shift(),t&&t(e));else if(r._queue.shift(),t){for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];t.apply(void 0,[null].concat(o))}return n.pending=!1,r._drainQueue()}})),this._queue.push(n),this._drainQueue()}},{key:"_drainQueue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.connected&&0!==this._queue.length){var t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}},{key:"_sendConnectPacket",value:function(e){this.packet({type:n.PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case n.PacketType.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case n.PacketType.EVENT:case n.PacketType.BINARY_EVENT:this.onevent(e);break;case n.PacketType.ACK:case n.PacketType.BINARY_ACK:this.onack(e);break;case n.PacketType.DISCONNECT:this.ondisconnect();break;case n.PacketType.CONNECT_ERROR:this.destroy();var t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,n=this._anyListeners.slice(),a=_createForOfIteratorHelper(n);try{for(a.s();!(t=a.n()).done;)t.value.apply(this,e)}catch(o){a.e(o)}finally{a.f()}}_get(_getPrototypeOf(r.prototype),"emit",this).apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}},{key:"ack",value:function(e){var t=this,r=!1;return function(){if(!r){r=!0;for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];t.packet({type:n.PacketType.ACK,id:e,data:o})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){e.notifyOutgoingListeners(t),e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:n.PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}},{key:"prependAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}},{key:"offAnyOutgoing",value:function(e){if(!this._anyOutgoingListeners)return this;if(e){for(var t=this._anyOutgoingListeners,r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var t,r=this._anyOutgoingListeners.slice(),n=_createForOfIteratorHelper(r);try{for(n.s();!(t=n.n()).done;)t.value.apply(this,e.data)}catch(a){n.e(a)}finally{n.f()}}}}]),r}(o.Emitter)},"./node_modules/socket.io-client/build/esm/url.js":function(e,t,r){"use strict";r.r(t),r.d(t,"url",(function(){return a}));var n=r("./node_modules/engine.io-client/build/esm/index.js");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,a=e;r=r||"undefined"!==typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof r?r.protocol+"//"+e:"https://"+e),a=Object(n.parse)(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";var o=-1!==a.host.indexOf(":")?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+o+":"+a.port+t,a.href=a.protocol+"://"+o+(r&&r.port===a.port?"":":"+a.port),a}},"./node_modules/socket.io-parser/build/esm/binary.js":function(e,t,r){"use strict";r.r(t),r.d(t,"deconstructPacket",(function(){return a})),r.d(t,"reconstructPacket",(function(){return i}));var n=r("./node_modules/socket.io-parser/build/esm/is-binary.js");function a(e){var t=[],r=e.data,n=e;return n.data=o(r,t),n.attachments=t.length,{packet:n,buffers:t}}function o(e,t){if(!e)return e;if(Object(n.isBinary)(e)){var r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){for(var a=new Array(e.length),i=0;i<e.length;i++)a[i]=o(e[i],t);return a}if("object"===typeof e&&!(e instanceof Date)){var s={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(s[c]=o(e[c],t));return s}return e}function i(e,t){return e.data=s(e.data,t),delete e.attachments,e}function s(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=s(e[r],t);else if("object"===typeof e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=s(e[n],t));return e}},"./node_modules/socket.io-parser/build/esm/index.js":function(t,r,n){"use strict";n.r(r),n.d(r,"protocol",(function(){return u})),n.d(r,"PacketType",(function(){return a})),n.d(r,"Encoder",(function(){return l})),n.d(r,"Decoder",(function(){return d}));var a,o=n("./node_modules/@socket.io/component-emitter/index.mjs"),i=n("./node_modules/socket.io-parser/build/esm/binary.js"),s=n("./node_modules/socket.io-parser/build/esm/is-binary.js"),c=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],u=5;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(a||(a={}));var l=function(){function e(t){_classCallCheck(this,e),this.replacer=t}return _createClass(e,[{key:"encode",value:function(e){return e.type!==a.EVENT&&e.type!==a.ACK||!Object(s.hasBinary)(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===a.EVENT?a.BINARY_EVENT:a.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==a.BINARY_EVENT&&e.type!==a.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}},{key:"encodeAsBinary",value:function(e){var t=Object(i.deconstructPacket)(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}}]),e}();function f(e){return"[object Object]"===Object.prototype.toString.call(e)}var d=function(t){_inherits(n,t);var r=_createSuper(n);function n(e){var t;return _classCallCheck(this,n),(t=r.call(this)).reviver=e,t}return _createClass(n,[{key:"add",value:function(e){var t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");var r=(t=this.decodeString(e)).type===a.BINARY_EVENT;r||t.type===a.BINARY_ACK?(t.type=r?a.EVENT:a.ACK,this.reconstructor=new p(t),0===t.attachments&&_get(_getPrototypeOf(n.prototype),"emitReserved",this).call(this,"decoded",t)):_get(_getPrototypeOf(n.prototype),"emitReserved",this).call(this,"decoded",t)}else{if(!Object(s.isBinary)(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,_get(_getPrototypeOf(n.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,r={type:Number(e.charAt(0))};if(void 0===a[r.type])throw new Error("unknown packet type "+r.type);if(r.type===a.BINARY_EVENT||r.type===a.BINARY_ACK){for(var o=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var i=e.substring(o,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(t+1)){for(var s=t+1;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(s,t)}else r.nsp="/";var c=e.charAt(t+1);if(""!==c&&Number(c)==c){for(var u=t+1;++t;){var l=e.charAt(t);if(null==l||Number(l)!=l){--t;break}if(t===e.length)break}r.id=Number(e.substring(u,t+1))}if(e.charAt(++t)){var f=this.tryParse(e.substr(t));if(!n.isPayloadValid(r.type,f))throw new Error("invalid payload");r.data=f}return r}},{key:"tryParse",value:function(t){try{return JSON.parse(t,this.reviver)}catch(e){return!1}}},{key:"destroy",value:function(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case a.CONNECT:return f(t);case a.DISCONNECT:return void 0===t;case a.CONNECT_ERROR:return"string"===typeof t||f(t);case a.EVENT:case a.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===c.indexOf(t[0]));case a.ACK:case a.BINARY_ACK:return Array.isArray(t)}}}]),n}(o.Emitter),p=function(){function e(t){_classCallCheck(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return _createClass(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=Object(i.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}()},"./node_modules/socket.io-parser/build/esm/is-binary.js":function(e,t,r){"use strict";r.r(t),r.d(t,"isBinary",(function(){return c})),r.d(t,"hasBinary",(function(){return u}));var n="function"===typeof ArrayBuffer,a=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer},o=Object.prototype.toString,i="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===o.call(Blob),s="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===o.call(File);function c(e){return n&&(e instanceof ArrayBuffer||a(e))||i&&e instanceof Blob||s&&e instanceof File}function u(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(var r=0,n=e.length;r<n;r++)if(u(e[r]))return!0;return!1}if(c(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return u(e.toJSON(),!0);for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&u(e[a]))return!0;return!1}},"./node_modules/webpack/buildin/global.js":function(t,r){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===typeof window&&(n=window)}t.exports=n},"./node_modules/worker-loader/dist/workers/InlineWorker.js":function(t,r,n){"use strict";var a=window.URL||window.webkitURL;t.exports=function(t,r){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),n=n.getBlob()}catch(e){n=new Blob([t])}return new Worker(a.createObjectURL(n))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(e){if(!r)throw Error("Inline worker is not supported");return new Worker(r)}}},"./package.json":function(e){e.exports=JSON.parse('{"name":"imjoy-rpc","version":"0.5.44","description":"Remote procedure calls for ImJoy.","module":"index.js","types":"index.d.ts","scripts":{"build":"rm -rf dist && npm run build-umd","build-umd":"webpack --config webpack.config.js --mode development && NODE_ENV=production webpack --config webpack.config.js --mode production --devtool source-map ","watch":"NODE_ENV=production webpack --watch --progress --config webpack.config.js --mode production --devtool source-map","publish-npm":"npm install && npm run build && npm publish","serve":"webpack-dev-server","stats":"webpack --profile --json > stats.json","stats-prod":"webpack --profile --json --mode production > stats-prod.json","analyze":"webpack-bundle-analyzer -p 9999 stats.json","analyze-prod":"webpack-bundle-analyzer -p 9999 stats-prod.json","clean":"rimraf dist/*","deploy":"npm run build && node deploy-site.js","format":"prettier --write \\"{src,tests}/**/**\\"","check-format":"prettier --check \\"{src,tests}/**/**\\"","test":"karma start --single-run --browsers ChromeHeadless,FirefoxHeadless karma.conf.js","test-watch":"karma start --auto-watch --browsers ChromeDebugging karma.conf.js --debug"},"repository":{"type":"git","url":"git+https://github.com/imjoy-team/imjoy-rpc.git"},"keywords":["imjoy","rpc"],"author":"imjoy-team <imjoy.team@gmail.com>","license":"MIT","bugs":{"url":"https://github.com/imjoy-team/imjoy-rpc/issues"},"homepage":"https://github.com/imjoy-team/imjoy-rpc","dependencies":{"@msgpack/msgpack":"^2.7.1","socket.io-client":"^4.6.2"},"devDependencies":{"@babel/core":"^7.16.12","@babel/plugin-syntax-dynamic-import":"^7.8.3","@babel/polyfill":"^7.12.1","@babel/preset-env":"^7.16.11","@types/requirejs":"^2.1.34","babel-core":"^6.26.0","babel-eslint":"^10.1.0","babel-loader":"^8.2.3","babel-runtime":"^6.26.0","chai":"^4.3.6","clean-webpack-plugin":"^0.1.19","copy-webpack-plugin":"^5.1.2","eslint":"^6.8.0","eslint-config-prettier":"^4.2.0","eslint-loader":"^4.0.2","file-loader":"^0.11.2","fs-extra":"^0.30.0","gh-pages":"^2.0.1","html-loader":"^0.5.5","html-webpack-plugin":"^3.2.0","json-loader":"^0.5.4","karma":"^6.3.12","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^1.3.0","karma-mocha":"^2.0.1","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"0.0.32","karma-webpack":"^4.0.2","lerna":"^6.0.3","lodash.debounce":"^4.0.8","mocha":"^10.1.0","postcss":"^7.0.36","prettier":"^1.6.1","rimraf":"^2.6.2","schema-utils":"^0.4.3","style-loader":"^0.18.1","ts-loader":"^9.4.3","url-loader":"^0.5.9","webpack":"^4.46.0","webpack-bundle-analyzer":"^4.7.0","webpack-cli":"^3.3.12","webpack-dev-server":"^3.11.3","webpack-merge":"^4.1.1","workbox-webpack-plugin":"^4.3.1","worker-loader":"^2.0.0","write-file-webpack-plugin":"^4.5.1"},"eslintConfig":{"globals":{"document":true,"window":true}}}')},"./src/main.js":function(t,r,n){"use strict";n.r(r),n.d(r,"waitForInitialization",(function(){return f})),n.d(r,"setupRPC",(function(){return d}));var a=n("./src/plugin.webworker.js"),o=n.n(a),i=n("./src/pluginIframe.js"),s=n("./src/utils.js");n.d(r,"loadRequirements",(function(){return s.loadRequirements}));var c=n("./src/rpc.js");n.d(r,"RPC",(function(){return c.RPC})),n.d(r,"API_VERSION",(function(){return c.API_VERSION}));var u=n("./package.json");function l(){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}function f(e){l()&&(globalThis.parent=self),(e=e||{}).enable_service_worker&&(Object(s.setupServiceWorker)(e.base_url,e.target_origin,e.cache_requirements),e.enable_service_worker=!1),e.cache_requirements&&delete e.cache_requirements;var t=e.target_origin||"*";if(e.credential_required&&"function"!==typeof e.verify_credential)throw new Error("Please also provide the `verify_credential` function with `credential_required`.");if(e.credential_required&&"*"===t)throw new Error("`target_origin` was set to `*` with `credential_required=true`, there is a security risk that you may leak the credential to website from other origin. Please specify the `target_origin` explicitly.");var r=function(){globalThis.removeEventListener("message",a)},n=Object(s.randId)(),a=function(a){if("message"===a.type&&(!a.origin||"*"===t||a.origin===t)){if("initialize"!==a.data.type)throw new Error("unrecognized message: ".concat(a.data));r(),a.data.peer_id!==n&&console.warn("".concat(a.data.config&&a.data.config.name,": connection peer id mismatch ").concat(a.data.peer_id," !== ").concat(n));var o=a.data.config;"*"!==t&&(o.target_origin=t),e.credential_required?e.verify_credential(o.credential).then((function(e){if(!e||!e.auth||e.error)throw new Error("Failed to verify the credentail:"+(e&&e.error));o.auth=e.auth,d(o).then((function(){console.log("ImJoy RPC loaded successfully!")}))})):d(o).then((function(){console.log("ImJoy RPC loaded successfully!")}))}};globalThis.addEventListener("message",a),l()?parent.postMessage({type:"imjoyRPCReady",config:e,peer_id:n}):parent.postMessage({type:"imjoyRPCReady",config:e,peer_id:n},"*")}function d(t){return(t=t||{}).name=t.name||Object(s.randId)(),(t=Object(s.normalizeConfig)(t)).enable_service_worker&&Object(s.setupServiceWorker)(t.base_url,t.target_origin,t.cache_requirements),t.cache_requirements&&delete t.cache_requirements,new Promise((function(r,n){if(function(){try{return window.self!==window.top}catch(e){return!0}}()){if("web-worker"===t.type)try{!function(e){if(!e.allow_execution)throw new Error("web-worker plugin can only work with allow_execution=true");var t=null;e.broadcastChannel&&(t=new BroadcastChannel(e.broadcastChannel));var r=new o.a,n=setTimeout((function(){r.terminate(),console.warn("Plugin failed to start as a web-worker, running in an iframe instead."),Object(i.default)(e)}),2e3),a=Object(s.randId)();r.addEventListener("message",(function(o){var i=void 0,s=o.data;if("worker-ready"===s.type)return r.postMessage({type:"connectRPC",config:e}),void clearTimeout(n);"initialized"===s.type?(s.config=Object.assign({},e,s.config),s.origin=globalThis.location.origin,s.peer_id=a):"imjoy_remote_api_ready"===s.type?globalThis.dispatchEvent(new CustomEvent("imjoy_remote_api_ready",{detail:null})):"cacheRequirements"===s.type&&"function"===typeof cache_requirements?cache_requirements(s.requirements):"disconnect"===s.type?r.terminate():s.__transferables__&&(i=s.__transferables__,delete s.__transferables__),t?t.postMessage(s):parent.postMessage(s,e.target_origin||"*",i)})),(t||window).addEventListener("message",(function(n){if("message"===n.type&&(t||"*"===e.target_origin||n.origin===e.target_origin)){var o=void 0,i=n.data;i.__transferables__&&(o=i.__transferables__,delete i.__transferables__),i.peer_id===a?r.postMessage(i,o):e.debug&&console.log("connection peer id mismatch ".concat(i.peer_id," !== ").concat(a))}}))}(t)}catch(e){Object(i.default)(t)}else{if(!["rpc-window","rpc-worker","iframe","window"].includes(t.type))return console.error("Unsupported plugin type: "+t.type),void n("Unsupported plugin type: "+t.type);Object(i.default)(t)}globalThis.addEventListener("imjoy_remote_api_ready",(function e(n){var a=n.detail;t.expose_api_globally&&(globalThis.api=a),r(a),globalThis.removeEventListener("imjoy_remote_api_ready",e)}))}else l()?Object(i.default)(t):n(new Error("imjoy-rpc should only run inside an iframe or a webworker."))}))}n.d(r,"VERSION",(function(){return u.version}))},"./src/plugin.webworker.js":function(e,t,r){e.exports=function(){return r("./node_modules/worker-loader/dist/workers/InlineWorker.js")('/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== \'undefined\' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: \'Module\' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, \'__esModule\', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === \'object\' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, \'default\', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != \'string\') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module[\'default\']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, \'a\', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = "";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = "./src/plugin.webworker.js");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ "./src/plugin.webworker.js":\n/*!*********************************!*\\\n  !*** ./src/plugin.webworker.js ***!\n  \\*********************************/\n/*! no exports provided */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _pluginCore_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pluginCore.js */ "./src/pluginCore.js");\n/* harmony import */ var _rpc_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rpc.js */ "./src/rpc.js");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "./src/utils.js");\n/**\n * Contains the routines loaded by the plugin Worker under web-browser.\n *\n * Initializes the web environment version of the platform-dependent\n * connection object for the plugin site\n */\n\n\n\n\n// make sure this runs inside a webworker\nif (\n  typeof WorkerGlobalScope === "undefined" ||\n  !self ||\n  !(self instanceof WorkerGlobalScope)\n) {\n  throw new Error("This script can only loaded in a webworker");\n}\n\nasync function executeEsModule(content) {\n  const dataUri =\n    "data:text/javascript;charset=utf-8," + encodeURIComponent(content);\n  await import(/* webpackIgnore: true */ dataUri);\n}\n\n/**\n * Connection object provided to the RPC constructor,\n * plugin site implementation for the web-based environment.\n * Global will be then cleared to prevent exposure into the\n * Worker, so we put this local connection object into a closure\n */\nclass Connection extends _utils_js__WEBPACK_IMPORTED_MODULE_2__["MessageEmitter"] {\n  constructor(config) {\n    super(config && config.debug);\n    this.config = config || {};\n  }\n  connect() {\n    self.addEventListener("message", e => {\n      this._fire(e.data.type, e.data);\n    });\n    this.emit({\n      type: "initialized",\n      config: this.config\n    });\n  }\n  disconnect() {\n    this._fire("beforeDisconnect");\n    self.close();\n    this._fire("disconnected");\n  }\n  emit(data) {\n    let transferables = undefined;\n    if (data.__transferables__) {\n      transferables = data.__transferables__;\n      delete data.__transferables__;\n    }\n    self.postMessage(data, transferables);\n  }\n  async execute(code) {\n    if (code.type === "requirements") {\n      await Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__["loadRequirementsInWebworker"])(code.requirements);\n    } else if (code.type === "script") {\n      try {\n        if (code.attrs.type === "module") {\n          await executeEsModule(code.content);\n        } else {\n          eval(code.content);\n        }\n      } catch (e) {\n        console.error(e.message, e.stack);\n        throw e;\n      }\n    } else {\n      throw "unsupported code type.";\n    }\n    if (code.type === "requirements") {\n      self.postMessage({\n        type: "cacheRequirements",\n        requirements: code.requirements\n      });\n    }\n  }\n}\nconst config = {\n  type: "web-worker",\n  dedicated_thread: true,\n  allow_execution: true,\n  lang: "javascript",\n  api_version: _rpc_js__WEBPACK_IMPORTED_MODULE_1__["API_VERSION"]\n};\nconst conn = new Connection(config);\nconn.on("connectRPC", data => {\n  Object(_pluginCore_js__WEBPACK_IMPORTED_MODULE_0__["connectRPC"])(conn, Object.assign(data.config, config));\n});\nconn.connect();\nself.postMessage({\n  type: "worker-ready"\n});\n\n\n/***/ }),\n\n/***/ "./src/pluginCore.js":\n/*!***************************!*\\\n  !*** ./src/pluginCore.js ***!\n  \\***************************/\n/*! exports provided: connectRPC */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "connectRPC", function() { return connectRPC; });\n/* harmony import */ var _rpc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rpc.js */ "./src/rpc.js");\n/**\n * Core plugin script loaded into the plugin process/thread.\n *\n * Initializes the plugin-site API global methods.\n */\n\nfunction connectRPC(connection, config) {\n  config = config || {};\n  const codecs = {};\n  const rpc = new _rpc_js__WEBPACK_IMPORTED_MODULE_0__["RPC"](connection, config, codecs);\n  rpc.on("getInterface", function () {\n    launchConnected();\n  });\n  rpc.on("remoteReady", function () {\n    const api = rpc.getRemote() || {};\n\n    api.registerCodec = function (config) {\n      if (!config["name"] || !config["encoder"] && !config["decoder"]) {\n        throw new Error("Invalid codec format, please make sure you provide a name, type, encoder and decoder.");\n      } else {\n        if (config.type) {\n          for (let k of Object.keys(codecs)) {\n            if (codecs[k].type === config.type || k === config.name) {\n              delete codecs[k];\n              console.warn("Remove duplicated codec: " + k);\n            }\n          }\n        }\n\n        codecs[config["name"]] = config;\n      }\n    };\n\n    api.init = function (config) {\n      // register a minimal plugin api\n      rpc.setInterface({\n        setup() {}\n\n      }, config);\n    };\n\n    api.disposeObject = function (obj) {\n      rpc.disposeObject(obj);\n    };\n\n    api.export = function (_interface, config) {\n      rpc.setInterface(_interface, config);\n    };\n\n    api.onLoad = function (handler) {\n      handler = checkHandler(handler);\n\n      if (connected) {\n        handler();\n      } else {\n        connectedHandlers.push(handler);\n      }\n    };\n\n    api.dispose = function (_interface) {\n      rpc.disconnect();\n    };\n\n    api._rpc = rpc;\n\n    if (typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope) {\n      self.api = api;\n      self.postMessage({\n        type: "imjoy_remote_api_ready"\n      });\n      self.dispatchEvent(new CustomEvent("imjoy_remote_api_ready", {\n        detail: api\n      }));\n    } else if (typeof window) {\n      window.dispatchEvent(new CustomEvent("imjoy_remote_api_ready", {\n        detail: api\n      }));\n    }\n  });\n  let connected = false;\n  const connectedHandlers = [];\n\n  const launchConnected = function () {\n    if (!connected) {\n      connected = true;\n      let handler;\n\n      while (handler = connectedHandlers.pop()) {\n        handler();\n      }\n    }\n  };\n\n  const checkHandler = function (handler) {\n    const type = typeof handler;\n\n    if (type !== "function") {\n      const msg = "A function may only be subsribed to the event, " + type + " was provided instead";\n      throw new Error(msg);\n    }\n\n    return handler;\n  };\n\n  return rpc;\n}\n\n/***/ }),\n\n/***/ "./src/rpc.js":\n/*!********************!*\\\n  !*** ./src/rpc.js ***!\n  \\********************/\n/*! exports provided: API_VERSION, RPC */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "API_VERSION", function() { return API_VERSION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RPC", function() { return RPC; });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./src/utils.js");\n/**\n * Contains the RPC object used both by the application\n * site, and by each plugin\n */\n\nconst API_VERSION = "0.2.3";\nconst ArrayBufferView = Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array())).constructor;\n\nfunction _appendBuffer(buffer1, buffer2) {\n  const tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n  tmp.set(new Uint8Array(buffer1), 0);\n  tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n  return tmp.buffer;\n}\n\nfunction indexObject(obj, is) {\n  if (!is) throw new Error("undefined index");\n  if (typeof is === "string") return indexObject(obj, is.split("."));else if (is.length === 0) return obj;else return indexObject(obj[is[0]], is.slice(1));\n}\n/**\n * RPC object represents a single site in the\n * communication protocol between the application and the plugin\n *\n * @param {Object} connection a special object allowing to send\n * and receive messages from the opposite site (basically it\n * should only provide send() and onMessage() methods)\n */\n\n\nclass RPC extends _utils_js__WEBPACK_IMPORTED_MODULE_0__["MessageEmitter"] {\n  constructor(connection, config, codecs) {\n    super(config && config.debug);\n    this._connection = connection;\n    this.config = config || {};\n    this._codecs = codecs || {};\n    this._object_store = {};\n    this._method_weakmap = new WeakMap();\n    this._object_weakmap = new WeakMap();\n    this._local_api = null;\n    this._remote_set = false; // make sure there is an execute function\n\n    const name = this.config.name;\n\n    this._connection.execute = this._connection.execute || function () {\n      throw new Error(`connection.execute not implemented (in "${name}")`);\n    };\n\n    this._store = new ReferenceStore();\n    this._method_refs = new ReferenceStore();\n\n    this._method_refs.onReady(() => {\n      this._fire("remoteIdle");\n    });\n\n    this._method_refs.onBusy(() => {\n      this._fire("remoteBusy");\n    });\n\n    this._setupMessageHanlders();\n  }\n\n  init() {\n    this._connection.emit({\n      type: "initialized",\n      config: this.config,\n      peer_id: this._connection.peer_id\n    });\n  }\n\n  setConfig(config) {\n    if (config) for (const k of Object.keys(config)) {\n      this.config[k] = config[k];\n    }\n  }\n  /**\n   * Set a handler to be called when received a responce from the\n   * remote site reporting that the previously provided interface\n   * has been successfully set as remote for that site\n   *\n   * @param {Function} handler\n   */\n\n\n  getRemoteCallStack() {\n    return this._method_refs.getStack();\n  }\n  /**\n   * @returns {Object} set of remote interface methods\n   */\n\n\n  getRemote() {\n    return this._remote_interface;\n  }\n  /**\n   * Sets the interface of this site making it available to the\n   * remote site by sending a message with a set of methods names\n   *\n   * @param {Object} _interface to set\n   */\n\n\n  setInterface(_interface, config) {\n    config = config || {};\n    this.config.name = config.name || this.config.name;\n    this.config.description = config.description || this.config.description;\n\n    if (this.config.forwarding_functions) {\n      for (let func_name of this.config.forwarding_functions) {\n        const _remote = this._remote_interface;\n\n        if (_remote[func_name]) {\n          if (_interface.constructor === Object) {\n            if (!_interface[func_name]) {\n              _interface[func_name] = (...args) => {\n                _remote[func_name](...args);\n              };\n            }\n          } else if (_interface.constructor.constructor === Function) {\n            if (!_interface.constructor.prototype[func_name]) {\n              _interface.constructor.prototype[func_name] = (...args) => {\n                _remote[func_name](...args);\n              };\n            }\n          }\n        }\n      }\n    }\n\n    this._local_api = _interface;\n    if (!this._remote_set) this._fire("interfaceAvailable");else this.sendInterface();\n    return new Promise(resolve => {\n      this.once("interfaceSetAsRemote", resolve);\n    });\n  }\n  /**\n   * Sends the actual interface to the remote site upon it was\n   * updated or by a special request of the remote site\n   */\n\n\n  sendInterface() {\n    if (!this._local_api) {\n      throw new Error("interface is not set.");\n    }\n\n    this._encode(this._local_api, true).then(api => {\n      this._connection.emit({\n        type: "setInterface",\n        api: api\n      });\n    });\n  }\n\n  _disposeObject(objectId) {\n    if (this._object_store[objectId]) {\n      delete this._object_store[objectId];\n    } else {\n      throw new Error(`Object (id=${objectId}) not found.`);\n    }\n  }\n\n  disposeObject(obj) {\n    return new Promise((resolve, reject) => {\n      if (this._object_weakmap.has(obj)) {\n        const objectId = this._object_weakmap.get(obj);\n\n        this._connection.once("disposed", data => {\n          if (data.error) reject(new Error(data.error));else resolve();\n        });\n\n        this._connection.emit({\n          type: "disposeObject",\n          object_id: objectId\n        });\n      } else {\n        throw new Error("Invalid object");\n      }\n    });\n  }\n  /**\n   * Handles a message from the remote site\n   */\n\n\n  _setupMessageHanlders() {\n    this._connection.on("init", this.init);\n\n    this._connection.on("execute", data => {\n      Promise.resolve(this._connection.execute(data.code)).then(() => {\n        this._connection.emit({\n          type: "executed"\n        });\n      }).catch(e => {\n        console.error(e);\n\n        this._connection.emit({\n          type: "executed",\n          error: String(e)\n        });\n      });\n    });\n\n    this._connection.on("method", async data => {\n      let resolve, reject, method, method_this, args, result;\n\n      try {\n        if (data.promise) {\n          [resolve, reject] = await this._unwrap(data.promise, false);\n        }\n\n        const _interface = this._object_store[data.object_id];\n        method = indexObject(_interface, data.name);\n\n        if (data.name.includes(".")) {\n          const tmp = data.name.split(".");\n          const intf_index = tmp.slice(0, tmp.length - 1).join(".");\n          method_this = indexObject(_interface, intf_index);\n        } else {\n          method_this = _interface;\n        }\n\n        args = await this._unwrap(data.args, true);\n\n        if (data.promise) {\n          result = method.apply(method_this, args);\n\n          if (result instanceof Promise || method.constructor && method.constructor.name === "AsyncFunction") {\n            result.then(resolve).catch(reject);\n          } else {\n            resolve(result);\n          }\n        } else {\n          method.apply(method_this, args);\n        }\n      } catch (err) {\n        console.error(this.config.name, err);\n\n        if (reject) {\n          reject(err);\n        }\n      }\n    });\n\n    this._connection.on("callback", async data => {\n      let resolve, reject, method, args, result;\n\n      try {\n        if (data.promise) {\n          [resolve, reject] = await this._unwrap(data.promise, false);\n        }\n\n        if (data.promise) {\n          method = this._store.fetch(data.id);\n          args = await this._unwrap(data.args, true);\n\n          if (!method) {\n            throw new Error("Callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.");\n          }\n\n          result = method.apply(null, args);\n\n          if (result instanceof Promise || method.constructor && method.constructor.name === "AsyncFunction") {\n            result.then(resolve).catch(reject);\n          } else {\n            resolve(result);\n          }\n        } else {\n          method = this._store.fetch(data.id);\n          args = await this._unwrap(data.args, true);\n\n          if (!method) {\n            throw new Error("Please notice that callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.");\n          }\n\n          method.apply(null, args);\n        }\n      } catch (err) {\n        console.error(this.config.name, err);\n\n        if (reject) {\n          reject(err);\n        }\n      }\n    });\n\n    this._connection.on("disposeObject", data => {\n      try {\n        this._disposeObject(data.object_id);\n\n        this._connection.emit({\n          type: "disposed"\n        });\n      } catch (e) {\n        console.error(e);\n\n        this._connection.emit({\n          type: "disposed",\n          error: String(e)\n        });\n      }\n    });\n\n    this._connection.on("setInterface", data => {\n      this._setRemoteInterface(data.api);\n    });\n\n    this._connection.on("getInterface", () => {\n      this._fire("getInterface");\n\n      if (this._local_api) {\n        this.sendInterface();\n      } else {\n        this.once("interfaceAvailable", () => {\n          this.sendInterface();\n        });\n      }\n    });\n\n    this._connection.on("interfaceSetAsRemote", () => {\n      this._remote_set = true;\n\n      this._fire("interfaceSetAsRemote");\n    });\n\n    this._connection.on("disconnect", () => {\n      this._fire("beforeDisconnect");\n\n      this._connection.disconnect();\n\n      this._fire("disconnected");\n    });\n  }\n  /**\n   * Sends a requests to the remote site asking it to provide its\n   * current interface\n   */\n\n\n  requestRemote() {\n    this._connection.emit({\n      type: "getInterface"\n    });\n  }\n\n  _ndarray(typedArray, shape, dtype) {\n    const _dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__["typedArrayToDtype"])(typedArray);\n\n    if (dtype && dtype !== _dtype) {\n      throw "dtype doesn\'t match the type of the array: " + _dtype + " != " + dtype;\n    }\n\n    shape = shape || [typedArray.length];\n    return {\n      _rtype: "ndarray",\n      _rvalue: typedArray.buffer,\n      _rshape: shape,\n      _rdtype: _dtype\n    };\n  }\n  /**\n   * Sets the new remote interface provided by the other site\n   *\n   * @param {Array} names list of function names\n   */\n\n\n  _setRemoteInterface(api) {\n    this._decode(api).then(intf => {\n      // update existing interface instead of recreating it\n      // this will preserve the object reference\n      if (this._remote_interface) {\n        // clear the interface\n        for (let k in this._remote_interface) delete this._remote_interface[k]; // then assign the new interfaces\n\n\n        Object.assign(this._remote_interface, intf);\n      } else this._remote_interface = intf;\n\n      this._fire("remoteReady");\n\n      this._reportRemoteSet();\n    });\n  }\n  /**\n   * Generates the wrapped function corresponding to a single remote\n   * method. When the generated function is called, it will send the\n   * corresponding message to the remote site asking it to execute\n   * the particular method of its interface\n   *\n   * @param {String} name of the remote method\n   *\n   * @returns {Function} wrapped remote method\n   */\n\n\n  _genRemoteMethod(targetId, name, objectId) {\n    const me = this;\n\n    const remoteMethod = function () {\n      return new Promise(async (resolve, reject) => {\n        let id = null;\n\n        try {\n          id = me._method_refs.put(objectId ? objectId + "/" + name : name);\n\n          const wrapped_resolve = function () {\n            if (id !== null) me._method_refs.fetch(id);\n            return resolve.apply(this, arguments);\n          };\n\n          const wrapped_reject = function () {\n            if (id !== null) me._method_refs.fetch(id);\n            return reject.apply(this, arguments);\n          };\n\n          const encodedPromise = await me._wrap([wrapped_resolve, wrapped_reject]); // store the key id for removing them from the reference store together\n\n          wrapped_resolve.__promise_pair = encodedPromise[1]._rvalue;\n          wrapped_reject.__promise_pair = encodedPromise[0]._rvalue;\n          let args = Array.prototype.slice.call(arguments);\n          const argLength = args.length; // if the last argument is an object, mark it as kwargs\n\n          const withKwargs = argLength > 0 && typeof args[argLength - 1] === "object" && args[argLength - 1] !== null && args[argLength - 1]._rkwargs;\n          if (withKwargs) delete args[argLength - 1]._rkwargs;\n\n          if (name === "register" || name === "registerService" || name === "register_service" || name === "export" || name === "on") {\n            args = await me._wrap(args, true);\n          } else {\n            args = await me._wrap(args);\n          }\n\n          const transferables = args.__transferables__;\n          if (transferables) delete args.__transferables__;\n\n          me._connection.emit({\n            type: "method",\n            target_id: targetId,\n            name: name,\n            object_id: objectId,\n            args: args,\n            promise: encodedPromise,\n            with_kwargs: withKwargs\n          }, transferables);\n        } catch (e) {\n          if (id) me._method_refs.fetch(id);\n          reject(`Failed to exectue remote method (interface: ${objectId || me.id}, method: ${name}), error: ${e}`);\n        }\n      });\n    };\n\n    remoteMethod.__remote_method = true;\n    return remoteMethod;\n  }\n  /**\n   * Sends a responce reporting that interface just provided by the\n   * remote site was successfully set by this site as remote\n   */\n\n\n  _reportRemoteSet() {\n    this._connection.emit({\n      type: "interfaceSetAsRemote"\n    });\n  }\n  /**\n   * Prepares the provided set of remote method arguments for\n   * sending to the remote site, replaces all the callbacks with\n   * identifiers\n   *\n   * @param {Array} args to wrap\n   *\n   * @returns {Array} wrapped arguments\n   */\n\n\n  async _encode(aObject, asInterface, objectId) {\n    const aType = typeof aObject;\n\n    if (aType === "number" || aType === "string" || aType === "boolean" || aObject === null || aObject === undefined || aObject instanceof ArrayBuffer) {\n      return aObject;\n    }\n\n    let bObject;\n\n    if (typeof aObject === "function") {\n      if (asInterface) {\n        if (!objectId) throw new Error("objectId is not specified.");\n        bObject = {\n          _rtype: "interface",\n          _rtarget_id: this._connection.peer_id,\n          _rintf: objectId,\n          _rvalue: asInterface\n        };\n\n        this._method_weakmap.set(aObject, bObject);\n      } else if (this._method_weakmap.has(aObject)) {\n        bObject = this._method_weakmap.get(aObject);\n      } else {\n        const cid = this._store.put(aObject);\n\n        bObject = {\n          _rtype: "callback",\n          _rtarget_id: this._connection.peer_id,\n          _rname: aObject.constructor && aObject.constructor.name || cid,\n          _rvalue: cid\n        };\n      }\n\n      return bObject;\n    } // skip if already encoded\n\n\n    if (aObject.constructor instanceof Object && aObject._rtype) {\n      // make sure the interface functions are encoded\n      if (aObject._rintf) {\n        const temp = aObject._rtype;\n        delete aObject._rtype;\n        bObject = await this._encode(aObject, asInterface, objectId);\n        bObject._rtype = temp;\n      } else {\n        bObject = aObject;\n      }\n\n      return bObject;\n    }\n\n    const transferables = [];\n    const _transfer = aObject._transfer;\n    const isarray = Array.isArray(aObject);\n\n    for (let tp of Object.keys(this._codecs)) {\n      const codec = this._codecs[tp];\n\n      if (codec.encoder && aObject instanceof codec.type) {\n        // TODO: what if multiple encoders found\n        let encodedObj = await Promise.resolve(codec.encoder(aObject));\n        if (encodedObj && !encodedObj._rtype) encodedObj._rtype = codec.name; // encode the functions in the interface object\n\n        if (encodedObj && encodedObj._rintf) {\n          const temp = encodedObj._rtype;\n          delete encodedObj._rtype;\n          encodedObj = await this._encode(encodedObj, asInterface, objectId);\n          encodedObj._rtype = temp;\n        }\n\n        bObject = encodedObj;\n        return bObject;\n      }\n    }\n\n    if (\n    /*global tf*/\n    typeof tf !== "undefined" && tf.Tensor && aObject instanceof tf.Tensor) {\n      const v_buffer = aObject.dataSync();\n\n      if (aObject._transfer || _transfer) {\n        transferables.push(v_buffer.buffer);\n        delete aObject._transfer;\n      }\n\n      bObject = {\n        _rtype: "ndarray",\n        _rvalue: v_buffer.buffer,\n        _rshape: aObject.shape,\n        _rdtype: aObject.dtype\n      };\n    } else if (\n    /*global nj*/\n    typeof nj !== "undefined" && nj.NdArray && aObject instanceof nj.NdArray) {\n      const dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__["typedArrayToDtype"])(aObject.selection.data);\n\n      if (aObject._transfer || _transfer) {\n        transferables.push(aObject.selection.data.buffer);\n        delete aObject._transfer;\n      }\n\n      bObject = {\n        _rtype: "ndarray",\n        _rvalue: aObject.selection.data.buffer,\n        _rshape: aObject.shape,\n        _rdtype: dtype\n      };\n    } else if (aObject instanceof Error) {\n      console.error(aObject);\n      bObject = {\n        _rtype: "error",\n        _rvalue: aObject.toString()\n      };\n    } else if (typeof File !== "undefined" && aObject instanceof File) {\n      bObject = {\n        _rtype: "file",\n        _rvalue: aObject,\n        _rpath: aObject._path || aObject.webkitRelativePath\n      };\n    } // send objects supported by structure clone algorithm\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\n    else if (aObject !== Object(aObject) || aObject instanceof Boolean || aObject instanceof String || aObject instanceof Date || aObject instanceof RegExp || aObject instanceof ImageData || typeof FileList !== "undefined" && aObject instanceof FileList || typeof FileSystemDirectoryHandle !== "undefined" && aObject instanceof FileSystemDirectoryHandle || typeof FileSystemFileHandle !== "undefined" && aObject instanceof FileSystemFileHandle || typeof FileSystemHandle !== "undefined" && aObject instanceof FileSystemHandle || typeof FileSystemWritableFileStream !== "undefined" && aObject instanceof FileSystemWritableFileStream) {\n      bObject = aObject; // TODO: avoid object such as DynamicPlugin instance.\n    } else if (typeof File !== "undefined" && aObject instanceof File) {\n      bObject = {\n        _rtype: "file",\n        _rname: aObject.name,\n        _rmime: aObject.type,\n        _rvalue: aObject,\n        _rpath: aObject._path || aObject.webkitRelativePath\n      };\n    } else if (aObject instanceof Blob) {\n      bObject = {\n        _rtype: "blob",\n        _rvalue: aObject\n      };\n    } else if (aObject instanceof ArrayBufferView) {\n      if (aObject._transfer || _transfer) {\n        transferables.push(aObject.buffer);\n        delete aObject._transfer;\n      }\n\n      const dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__["typedArrayToDtype"])(aObject);\n      bObject = {\n        _rtype: "typedarray",\n        _rvalue: aObject.buffer,\n        _rdtype: dtype\n      };\n    } else if (aObject instanceof DataView) {\n      if (aObject._transfer || _transfer) {\n        transferables.push(aObject.buffer);\n        delete aObject._transfer;\n      }\n\n      bObject = {\n        _rtype: "memoryview",\n        _rvalue: aObject.buffer\n      };\n    } else if (aObject instanceof Set) {\n      bObject = {\n        _rtype: "set",\n        _rvalue: await this._encode(Array.from(aObject), asInterface)\n      };\n    } else if (aObject instanceof Map) {\n      bObject = {\n        _rtype: "orderedmap",\n        _rvalue: await this._encode(Array.from(aObject), asInterface)\n      };\n    } else if (aObject.constructor instanceof Object || Array.isArray(aObject)) {\n      bObject = isarray ? [] : {};\n      let keys; // an object/array\n\n      if (aObject.constructor === Object || Array.isArray(aObject)) {\n        keys = Object.keys(aObject);\n      } // a class\n      else if (aObject.constructor === Function) {\n        throw new Error("Please instantiate the class before exportting it.");\n      } // instance of a class\n      else if (aObject.constructor.constructor === Function) {\n        keys = Object.getOwnPropertyNames(Object.getPrototypeOf(aObject)).concat(Object.keys(aObject)); // TODO: use a proxy object to represent the actual object\n        // always encode class instance as interface\n\n        asInterface = true;\n      } else {\n        throw Error("Unsupported interface type");\n      }\n\n      let hasFunction = false; // encode interfaces\n\n      if (aObject._rintf || asInterface) {\n        if (!objectId) {\n          if (typeof aObject._rintf === "string" && aObject._rintf.length > 0) {\n            objectId = aObject._rintf; // enable custom object id\n          } else {\n            objectId = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__["randId"])();\n          } // Note: object with the same id will be overwritten\n\n\n          if (this._object_store[objectId]) console.warn(`Overwritting interface object with the same id: ${objectId}`);\n          this._object_store[objectId] = aObject;\n        }\n\n        for (let k of keys) {\n          if (k === "constructor") continue;\n\n          if (k.startsWith("_")) {\n            continue;\n          }\n\n          bObject[k] = await this._encode(aObject[k], typeof asInterface === "string" ? asInterface + "." + k : k, objectId);\n\n          if (typeof aObject[k] === "function") {\n            hasFunction = true;\n          }\n        } // object id for dispose the object remotely\n\n\n        if (hasFunction) bObject._rintf = objectId; // remove interface when closed\n\n        if (aObject.on && typeof aObject.on === "function") {\n          aObject.on("close", () => {\n            delete this._object_store[objectId];\n          });\n        }\n      } else {\n        for (let k of keys) {\n          if (["hasOwnProperty", "constructor"].includes(k)) continue;\n          bObject[k] = await this._encode(aObject[k]);\n        }\n      } // for example, browserFS object\n\n    } else if (typeof aObject === "object") {\n      const keys = Object.getOwnPropertyNames(Object.getPrototypeOf(aObject)).concat(Object.keys(aObject));\n      const objectId = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__["randId"])();\n\n      for (let k of keys) {\n        if (["hasOwnProperty", "constructor"].includes(k)) continue; // encode as interface\n\n        bObject[k] = await this._encode(aObject[k], k, bObject);\n      } // object id, used for dispose the object\n\n\n      bObject._rintf = objectId;\n    } else {\n      throw "imjoy-rpc: Unsupported data type:" + aObject;\n    }\n\n    if (transferables.length > 0) {\n      bObject.__transferables__ = transferables;\n    }\n\n    if (!bObject) {\n      throw new Error("Failed to encode object");\n    }\n\n    return bObject;\n  }\n\n  async _decode(aObject, withPromise) {\n    if (!aObject) {\n      return aObject;\n    }\n\n    let bObject;\n\n    if (aObject["_rtype"]) {\n      if (this._codecs[aObject._rtype] && this._codecs[aObject._rtype].decoder) {\n        if (aObject._rintf) {\n          const temp = aObject._rtype;\n          delete aObject._rtype;\n          aObject = await this._decode(aObject, withPromise);\n          aObject._rtype = temp;\n        }\n\n        bObject = await Promise.resolve(this._codecs[aObject._rtype].decoder(aObject));\n      } else if (aObject._rtype === "callback") {\n        bObject = this._genRemoteCallback(aObject._rtarget_id, aObject._rvalue, withPromise);\n      } else if (aObject._rtype === "interface") {\n        bObject = this._genRemoteMethod(aObject._rtarget_id, aObject._rvalue, aObject._rintf);\n      } else if (aObject._rtype === "ndarray") {\n        /*global nj tf*/\n        //create build array/tensor if used in the plugin\n        if (typeof nj !== "undefined" && nj.array) {\n          if (Array.isArray(aObject._rvalue)) {\n            aObject._rvalue = aObject._rvalue.reduce(_appendBuffer);\n          }\n\n          bObject = nj.array(new Uint8(aObject._rvalue), aObject._rdtype).reshape(aObject._rshape);\n        } else if (typeof tf !== "undefined" && tf.Tensor) {\n          if (Array.isArray(aObject._rvalue)) {\n            aObject._rvalue = aObject._rvalue.reduce(_appendBuffer);\n          }\n\n          const arraytype = _utils_js__WEBPACK_IMPORTED_MODULE_0__["dtypeToTypedArray"][aObject._rdtype];\n          bObject = tf.tensor(new arraytype(aObject._rvalue), aObject._rshape, aObject._rdtype);\n        } else {\n          //keep it as regular if transfered to the main app\n          bObject = aObject;\n        }\n      } else if (aObject._rtype === "error") {\n        bObject = new Error(aObject._rvalue);\n      } else if (aObject._rtype === "file") {\n        if (aObject._rvalue instanceof File) {\n          bObject = aObject._rvalue; //patch _path\n\n          bObject._path = aObject._rpath;\n        } else {\n          bObject = new File([aObject._rvalue], aObject._rname, {\n            type: aObject._rmime\n          });\n          bObject._path = aObject._rpath;\n        }\n      } else if (aObject._rtype === "typedarray") {\n        const arraytype = _utils_js__WEBPACK_IMPORTED_MODULE_0__["dtypeToTypedArray"][aObject._rdtype];\n        if (!arraytype) throw new Error("unsupported dtype: " + aObject._rdtype);\n        bObject = new arraytype(aObject._rvalue);\n      } else if (aObject._rtype === "memoryview") {\n        bObject = new DataView(aObject._rvalue);\n      } else if (aObject._rtype === "blob") {\n        if (aObject._rvalue instanceof Blob) {\n          bObject = aObject._rvalue;\n        } else {\n          bObject = new Blob([aObject._rvalue], {\n            type: aObject._rmime\n          });\n        }\n      } else if (aObject._rtype === "orderedmap") {\n        bObject = new Map(await this._decode(aObject._rvalue, withPromise));\n      } else if (aObject._rtype === "set") {\n        bObject = new Set(await this._decode(aObject._rvalue, withPromise));\n      } else {\n        // make sure all the interface functions are decoded\n        if (aObject._rintf) {\n          const temp = aObject._rtype;\n          delete aObject._rtype;\n          bObject = await this._decode(aObject, withPromise);\n          bObject._rtype = temp;\n        } else bObject = aObject;\n      }\n    } else if (aObject.constructor === Object || Array.isArray(aObject)) {\n      const isarray = Array.isArray(aObject);\n      bObject = isarray ? [] : {};\n\n      for (let k of Object.keys(aObject)) {\n        if (isarray || aObject.hasOwnProperty(k)) {\n          const v = aObject[k];\n          bObject[k] = await this._decode(v, withPromise);\n        }\n      }\n    } else {\n      bObject = aObject;\n    }\n\n    if (bObject === undefined) {\n      throw new Error("Failed to decode object");\n    } // store the object id for dispose\n\n\n    if (aObject._rintf) {\n      this._object_weakmap.set(bObject, aObject._rintf);\n    }\n\n    return bObject;\n  }\n\n  async _wrap(args, asInterface) {\n    return await this._encode(args, asInterface);\n  }\n  /**\n   * Unwraps the set of arguments delivered from the remote site,\n   * replaces all callback identifiers with a function which will\n   * initiate sending that callback identifier back to other site\n   *\n   * @param {Object} args to unwrap\n   *\n   * @param {Boolean} withPromise is true means this the callback should contain a promise\n   *\n   * @returns {Array} unwrapped args\n   */\n\n\n  async _unwrap(args, withPromise) {\n    return await this._decode(args, withPromise);\n  }\n  /**\n   * Generates the wrapped function corresponding to a single remote\n   * callback. When the generated function is called, it will send\n   * the corresponding message to the remote site asking it to\n   * execute the particular callback previously saved during a call\n   * by the remote site a method from the interface of this site\n   *\n   * @param {Number} id of the remote callback to execute\n   * @param {Number} argNum argument index of the callback\n   * @param {Boolean} withPromise is true means this the callback should contain a promise\n   *\n   * @returns {Function} wrapped remote callback\n   */\n\n\n  _genRemoteCallback(targetId, cid, withPromise) {\n    const me = this;\n    let remoteCallback;\n\n    if (withPromise) {\n      remoteCallback = function () {\n        return new Promise(async (resolve, reject) => {\n          const args = await me._wrap(Array.prototype.slice.call(arguments));\n          const argLength = args.length; // if the last argument is an object, mark it as kwargs\n\n          const withKwargs = argLength > 0 && typeof args[argLength - 1] === "object" && args[argLength - 1] !== null && args[argLength - 1]._rkwargs;\n          if (withKwargs) delete args[argLength - 1]._rkwargs;\n          const transferables = args.__transferables__;\n          if (transferables) delete args.__transferables__;\n          const encodedPromise = await me._wrap([resolve, reject]); // store the key id for removing them from the reference store together\n\n          resolve.__promise_pair = encodedPromise[1]._rvalue;\n          reject.__promise_pair = encodedPromise[0]._rvalue;\n\n          try {\n            me._connection.emit({\n              type: "callback",\n              target_id: targetId,\n              id: cid,\n              args: args,\n              promise: encodedPromise,\n              with_kwargs: withKwargs\n            }, transferables);\n          } catch (e) {\n            reject(`Failed to exectue remote callback ( id: ${cid}).`);\n          }\n        });\n      };\n\n      return remoteCallback;\n    } else {\n      remoteCallback = async function () {\n        const args = await me._wrap(Array.prototype.slice.call(arguments));\n        const argLength = args.length; // if the last argument is an object, mark it as kwargs\n\n        const withKwargs = argLength > 0 && typeof args[argLength - 1] === "object" && args[argLength - 1] !== null && args[argLength - 1]._rkwargs;\n        if (withKwargs) delete args[argLength - 1]._rkwargs;\n        const transferables = args.__transferables__;\n        if (transferables) delete args.__transferables__;\n        return me._connection.emit({\n          type: "callback",\n          target_id: targetId,\n          id: cid,\n          args: args,\n          with_kwargs: withKwargs\n        }, transferables);\n      };\n\n      return remoteCallback;\n    }\n  }\n\n  reset() {\n    this._event_handlers = {};\n    this._once_handlers = {};\n    this._remote_interface = null;\n    this._object_store = {};\n    this._method_weakmap = new WeakMap();\n    this._object_weakmap = new WeakMap();\n    this._local_api = null;\n    this._store = new ReferenceStore();\n    this._method_refs = new ReferenceStore();\n  }\n  /**\n   * Sends the notification message and breaks the connection\n   */\n\n\n  disconnect() {\n    this._connection.emit({\n      type: "disconnect"\n    });\n\n    this.reset();\n    setTimeout(() => {\n      this._connection.disconnect();\n    }, 2000);\n  }\n\n}\n/**\n * ReferenceStore is a special object which stores other objects\n * and provides the references (number) instead. This reference\n * may then be sent over a json-based communication channel (IPC\n * to another Node.js process or a message to the Worker). Other\n * site may then provide the reference in the responce message\n * implying the given object should be activated.\n *\n * Primary usage for the ReferenceStore is a storage for the\n * callbacks, which therefore makes it possible to initiate a\n * callback execution by the opposite site (which normally cannot\n * directly execute functions over the communication channel).\n *\n * Each stored object can only be fetched once and is not\n * available for the second time. Each stored object must be\n * fetched, since otherwise it will remain stored forever and\n * consume memory.\n *\n * Stored object indeces are simply the numbers, which are however\n * released along with the objects, and are later reused again (in\n * order to postpone the overflow, which should not likely happen,\n * but anyway).\n */\n\nclass ReferenceStore {\n  constructor() {\n    this._store = {}; // stored object\n\n    this._indices = [0]; // smallest available indices\n\n    this._readyHandler = function () {};\n\n    this._busyHandler = function () {};\n\n    this._readyHandler();\n  }\n  /**\n   * call handler when the store is empty\n   *\n   * @param {FUNCTION} id of a handler\n   */\n\n\n  onReady(readyHandler) {\n    this._readyHandler = readyHandler || function () {};\n  }\n  /**\n   * call handler when the store is not empty\n   *\n   * @param {FUNCTION} id of a handler\n   */\n\n\n  onBusy(busyHandler) {\n    this._busyHandler = busyHandler || function () {};\n  }\n  /**\n   * get the length of the store\n   *\n   */\n\n\n  getStack() {\n    return Object.keys(this._store).length;\n  }\n  /**\n   * @function _genId() generates the new reference id\n   *\n   * @returns {Number} smallest available id and reserves it\n   */\n\n\n  _genId() {\n    let id;\n\n    if (this._indices.length === 1) {\n      id = this._indices[0]++;\n    } else {\n      id = this._indices.shift();\n    }\n\n    return id;\n  }\n  /**\n   * Releases the given reference id so that it will be available by\n   * another object stored\n   *\n   * @param {Number} id to release\n   */\n\n\n  _releaseId(id) {\n    for (let i = 0; i < this._indices.length; i++) {\n      if (id < this._indices[i]) {\n        this._indices.splice(i, 0, id);\n\n        break;\n      }\n    } // cleaning-up the sequence tail\n\n\n    for (let i = this._indices.length - 1; i >= 0; i--) {\n      if (this._indices[i] - 1 === this._indices[i - 1]) {\n        this._indices.pop();\n      } else {\n        break;\n      }\n    }\n  }\n  /**\n   * Stores the given object and returns the refernce id instead\n   *\n   * @param {Object} obj to store\n   *\n   * @returns {Number} reference id of the stored object\n   */\n\n\n  put(obj) {\n    if (this._busyHandler && Object.keys(this._store).length === 0) {\n      this._busyHandler();\n    }\n\n    const id = this._genId();\n\n    this._store[id] = obj;\n    return id;\n  }\n  /**\n   * Retrieves previously stored object and releases its reference\n   *\n   * @param {Number} id of an object to retrieve\n   */\n\n\n  fetch(id) {\n    const obj = this._store[id];\n\n    if (obj && !obj.__remote_method) {\n      delete this._store[id];\n\n      this._releaseId(id);\n\n      if (this._readyHandler && Object.keys(this._store).length === 0) {\n        this._readyHandler();\n      }\n    }\n\n    if (obj && obj.__promise_pair) {\n      this.fetch(obj.__promise_pair);\n    }\n\n    return obj;\n  }\n\n}\n\n/***/ }),\n\n/***/ "./src/utils.js":\n/*!**********************!*\\\n  !*** ./src/utils.js ***!\n  \\**********************/\n/*! exports provided: randId, dtypeToTypedArray, loadRequirementsInWindow, loadRequirementsInWebworker, loadRequirements, normalizeConfig, typedArrayToDtypeMapping, typedArrayToDtype, cacheRequirements, setupServiceWorker, urlJoin, MessageEmitter */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "randId", function() { return randId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dtypeToTypedArray", function() { return dtypeToTypedArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadRequirementsInWindow", function() { return loadRequirementsInWindow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadRequirementsInWebworker", function() { return loadRequirementsInWebworker; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadRequirements", function() { return loadRequirements; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeConfig", function() { return normalizeConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "typedArrayToDtypeMapping", function() { return typedArrayToDtypeMapping; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "typedArrayToDtype", function() { return typedArrayToDtype; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cacheRequirements", function() { return cacheRequirements; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setupServiceWorker", function() { return setupServiceWorker; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "urlJoin", function() { return urlJoin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageEmitter", function() { return MessageEmitter; });\nfunction randId() {\n  return Math.random().toString(36).substr(2, 10) + new Date().getTime();\n}\nconst dtypeToTypedArray = {\n  int8: Int8Array,\n  int16: Int16Array,\n  int32: Int32Array,\n  uint8: Uint8Array,\n  uint16: Uint16Array,\n  uint32: Uint32Array,\n  float32: Float32Array,\n  float64: Float64Array,\n  array: Array\n};\nasync function loadRequirementsInWindow(requirements) {\n  function _importScript(url) {\n    //url is URL of external file, implementationCode is the code\n    //to be called from the file, location is the location to\n    //insert the <script> element\n    return new Promise((resolve, reject) => {\n      var scriptTag = document.createElement("script");\n      scriptTag.src = url;\n      scriptTag.type = "text/javascript";\n      scriptTag.onload = resolve;\n\n      scriptTag.onreadystatechange = function () {\n        if (this.readyState === "loaded" || this.readyState === "complete") {\n          resolve();\n        }\n      };\n\n      scriptTag.onerror = reject;\n      document.head.appendChild(scriptTag);\n    });\n  } // support importScripts outside web worker\n\n\n  async function importScripts() {\n    var args = Array.prototype.slice.call(arguments),\n        len = args.length,\n        i = 0;\n\n    for (; i < len; i++) {\n      await _importScript(args[i]);\n    }\n  }\n\n  if (requirements && (Array.isArray(requirements) || typeof requirements === "string")) {\n    try {\n      var link_node;\n      requirements = typeof requirements === "string" ? [requirements] : requirements;\n\n      if (Array.isArray(requirements)) {\n        for (var i = 0; i < requirements.length; i++) {\n          if (requirements[i].toLowerCase().endsWith(".css") || requirements[i].startsWith("css:")) {\n            if (requirements[i].startsWith("css:")) {\n              requirements[i] = requirements[i].slice(4);\n            }\n\n            link_node = document.createElement("link");\n            link_node.rel = "stylesheet";\n            link_node.href = requirements[i];\n            document.head.appendChild(link_node);\n          } else if (requirements[i].toLowerCase().endsWith(".mjs") || requirements[i].startsWith("mjs:")) {\n            // import esmodule\n            if (requirements[i].startsWith("mjs:")) {\n              requirements[i] = requirements[i].slice(4);\n            }\n\n            await import(\n            /* webpackIgnore: true */\n            requirements[i]);\n          } else if (requirements[i].toLowerCase().endsWith(".js") || requirements[i].startsWith("js:")) {\n            if (requirements[i].startsWith("js:")) {\n              requirements[i] = requirements[i].slice(3);\n            }\n\n            await importScripts(requirements[i]);\n          } else if (requirements[i].startsWith("http")) {\n            await importScripts(requirements[i]);\n          } else if (requirements[i].startsWith("cache:")) {//ignore cache\n          } else {\n            console.log("Unprocessed requirements url: " + requirements[i]);\n          }\n        }\n      } else {\n        throw "unsupported requirements definition";\n      }\n    } catch (e) {\n      throw "failed to import required scripts: " + requirements.toString();\n    }\n  }\n}\nasync function loadRequirementsInWebworker(requirements) {\n  if (requirements && (Array.isArray(requirements) || typeof requirements === "string")) {\n    try {\n      if (!Array.isArray(requirements)) {\n        requirements = [requirements];\n      }\n\n      for (var i = 0; i < requirements.length; i++) {\n        if (requirements[i].toLowerCase().endsWith(".css") || requirements[i].startsWith("css:")) {\n          throw "unable to import css in a webworker";\n        } else if (requirements[i].toLowerCase().endsWith(".js") || requirements[i].startsWith("js:")) {\n          if (requirements[i].startsWith("js:")) {\n            requirements[i] = requirements[i].slice(3);\n          }\n\n          importScripts(requirements[i]);\n        } else if (requirements[i].startsWith("http")) {\n          importScripts(requirements[i]);\n        } else if (requirements[i].startsWith("cache:")) {//ignore cache\n        } else {\n          console.log("Unprocessed requirements url: " + requirements[i]);\n        }\n      }\n    } catch (e) {\n      throw "failed to import required scripts: " + requirements.toString();\n    }\n  }\n}\nfunction loadRequirements(requirements) {\n  if (typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope) {\n    return loadRequirementsInWebworker(requirements);\n  } else {\n    return loadRequirementsInWindow(requirements);\n  }\n}\nfunction normalizeConfig(config) {\n  config.version = config.version || "0.1.0";\n  config.description = config.description || `[TODO: add description for ${config.name} ]`;\n  config.type = config.type || "rpc-window";\n  config.id = config.id || randId();\n  config.target_origin = config.target_origin || "*";\n  config.allow_execution = config.allow_execution || false; // remove functions\n\n  config = Object.keys(config).reduce((p, c) => {\n    if (typeof config[c] !== "function") p[c] = config[c];\n    return p;\n  }, {});\n  return config;\n}\nconst typedArrayToDtypeMapping = {\n  Int8Array: "int8",\n  Int16Array: "int16",\n  Int32Array: "int32",\n  Uint8Array: "uint8",\n  Uint16Array: "uint16",\n  Uint32Array: "uint32",\n  Float32Array: "float32",\n  Float64Array: "float64",\n  Array: "array"\n};\nconst typedArrayToDtypeKeys = [];\n\nfor (const arrType of Object.keys(typedArrayToDtypeMapping)) {\n  typedArrayToDtypeKeys.push(eval(arrType));\n}\n\nfunction typedArrayToDtype(obj) {\n  let dtype = typedArrayToDtypeMapping[obj.constructor.name];\n\n  if (!dtype) {\n    const pt = Object.getPrototypeOf(obj);\n\n    for (const arrType of typedArrayToDtypeKeys) {\n      if (pt instanceof arrType) {\n        dtype = typedArrayToDtypeMapping[arrType.name];\n        break;\n      }\n    }\n  }\n\n  return dtype;\n}\n\nfunction cacheUrlInServiceWorker(url) {\n  return new Promise(function (resolve, reject) {\n    const message = {\n      command: "add",\n      url: url\n    };\n\n    if (!navigator.serviceWorker || !navigator.serviceWorker.register) {\n      reject("Service worker is not supported.");\n      return;\n    }\n\n    const messageChannel = new MessageChannel();\n\n    messageChannel.port1.onmessage = function (event) {\n      if (event.data && event.data.error) {\n        reject(event.data.error);\n      } else {\n        resolve(event.data && event.data.result);\n      }\n    };\n\n    if (navigator.serviceWorker && navigator.serviceWorker.controller) {\n      navigator.serviceWorker.controller.postMessage(message, [messageChannel.port2]);\n    } else {\n      reject("Service worker controller is not available");\n    }\n  });\n}\n\nasync function cacheRequirements(requirements) {\n  requirements = requirements || [];\n\n  if (!Array.isArray(requirements)) {\n    requirements = [requirements];\n  }\n\n  for (let req of requirements) {\n    //remove prefix\n    if (req.startsWith("js:")) req = req.slice(3);\n    if (req.startsWith("css:")) req = req.slice(4);\n    if (req.startsWith("cache:")) req = req.slice(6);\n    if (!req.startsWith("http")) continue;\n    await cacheUrlInServiceWorker(req).catch(e => {\n      console.error(e);\n    });\n  }\n}\nfunction setupServiceWorker(baseUrl, targetOrigin, cacheCallback) {\n  // register service worker for offline access\n  if ("serviceWorker" in navigator) {\n    baseUrl = baseUrl || "/";\n    navigator.serviceWorker.register(baseUrl + "plugin-service-worker.js").then(function (registration) {\n      // Registration was successful\n      console.log("ServiceWorker registration successful with scope: ", registration.scope);\n    }, function (err) {\n      // registration failed :(\n      console.log("ServiceWorker registration failed: ", err);\n    });\n    targetOrigin = targetOrigin || "*";\n    cacheCallback = cacheCallback || cacheRequirements;\n\n    if (cacheCallback && typeof cacheCallback !== "function") {\n      throw new Error("config.cache_requirements must be a function");\n    }\n\n    window.addEventListener("message", function (e) {\n      if (targetOrigin === "*" || e.origin === targetOrigin) {\n        const m = e.data;\n\n        if (m.type === "cacheRequirements") {\n          cacheCallback(m.requirements);\n        }\n      }\n    });\n  }\n} //#Source https://bit.ly/2neWfJ2\n\nfunction urlJoin(...args) {\n  return args.join("/").replace(/[\\/]+/g, "/").replace(/^(.+):\\//, "$1://").replace(/^file:/, "file:/").replace(/\\/(\\?|&|#[^!])/g, "$1").replace(/\\?/g, "&").replace("&", "?");\n}\nclass MessageEmitter {\n  constructor(debug) {\n    this._event_handlers = {};\n    this._once_handlers = {};\n    this._debug = debug;\n  }\n\n  emit() {\n    throw new Error("emit is not implemented");\n  }\n\n  on(event, handler) {\n    if (!this._event_handlers[event]) {\n      this._event_handlers[event] = [];\n    }\n\n    this._event_handlers[event].push(handler);\n  }\n\n  once(event, handler) {\n    handler.___event_run_once = true;\n    this.on(event, handler);\n  }\n\n  off(event, handler) {\n    if (!event && !handler) {\n      // remove all events handlers\n      this._event_handlers = {};\n    } else if (event && !handler) {\n      // remove all hanlders for the event\n      if (this._event_handlers[event]) this._event_handlers[event] = [];\n    } else {\n      // remove a specific handler\n      if (this._event_handlers[event]) {\n        const idx = this._event_handlers[event].indexOf(handler);\n\n        if (idx >= 0) {\n          this._event_handlers[event].splice(idx, 1);\n        }\n      }\n    }\n  }\n\n  _fire(event, data) {\n    if (this._event_handlers[event]) {\n      var i = this._event_handlers[event].length;\n\n      while (i--) {\n        const handler = this._event_handlers[event][i];\n\n        try {\n          handler(data);\n        } catch (e) {\n          console.error(e);\n        } finally {\n          if (handler.___event_run_once) {\n            this._event_handlers[event].splice(i, 1);\n          }\n        }\n      }\n    } else {\n      if (this._debug) {\n        console.warn("unhandled event", event, data);\n      }\n    }\n  }\n\n}\n\n/***/ })\n\n/******/ });\n//# sourceMappingURL=plugin.webworker.js.map',null)}},"./src/pluginCore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"connectRPC",(function(){return a}));var n=r("./src/rpc.js");function a(e,t){t=t||{};var r={},a=new n.RPC(e,t,r);a.on("getInterface",(function(){s()})),a.on("remoteReady",(function(){var e=a.getRemote()||{};e.registerCodec=function(e){if(!e.name||!e.encoder&&!e.decoder)throw new Error("Invalid codec format, please make sure you provide a name, type, encoder and decoder.");if(e.type)for(var t=0,n=Object.keys(r);t<n.length;t++){var a=n[t];r[a].type!==e.type&&a!==e.name||(delete r[a],console.warn("Remove duplicated codec: "+a))}r[e.name]=e},e.init=function(e){a.setInterface({setup:function(){}},e)},e.disposeObject=function(e){a.disposeObject(e)},e.export=function(e,t){a.setInterface(e,t)},e.onLoad=function(e){e=c(e),o?e():i.push(e)},e.dispose=function(e){a.disconnect()},e._rpc=a,"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?(self.api=e,self.postMessage({type:"imjoy_remote_api_ready"}),self.dispatchEvent(new CustomEvent("imjoy_remote_api_ready",{detail:e}))):window.dispatchEvent(new CustomEvent("imjoy_remote_api_ready",{detail:e}))}));var o=!1,i=[],s=function(){var e;if(!o)for(o=!0;e=i.pop();)e()},c=function(e){var t=typeof e;if("function"!==t)throw new Error("A function may only be subsribed to the event, "+t+" was provided instead");return e};return a}},"./src/pluginIframe.js":function srcPluginIframeJs(module,__nested_webpack_exports__,__nested_webpack_require_348236__){"use strict";__nested_webpack_require_348236__.r(__nested_webpack_exports__),__nested_webpack_require_348236__.d(__nested_webpack_exports__,"Connection",(function(){return Connection})),__nested_webpack_require_348236__.d(__nested_webpack_exports__,"default",(function(){return setupIframe}));var _pluginCore_js__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_348236__("./src/pluginCore.js"),_rpc_js__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_348236__("./src/rpc.js"),_utils_js__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_348236__("./src/utils.js");function _htmlToElement(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild}var _inWebWorker="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;function executeEsModule(e){return _executeEsModule.apply(this,arguments)}function _executeEsModule(){return(_executeEsModule=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="data:text/javascript;charset=utf-8,"+encodeURIComponent(t),e.next=3,import(r);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Connection=function(_utils_js__WEBPACK_IM){_inherits(Connection,_utils_js__WEBPACK_IM);var _super10=_createSuper(Connection);function Connection(e){var t;return _classCallCheck(this,Connection),(t=_super10.call(this,e&&e.debug)).config=e||{},t.peer_id=Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__.randId)(),t}return _createClass(Connection,[{key:"connect",value:function(){this.config.target_origin=this.config.target_origin||"*",this.config.broadcastChannel?this.broadcastChannel=new BroadcastChannel(this.config.broadcastChannel):this.broadcastChannel=null,this.broadcastChannel?this.broadcastChannel.addEventListener("message",this):globalThis.addEventListener("message",this),this.emit({type:"initialized",config:this.config,origin:globalThis.location.origin,peer_id:this.peer_id}),this._fire("connected")}},{key:"handleEvent",value:function(e){"message"!==e.type||!this.broadcastChannel&&"*"!==this.config.target_origin&&e.origin&&e.origin!==this.config.target_origin||(e.data.peer_id===this.peer_id?this._fire(e.data.type,e.data):this.config.debug&&console.log("connection peer id mismatch ".concat(e.data.peer_id," !== ").concat(this.peer_id)))}},{key:"disconnect",value:function(){this._fire("beforeDisconnect"),globalThis.removeEventListener("message",this),this._fire("disconnected")}},{key:"emit",value:function(e){var t;this.broadcastChannel?this.broadcastChannel.postMessage(e):e.__transferables__?(t=e.__transferables__,delete e.__transferables__):_inWebWorker?self.postMessage(e,t):parent.postMessage(e,this.config.target_origin,t)}},{key:"execute",value:function(){var _execute=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(code){var script_node,node,k,style_node,link_node_;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.prev=0,"requirements"!==code.type){_context.next=6;break}return _context.next=4,Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadRequirementsInWindow)(code.requirements);case 4:_context.next=49;break;case 6:if("script"!==code.type){_context.next=29;break}if(!code.src){_context.next=14;break}script_node=document.createElement("script"),script_node.setAttribute("type",code.attrs.type),script_node.setAttribute("src",code.src),document.head.appendChild(script_node),_context.next=27;break;case 14:if(!code.content||"javascript"!==code.attrs.lang){_context.next=23;break}if("module"!==code.attrs.type){_context.next=20;break}return _context.next=18,executeEsModule(code.content);case 18:_context.next=21;break;case 20:eval(code.content);case 21:_context.next=27;break;case 23:for(k in node=document.createElement("script"),code.attrs)node.setAttribute(k,code.attrs[k]);node.appendChild(document.createTextNode(code.content)),document.body.appendChild(node);case 27:_context.next=49;break;case 29:if("style"!==code.type){_context.next=36;break}style_node=document.createElement("style"),code.src&&(style_node.src=code.src),style_node.innerHTML=code.content,document.head.appendChild(style_node),_context.next=49;break;case 36:if("link"!==code.type){_context.next=44;break}link_node_=document.createElement("link"),code.rel&&(link_node_.rel=code.rel),code.href&&(link_node_.href=code.href),code.attrs&&code.attrs.type&&(link_node_.type=code.attrs.type),document.head.appendChild(link_node_),_context.next=49;break;case 44:if("html"!==code.type){_context.next=48;break}document.body.appendChild(_htmlToElement(code.content)),_context.next=49;break;case 48:throw"unsupported code type.";case 49:_inWebWorker?self.postMessage({type:"executed"}):parent.postMessage({type:"executed"},this.config.target_origin),_context.next=56;break;case 52:_context.prev=52,_context.t0=_context.catch(0),console.error("failed to execute scripts: ",code,_context.t0),_inWebWorker?self.postMessage({type:"executed",error:_context.t0.stack||String(_context.t0)}):parent.postMessage({type:"executed",error:_context.t0.stack||String(_context.t0)},this.config.target_origin);case 56:case"end":return _context.stop()}}),_callee,this,[[0,52]])})));function execute(e){return _execute.apply(this,arguments)}return execute}()}]),Connection}(_utils_js__WEBPACK_IMPORTED_MODULE_2__.MessageEmitter);function setupIframe(e){(e=e||{}).dedicated_thread=!1,e.lang="javascript",e.api_version=_rpc_js__WEBPACK_IMPORTED_MODULE_1__.API_VERSION;var t=new Connection(e);Object(_pluginCore_js__WEBPACK_IMPORTED_MODULE_0__.connectRPC)(t,e),t.connect()}},"./src/rpc.js":function(t,r,n){"use strict";n.r(r),n.d(r,"API_VERSION",(function(){return o})),n.d(r,"RPC",(function(){return u}));var a=n("./src/utils.js"),o="0.2.3",i=Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array)).constructor;function s(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer}function c(e,t){if(!t)throw new Error("undefined index");return"string"===typeof t?c(e,t.split(".")):0===t.length?e:c(e[t[0]],t.slice(1))}var u=function(t){_inherits(n,t);var r=_createSuper(n);function n(e,t,a){var o;_classCallCheck(this,n),(o=r.call(this,t&&t.debug))._connection=e,o.config=t||{},o._codecs=a||{},o._object_store={},o._method_weakmap=new WeakMap,o._object_weakmap=new WeakMap,o._local_api=null,o._remote_set=!1;var i=o.config.name;return o._connection.execute=o._connection.execute||function(){throw new Error('connection.execute not implemented (in "'.concat(i,'")'))},o._store=new l,o._method_refs=new l,o._method_refs.onReady((function(){o._fire("remoteIdle")})),o._method_refs.onBusy((function(){o._fire("remoteBusy")})),o._setupMessageHanlders(),o}return _createClass(n,[{key:"init",value:function(){this._connection.emit({type:"initialized",config:this.config,peer_id:this._connection.peer_id})}},{key:"setConfig",value:function(e){if(e)for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];this.config[n]=e[n]}}},{key:"getRemoteCallStack",value:function(){return this._method_refs.getStack()}},{key:"getRemote",value:function(){return this._remote_interface}},{key:"setInterface",value:function(e,t){var r=this;if(t=t||{},this.config.name=t.name||this.config.name,this.config.description=t.description||this.config.description,this.config.forwarding_functions){var n,a=_createForOfIteratorHelper(this.config.forwarding_functions);try{var o=function(){var t=n.value,a=r._remote_interface;a[t]&&(e.constructor===Object?e[t]||(e[t]=function(){a[t].apply(a,arguments)}):e.constructor.constructor===Function&&(e.constructor.prototype[t]||(e.constructor.prototype[t]=function(){a[t].apply(a,arguments)})))};for(a.s();!(n=a.n()).done;)o()}catch(i){a.e(i)}finally{a.f()}}return this._local_api=e,this._remote_set?this.sendInterface():this._fire("interfaceAvailable"),new Promise((function(e){r.once("interfaceSetAsRemote",e)}))}},{key:"sendInterface",value:function(){var e=this;if(!this._local_api)throw new Error("interface is not set.");this._encode(this._local_api,!0).then((function(t){e._connection.emit({type:"setInterface",api:t})}))}},{key:"_disposeObject",value:function(e){if(!this._object_store[e])throw new Error("Object (id=".concat(e,") not found."));delete this._object_store[e]}},{key:"disposeObject",value:function(e){var t=this;return new Promise((function(r,n){if(!t._object_weakmap.has(e))throw new Error("Invalid object");var a=t._object_weakmap.get(e);t._connection.once("disposed",(function(e){e.error?n(new Error(e.error)):r()})),t._connection.emit({type:"disposeObject",object_id:a})}))}},{key:"_setupMessageHanlders",value:function(){var t=this;this._connection.on("init",this.init),this._connection.on("execute",(function(e){Promise.resolve(t._connection.execute(e.code)).then((function(){t._connection.emit({type:"executed"})})).catch((function(e){console.error(e),t._connection.emit({type:"executed",error:String(e)})}))})),this._connection.on("method",function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var n,a,o,i,s,u,l,f,d,p,h;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r.promise){e.next=8;break}return e.next=4,t._unwrap(r.promise,!1);case 4:l=e.sent,f=_slicedToArray(l,2),n=f[0],a=f[1];case 8:return d=t._object_store[r.object_id],o=c(d,r.name),r.name.includes(".")?(p=r.name.split("."),h=p.slice(0,p.length-1).join("."),i=c(d,h)):i=d,e.next=13,t._unwrap(r.args,!0);case 13:s=e.sent,r.promise?(u=o.apply(i,s))instanceof Promise||o.constructor&&"AsyncFunction"===o.constructor.name?u.then(n).catch(a):n(u):o.apply(i,s),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(t.config.name,e.t0),a&&a(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}()),this._connection.on("callback",function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var n,a,o,i,s,c,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r.promise){e.next=8;break}return e.next=4,t._unwrap(r.promise,!1);case 4:c=e.sent,u=_slicedToArray(c,2),n=u[0],a=u[1];case 8:if(!r.promise){e.next=19;break}return o=t._store.fetch(r.id),e.next=12,t._unwrap(r.args,!0);case 12:if(i=e.sent,o){e.next=15;break}throw new Error("Callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.");case 15:(s=o.apply(null,i))instanceof Promise||o.constructor&&"AsyncFunction"===o.constructor.name?s.then(n).catch(a):n(s),e.next=26;break;case 19:return o=t._store.fetch(r.id),e.next=22,t._unwrap(r.args,!0);case 22:if(i=e.sent,o){e.next=25;break}throw new Error("Please notice that callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.");case 25:o.apply(null,i);case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(0),console.error(t.config.name,e.t0),a&&a(e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t){return e.apply(this,arguments)}}()),this._connection.on("disposeObject",(function(r){try{t._disposeObject(r.object_id),t._connection.emit({type:"disposed"})}catch(e){console.error(e),t._connection.emit({type:"disposed",error:String(e)})}})),this._connection.on("setInterface",(function(e){t._setRemoteInterface(e.api)})),this._connection.on("getInterface",(function(){t._fire("getInterface"),t._local_api?t.sendInterface():t.once("interfaceAvailable",(function(){t.sendInterface()}))})),this._connection.on("interfaceSetAsRemote",(function(){t._remote_set=!0,t._fire("interfaceSetAsRemote")})),this._connection.on("disconnect",(function(){t._fire("beforeDisconnect"),t._connection.disconnect(),t._fire("disconnected")}))}},{key:"requestRemote",value:function(){this._connection.emit({type:"getInterface"})}},{key:"_ndarray",value:function(e,t,r){var n=Object(a.typedArrayToDtype)(e);if(r&&r!==n)throw"dtype doesn't match the type of the array: "+n+" != "+r;return t=t||[e.length],{_rtype:"ndarray",_rvalue:e.buffer,_rshape:t,_rdtype:n}}},{key:"_setRemoteInterface",value:function(e){var t=this;this._decode(e).then((function(e){if(t._remote_interface){for(var r in t._remote_interface)delete t._remote_interface[r];Object.assign(t._remote_interface,e)}else t._remote_interface=e;t._fire("remoteReady"),t._reportRemoteSet()}))}},{key:"_genRemoteMethod",value:function(e,t,r){var n=this,a=function(){var a=arguments;return new Promise(function(){var o=_asyncToGenerator(_regeneratorRuntime().mark((function o(i,s){var c,u,l,f,d,p,h,m;return _regeneratorRuntime().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return c=null,o.prev=1,c=n._method_refs.put(r?r+"/"+t:t),u=function(){return null!==c&&n._method_refs.fetch(c),i.apply(this,arguments)},l=function(){return null!==c&&n._method_refs.fetch(c),s.apply(this,arguments)},o.next=7,n._wrap([u,l]);case 7:if(f=o.sent,u.__promise_pair=f[1]._rvalue,l.__promise_pair=f[0]._rvalue,d=Array.prototype.slice.call(a),p=d.length,(h=p>0&&"object"===typeof d[p-1]&&null!==d[p-1]&&d[p-1]._rkwargs)&&delete d[p-1]._rkwargs,"register"!==t&&"registerService"!==t&&"register_service"!==t&&"export"!==t&&"on"!==t){o.next=20;break}return o.next=17,n._wrap(d,!0);case 17:d=o.sent,o.next=23;break;case 20:return o.next=22,n._wrap(d);case 22:d=o.sent;case 23:(m=d.__transferables__)&&delete d.__transferables__,n._connection.emit({type:"method",target_id:e,name:t,object_id:r,args:d,promise:f,with_kwargs:h},m),o.next=32;break;case 28:o.prev=28,o.t0=o.catch(1),c&&n._method_refs.fetch(c),s("Failed to exectue remote method (interface: ".concat(r||n.id,", method: ").concat(t,"), error: ").concat(o.t0));case 32:case"end":return o.stop()}}),o,null,[[1,28]])})));return function(e,t){return o.apply(this,arguments)}}())};return a.__remote_method=!0,a}},{key:"_reportRemoteSet",value:function(){this._connection.emit({type:"interfaceSetAsRemote"})}},{key:"_encode",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n){var o,s,c,u,l,f,d,p,h,m,v,_,y,g,b,w,k,x,j,E,S,O,P,A,T,C,R,I,D,F=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("number"===(o=typeof t)||"string"===o||"boolean"===o||null===t||void 0===t||t instanceof ArrayBuffer)){e.next=3;break}return e.abrupt("return",t);case 3:if("function"!==typeof t){e.next=13;break}if(!r){e.next=11;break}if(n){e.next=7;break}throw new Error("objectId is not specified.");case 7:s={_rtype:"interface",_rtarget_id:this._connection.peer_id,_rintf:n,_rvalue:r},this._method_weakmap.set(t,s),e.next=12;break;case 11:this._method_weakmap.has(t)?s=this._method_weakmap.get(t):(c=this._store.put(t),s={_rtype:"callback",_rtarget_id:this._connection.peer_id,_rname:t.constructor&&t.constructor.name||c,_rvalue:c});case 12:return e.abrupt("return",s);case 13:if(!(t.constructor instanceof Object&&t._rtype)){e.next=25;break}if(!t._rintf){e.next=23;break}return u=t._rtype,delete t._rtype,e.next=19,this._encode(t,r,n);case 19:(s=e.sent)._rtype=u,e.next=24;break;case 23:s=t;case 24:return e.abrupt("return",s);case 25:l=[],f=t._transfer,d=Array.isArray(t),p=0,h=Object.keys(this._codecs);case 29:if(!(p<h.length)){e.next=49;break}if(m=h[p],!((v=this._codecs[m]).encoder&&t instanceof v.type)){e.next=46;break}return e.next=35,Promise.resolve(v.encoder(t));case 35:if((_=e.sent)&&!_._rtype&&(_._rtype=v.name),!_||!_._rintf){e.next=44;break}return y=_._rtype,delete _._rtype,e.next=42,this._encode(_,r,n);case 42:(_=e.sent)._rtype=y;case 44:return s=_,e.abrupt("return",s);case 46:p++,e.next=29;break;case 49:if(!("undefined"!==typeof tf&&tf.Tensor&&t instanceof tf.Tensor)){e.next=55;break}g=t.dataSync(),(t._transfer||f)&&(l.push(g.buffer),delete t._transfer),s={_rtype:"ndarray",_rvalue:g.buffer,_rshape:t.shape,_rdtype:t.dtype},e.next=202;break;case 55:if(!("undefined"!==typeof nj&&nj.NdArray&&t instanceof nj.NdArray)){e.next=61;break}b=Object(a.typedArrayToDtype)(t.selection.data),(t._transfer||f)&&(l.push(t.selection.data.buffer),delete t._transfer),s={_rtype:"ndarray",_rvalue:t.selection.data.buffer,_rshape:t.shape,_rdtype:b},e.next=202;break;case 61:if(!(t instanceof Error)){e.next=66;break}console.error(t),s={_rtype:"error",_rvalue:t.toString()},e.next=202;break;case 66:if(!("undefined"!==typeof File&&t instanceof File)){e.next=70;break}s={_rtype:"file",_rvalue:t,_rpath:t._path||t.webkitRelativePath},e.next=202;break;case 70:if(!(t!==Object(t)||t instanceof Boolean||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ImageData||"undefined"!==typeof FileList&&t instanceof FileList||"undefined"!==typeof FileSystemDirectoryHandle&&t instanceof FileSystemDirectoryHandle||"undefined"!==typeof FileSystemFileHandle&&t instanceof FileSystemFileHandle||"undefined"!==typeof FileSystemHandle&&t instanceof FileSystemHandle||"undefined"!==typeof FileSystemWritableFileStream&&t instanceof FileSystemWritableFileStream)){e.next=74;break}s=t,e.next=202;break;case 74:if(!("undefined"!==typeof File&&t instanceof File)){e.next=78;break}s={_rtype:"file",_rname:t.name,_rmime:t.type,_rvalue:t,_rpath:t._path||t.webkitRelativePath},e.next=202;break;case 78:if(!(t instanceof Blob)){e.next=82;break}s={_rtype:"blob",_rvalue:t},e.next=202;break;case 82:if(!(t instanceof i)){e.next=88;break}(t._transfer||f)&&(l.push(t.buffer),delete t._transfer),w=Object(a.typedArrayToDtype)(t),s={_rtype:"typedarray",_rvalue:t.buffer,_rdtype:w},e.next=202;break;case 88:if(!(t instanceof DataView)){e.next=93;break}(t._transfer||f)&&(l.push(t.buffer),delete t._transfer),s={_rtype:"memoryview",_rvalue:t.buffer},e.next=202;break;case 93:if(!(t instanceof Set)){e.next=100;break}return e.next=96,this._encode(Array.from(t),r);case 96:e.t0=e.sent,s={_rtype:"set",_rvalue:e.t0},e.next=202;break;case 100:if(!(t instanceof Map)){e.next=107;break}return e.next=103,this._encode(Array.from(t),r);case 103:e.t1=e.sent,s={_rtype:"orderedmap",_rvalue:e.t1},e.next=202;break;case 107:if(!(t.constructor instanceof Object||Array.isArray(t))){e.next=175;break}if(s=d?[]:{},t.constructor!==Object&&!Array.isArray(t)){e.next=113;break}k=Object.keys(t),e.next=123;break;case 113:if(t.constructor!==Function){e.next=117;break}throw new Error("Please instantiate the class before exportting it.");case 117:if(t.constructor.constructor!==Function){e.next=122;break}k=Object.getOwnPropertyNames(Object.getPrototypeOf(t)).concat(Object.keys(t)),r=!0,e.next=123;break;case 122:throw Error("Unsupported interface type");case 123:if(x=!1,!t._rintf&&!r){e.next=153;break}n||(n="string"===typeof t._rintf&&t._rintf.length>0?t._rintf:Object(a.randId)(),this._object_store[n]&&console.warn("Overwritting interface object with the same id: ".concat(n)),this._object_store[n]=t),j=_createForOfIteratorHelper(k),e.prev=127,j.s();case 129:if((E=j.n()).done){e.next=141;break}if("constructor"!==(S=E.value)){e.next=133;break}return e.abrupt("continue",139);case 133:if(!S.startsWith("_")){e.next=135;break}return e.abrupt("continue",139);case 135:return e.next=137,this._encode(t[S],"string"===typeof r?r+"."+S:S,n);case 137:s[S]=e.sent,"function"===typeof t[S]&&(x=!0);case 139:e.next=129;break;case 141:e.next=146;break;case 143:e.prev=143,e.t2=e.catch(127),j.e(e.t2);case 146:return e.prev=146,j.f(),e.finish(146);case 149:x&&(s._rintf=n),t.on&&"function"===typeof t.on&&t.on("close",(function(){delete F._object_store[n]})),e.next=173;break;case 153:O=_createForOfIteratorHelper(k),e.prev=154,O.s();case 156:if((P=O.n()).done){e.next=165;break}if(A=P.value,!["hasOwnProperty","constructor"].includes(A)){e.next=160;break}return e.abrupt("continue",163);case 160:return e.next=162,this._encode(t[A]);case 162:s[A]=e.sent;case 163:e.next=156;break;case 165:e.next=170;break;case 167:e.prev=167,e.t3=e.catch(154),O.e(e.t3);case 170:return e.prev=170,O.f(),e.finish(170);case 173:e.next=202;break;case 175:if("object"!==typeof t){e.next=201;break}T=Object.getOwnPropertyNames(Object.getPrototypeOf(t)).concat(Object.keys(t)),C=Object(a.randId)(),R=_createForOfIteratorHelper(T),e.prev=179,R.s();case 181:if((I=R.n()).done){e.next=190;break}if(D=I.value,!["hasOwnProperty","constructor"].includes(D)){e.next=185;break}return e.abrupt("continue",188);case 185:return e.next=187,this._encode(t[D],D,s);case 187:s[D]=e.sent;case 188:e.next=181;break;case 190:e.next=195;break;case 192:e.prev=192,e.t4=e.catch(179),R.e(e.t4);case 195:return e.prev=195,R.f(),e.finish(195);case 198:s._rintf=C,e.next=202;break;case 201:throw"imjoy-rpc: Unsupported data type:"+t;case 202:if(l.length>0&&(s.__transferables__=l),s){e.next=205;break}throw new Error("Failed to encode object");case 205:return e.abrupt("return",s);case 206:case"end":return e.stop()}}),e,this,[[127,143,146,149],[154,167,170,173],[179,192,195,198]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_decode",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n,o,i,c,u,l,f,d,p,h;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",t);case 2:if(!t._rtype){e.next=79;break}if(!this._codecs[t._rtype]||!this._codecs[t._rtype].decoder){e.next=16;break}if(!t._rintf){e.next=11;break}return o=t._rtype,delete t._rtype,e.next=9,this._decode(t,r);case 9:(t=e.sent)._rtype=o;case 11:return e.next=13,Promise.resolve(this._codecs[t._rtype].decoder(t));case 13:n=e.sent,e.next=77;break;case 16:if("callback"!==t._rtype){e.next=20;break}n=this._genRemoteCallback(t._rtarget_id,t._rvalue,r),e.next=77;break;case 20:if("interface"!==t._rtype){e.next=24;break}n=this._genRemoteMethod(t._rtarget_id,t._rvalue,t._rintf),e.next=77;break;case 24:if("ndarray"!==t._rtype){e.next=28;break}"undefined"!==typeof nj&&nj.array?(Array.isArray(t._rvalue)&&(t._rvalue=t._rvalue.reduce(s)),n=nj.array(new Uint8(t._rvalue),t._rdtype).reshape(t._rshape)):"undefined"!==typeof tf&&tf.Tensor?(Array.isArray(t._rvalue)&&(t._rvalue=t._rvalue.reduce(s)),i=a.dtypeToTypedArray[t._rdtype],n=tf.tensor(new i(t._rvalue),t._rshape,t._rdtype)):n=t,e.next=77;break;case 28:if("error"!==t._rtype){e.next=32;break}n=new Error(t._rvalue),e.next=77;break;case 32:if("file"!==t._rtype){e.next=36;break}t._rvalue instanceof File?(n=t._rvalue)._path=t._rpath:(n=new File([t._rvalue],t._rname,{type:t._rmime}))._path=t._rpath,e.next=77;break;case 36:if("typedarray"!==t._rtype){e.next=43;break}if(c=a.dtypeToTypedArray[t._rdtype]){e.next=40;break}throw new Error("unsupported dtype: "+t._rdtype);case 40:n=new c(t._rvalue),e.next=77;break;case 43:if("memoryview"!==t._rtype){e.next=47;break}n=new DataView(t._rvalue),e.next=77;break;case 47:if("blob"!==t._rtype){e.next=51;break}n=t._rvalue instanceof Blob?t._rvalue:new Blob([t._rvalue],{type:t._rmime}),e.next=77;break;case 51:if("orderedmap"!==t._rtype){e.next=59;break}return e.t0=Map,e.next=55,this._decode(t._rvalue,r);case 55:e.t1=e.sent,n=new e.t0(e.t1),e.next=77;break;case 59:if("set"!==t._rtype){e.next=67;break}return e.t2=Set,e.next=63,this._decode(t._rvalue,r);case 63:e.t3=e.sent,n=new e.t2(e.t3),e.next=77;break;case 67:if(!t._rintf){e.next=76;break}return u=t._rtype,delete t._rtype,e.next=72,this._decode(t,r);case 72:(n=e.sent)._rtype=u,e.next=77;break;case 76:n=t;case 77:e.next=96;break;case 79:if(t.constructor!==Object&&!Array.isArray(t)){e.next=95;break}l=Array.isArray(t),n=l?[]:{},f=0,d=Object.keys(t);case 83:if(!(f<d.length)){e.next=93;break}if(p=d[f],!l&&!t.hasOwnProperty(p)){e.next=90;break}return h=t[p],e.next=89,this._decode(h,r);case 89:n[p]=e.sent;case 90:f++,e.next=83;break;case 93:e.next=96;break;case 95:n=t;case 96:if(void 0!==n){e.next=98;break}throw new Error("Failed to decode object");case 98:return t._rintf&&this._object_weakmap.set(n,t._rintf),e.abrupt("return",n);case 100:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_wrap",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._encode(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_unwrap",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._decode(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_genRemoteCallback",value:function(t,r,n){var a,o=this;return n?(a=function(){var n=arguments;return new Promise(function(){var a=_asyncToGenerator(_regeneratorRuntime().mark((function a(i,s){var c,u,l,f,d;return _regeneratorRuntime().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o._wrap(Array.prototype.slice.call(n));case 2:return c=a.sent,u=c.length,(l=u>0&&"object"===typeof c[u-1]&&null!==c[u-1]&&c[u-1]._rkwargs)&&delete c[u-1]._rkwargs,(f=c.__transferables__)&&delete c.__transferables__,a.next=10,o._wrap([i,s]);case 10:d=a.sent,i.__promise_pair=d[1]._rvalue,s.__promise_pair=d[0]._rvalue;try{o._connection.emit({type:"callback",target_id:t,id:r,args:c,promise:d,with_kwargs:l},f)}catch(e){s("Failed to exectue remote callback ( id: ".concat(r,")."))}case 14:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())},a):(a=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n,a,i,s,c=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o._wrap(Array.prototype.slice.call(c));case 2:return n=e.sent,a=n.length,(i=a>0&&"object"===typeof n[a-1]&&null!==n[a-1]&&n[a-1]._rkwargs)&&delete n[a-1]._rkwargs,(s=n.__transferables__)&&delete n.__transferables__,e.abrupt("return",o._connection.emit({type:"callback",target_id:t,id:r,args:n,with_kwargs:i},s));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a)}},{key:"reset",value:function(){this._event_handlers={},this._once_handlers={},this._remote_interface=null,this._object_store={},this._method_weakmap=new WeakMap,this._object_weakmap=new WeakMap,this._local_api=null,this._store=new l,this._method_refs=new l}},{key:"disconnect",value:function(){var e=this;this._connection.emit({type:"disconnect"}),this.reset(),setTimeout((function(){e._connection.disconnect()}),2e3)}}]),n}(a.MessageEmitter),l=function(){function e(){_classCallCheck(this,e),this._store={},this._indices=[0],this._readyHandler=function(){},this._busyHandler=function(){},this._readyHandler()}return _createClass(e,[{key:"onReady",value:function(e){this._readyHandler=e||function(){}}},{key:"onBusy",value:function(e){this._busyHandler=e||function(){}}},{key:"getStack",value:function(){return Object.keys(this._store).length}},{key:"_genId",value:function(){return 1===this._indices.length?this._indices[0]++:this._indices.shift()}},{key:"_releaseId",value:function(e){for(var t=0;t<this._indices.length;t++)if(e<this._indices[t]){this._indices.splice(t,0,e);break}for(var r=this._indices.length-1;r>=0&&this._indices[r]-1===this._indices[r-1];r--)this._indices.pop()}},{key:"put",value:function(e){this._busyHandler&&0===Object.keys(this._store).length&&this._busyHandler();var t=this._genId();return this._store[t]=e,t}},{key:"fetch",value:function(e){var t=this._store[e];return t&&!t.__remote_method&&(delete this._store[e],this._releaseId(e),this._readyHandler&&0===Object.keys(this._store).length&&this._readyHandler()),t&&t.__promise_pair&&this.fetch(t.__promise_pair),t}}]),e}()},"./src/socketIOMain.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Connection",(function(){return u})),r.d(t,"connectToServer",(function(){return l}));var n=r("./src/pluginCore.js"),a=r("./src/rpc.js");r.d(t,"RPC",(function(){return a.RPC})),r.d(t,"API_VERSION",(function(){return a.API_VERSION}));var o=r("./src/utils.js");r.d(t,"loadRequirements",(function(){return o.loadRequirements}));var i=r("./node_modules/socket.io-client/build/esm/index.js"),s=r("./src/main.js");r.d(t,"setupRPC",(function(){return s.setupRPC})),r.d(t,"waitForInitialization",(function(){return s.waitForInitialization}));var c=r("./package.json");r.d(t,"VERSION",(function(){return c.version}));var u=function(e){_inherits(r,e);var t=_createSuper(r);function r(e){var n;return _classCallCheck(this,r),(n=t.call(this,e&&e.debug)).config=e||{},n.peer_id=Object(o.randId)(),n}return _createClass(r,[{key:"init",value:function(){var e=this;return new Promise((function(t,r){var a=e.config,o=a.server_url,s={};a.token&&(s.Authorization="Bearer "+a.token);var c=new URL(o).pathname,u=Object(i.default)(o,{withCredentials:!0,extraHeaders:s,path:(c.endsWith("/")?c.slice(0,-1):c)+"/socket.io"}),l=!1;u.on("connect",(function(){l?console.warn("Skipping reconnect to the server"):(u.emit("register_plugin",a,(function(o){if(!o.success)return console.error(o.detail),void r(o.detail);l=!0,e.plugin_id=o.plugin_id,u.on("plugin_message",(function(t){t.peer_id===e.peer_id?e._fire(t.type,t):e.config.debug&&console.log("connection peer id mismatch ".concat(t.peer_id," !== ").concat(e.peer_id))})),e.once("initialize",(function(){e.rpc?e.rpc.once("remoteReady",(function(){e.rpc.sendInterface()})):e.rpc=Object(n.connectRPC)(e,a),e.connect(),t()})),e.emit({type:"imjoyRPCReady",config:a,peer_id:e.peer_id})})),e._disconnected=!1)})),u.on("connect_error",(function(){r("connection error"),e._fire("connectFailure")})),u.on("disconnect",(function(){r("disconnected"),e.disconnect(),e._fire("disconnected")})),e.socket=u}))}},{key:"connect",value:function(){this.emit({type:"initialized",config:this.config,origin:globalThis.location.origin,peer_id:this.peer_id}),this._fire("connected")}},{key:"reset",value:function(){this._event_handlers={},this._once_handlers={}}},{key:"execute",value:function(){throw new Error("Execution is not allowed for socketio connection")}},{key:"disconnect",value:function(){this._fire("beforeDisconnect"),this.socket.disconnect(),this.init(),this._fire("disconnected")}},{key:"emit",value:function(e){var t=this;e.plugin_id=this.plugin_id,this.socket.emit("plugin_message",e,(function(r){r.success||t._fire("error",e.detail)}))}}]),r}(o.MessageEmitter);function l(e){if(!(e=e||{}).server_url)throw new Error("Server URL is not specified.");return e.name=e.name||Object(o.randId)(),e=Object(o.normalizeConfig)(e),new Promise((function(t,r){globalThis.addEventListener("imjoy_remote_api_ready",(function r(n){var a=n.detail;e.expose_api_globally&&(globalThis.api=a),t(a),globalThis.removeEventListener("imjoy_remote_api_ready",r)})),(e=e||{}).dedicated_thread=!1,e.lang="javascript",e.api_version=a.API_VERSION,new u(e).init().catch(r)}))}},"./src/utils.js":function srcUtilsJs(module,__nested_webpack_exports__,__nested_webpack_require_442999__){"use strict";function randId(){return Math.random().toString(36).substr(2,10)+(new Date).getTime()}__nested_webpack_require_442999__.r(__nested_webpack_exports__),__nested_webpack_require_442999__.d(__nested_webpack_exports__,"randId",(function(){return randId})),__nested_webpack_require_442999__.d(__nested_webpack_exports__,"dtypeToTypedArray",(function(){return dtypeToTypedArray})),__nested_webpack_require_442999__.d(__nested_webpack_exports__,"loadRequirementsInWindow",(function(){return loadRequirementsInWindow})),__nested_webpack_require_442999__.d(__nested_webpack_exports__,"loadRequirementsInWebworker",(function(){return loadRequirementsInWebworker})),__nested_webpack_require_442999__.d(__nested_webpack_exports__,"loadRequirements",(function(){return loadRequirements})),__nested_webpack_require_442999__.d(__nested_webpack_exports__,"normalizeConfig",(function(){return normalizeConfig})),__nested_webpack_require_442999__.d(__nested_webpack_exports__,"typedArrayToDtypeMapping",(function(){return typedArrayToDtypeMapping})),__nested_webpack_require_442999__.d(__nested_webpack_exports__,"typedArrayToDtype",(function(){return typedArrayToDtype})),__nested_webpack_require_442999__.d(__nested_webpack_exports__,"cacheRequirements",(function(){return cacheRequirements})),__nested_webpack_require_442999__.d(__nested_webpack_exports__,"setupServiceWorker",(function(){return setupServiceWorker})),__nested_webpack_require_442999__.d(__nested_webpack_exports__,"urlJoin",(function(){return urlJoin})),__nested_webpack_require_442999__.d(__nested_webpack_exports__,"MessageEmitter",(function(){return MessageEmitter}));var dtypeToTypedArray={int8:Int8Array,int16:Int16Array,int32:Int32Array,uint8:Uint8Array,uint16:Uint16Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array,array:Array};function loadRequirementsInWindow(e){return _loadRequirementsInWindow.apply(this,arguments)}function _loadRequirementsInWindow(){return _loadRequirementsInWindow=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a,o,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(){return a=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,a,o=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Array.prototype.slice.call(o),n=t.length,a=0;case 1:if(!(a<n)){e.next=7;break}return e.next=4,r(t[a]);case 4:a++,e.next=1;break;case 7:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)},n=function(){return a.apply(this,arguments)},r=function(e){return new Promise((function(t,r){var n=document.createElement("script");n.src=e,n.type="text/javascript",n.onload=t,n.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||t()},n.onerror=r,document.head.appendChild(n)}))},!t||!Array.isArray(t)&&"string"!==typeof t){e.next=46;break}if(e.prev=4,t="string"===typeof t?[t]:t,!Array.isArray(t)){e.next=40;break}i=0;case 8:if(!(i<t.length)){e.next=38;break}if(!t[i].toLowerCase().endsWith(".css")&&!t[i].startsWith("css:")){e.next=17;break}t[i].startsWith("css:")&&(t[i]=t[i].slice(4)),(o=document.createElement("link")).rel="stylesheet",o.href=t[i],document.head.appendChild(o),e.next=35;break;case 17:if(!t[i].toLowerCase().endsWith(".mjs")&&!t[i].startsWith("mjs:")){e.next=23;break}return t[i].startsWith("mjs:")&&(t[i]=t[i].slice(4)),e.next=21,import(t[i]);case 21:e.next=35;break;case 23:if(!t[i].toLowerCase().endsWith(".js")&&!t[i].startsWith("js:")){e.next=29;break}return t[i].startsWith("js:")&&(t[i]=t[i].slice(3)),e.next=27,n(t[i]);case 27:e.next=35;break;case 29:if(!t[i].startsWith("http")){e.next=34;break}return e.next=32,n(t[i]);case 32:e.next=35;break;case 34:t[i].startsWith("cache:")||console.log("Unprocessed requirements url: "+t[i]);case 35:i++,e.next=8;break;case 38:e.next=41;break;case 40:throw"unsupported requirements definition";case 41:e.next=46;break;case 43:throw e.prev=43,e.t0=e.catch(4),"failed to import required scripts: "+t.toString();case 46:case"end":return e.stop()}}),e,null,[[4,43]])}))),_loadRequirementsInWindow.apply(this,arguments)}function loadRequirementsInWebworker(e){return _loadRequirementsInWebworker.apply(this,arguments)}function _loadRequirementsInWebworker(){return(_loadRequirementsInWebworker=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!Array.isArray(t)&&"string"!==typeof t){e.next=18;break}e.prev=1,Array.isArray(t)||(t=[t]),r=0;case 4:if(!(r<t.length)){e.next=13;break}if(!t[r].toLowerCase().endsWith(".css")&&!t[r].startsWith("css:")){e.next=9;break}throw"unable to import css in a webworker";case 9:t[r].toLowerCase().endsWith(".js")||t[r].startsWith("js:")?(t[r].startsWith("js:")&&(t[r]=t[r].slice(3)),importScripts(t[r])):t[r].startsWith("http")?importScripts(t[r]):t[r].startsWith("cache:")||console.log("Unprocessed requirements url: "+t[r]);case 10:r++,e.next=4;break;case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(1),"failed to import required scripts: "+t.toString();case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function loadRequirements(e){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?loadRequirementsInWebworker(e):loadRequirementsInWindow(e)}function normalizeConfig(e){return e.version=e.version||"0.1.0",e.description=e.description||"[TODO: add description for ".concat(e.name," ]"),e.type=e.type||"rpc-window",e.id=e.id||randId(),e.target_origin=e.target_origin||"*",e.allow_execution=e.allow_execution||!1,e=Object.keys(e).reduce((function(t,r){return"function"!==typeof e[r]&&(t[r]=e[r]),t}),{})}for(var typedArrayToDtypeMapping={Int8Array:"int8",Int16Array:"int16",Int32Array:"int32",Uint8Array:"uint8",Uint16Array:"uint16",Uint32Array:"uint32",Float32Array:"float32",Float64Array:"float64",Array:"array"},typedArrayToDtypeKeys=[],_i7=0,_Object$keys5=Object.keys(typedArrayToDtypeMapping);_i7<_Object$keys5.length;_i7++){var arrType=_Object$keys5[_i7];typedArrayToDtypeKeys.push(eval(arrType))}function typedArrayToDtype(e){var t=typedArrayToDtypeMapping[e.constructor.name];if(!t){var r,n=Object.getPrototypeOf(e),a=_createForOfIteratorHelper(typedArrayToDtypeKeys);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(n instanceof o){t=typedArrayToDtypeMapping[o.name];break}}}catch(i){a.e(i)}finally{a.f()}}return t}function cacheUrlInServiceWorker(e){return new Promise((function(t,r){var n={command:"add",url:e};if(navigator.serviceWorker&&navigator.serviceWorker.register){var a=new MessageChannel;a.port1.onmessage=function(e){e.data&&e.data.error?r(e.data.error):t(e.data&&e.data.result)},navigator.serviceWorker&&navigator.serviceWorker.controller?navigator.serviceWorker.controller.postMessage(n,[a.port2]):r("Service worker controller is not available")}else r("Service worker is not supported.")}))}function cacheRequirements(e){return _cacheRequirements.apply(this,arguments)}function _cacheRequirements(){return(_cacheRequirements=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=t||[],Array.isArray(t)||(t=[t]),r=_createForOfIteratorHelper(t),e.prev=3,r.s();case 5:if((n=r.n()).done){e.next=16;break}if((a=n.value).startsWith("js:")&&(a=a.slice(3)),a.startsWith("css:")&&(a=a.slice(4)),a.startsWith("cache:")&&(a=a.slice(6)),a.startsWith("http")){e.next=12;break}return e.abrupt("continue",14);case 12:return e.next=14,cacheUrlInServiceWorker(a).catch((function(e){console.error(e)}));case 14:e.next=5;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,18,21,24]])})))).apply(this,arguments)}function setupServiceWorker(e,t,r){if("serviceWorker"in navigator){if(e=e||"/",navigator.serviceWorker.register(e+"plugin-service-worker.js").then((function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)}),(function(e){console.log("ServiceWorker registration failed: ",e)})),t=t||"*",(r=r||cacheRequirements)&&"function"!==typeof r)throw new Error("config.cache_requirements must be a function");window.addEventListener("message",(function(e){if("*"===t||e.origin===t){var n=e.data;"cacheRequirements"===n.type&&r(n.requirements)}}))}}function urlJoin(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.join("/").replace(/[\/]+/g,"/").replace(/^(.+):\//,"$1://").replace(/^file:/,"file:/").replace(/\/(\?|&|#[^!])/g,"$1").replace(/\?/g,"&").replace("&","?")}var MessageEmitter=function(){function t(e){_classCallCheck(this,t),this._event_handlers={},this._once_handlers={},this._debug=e}return _createClass(t,[{key:"emit",value:function(){throw new Error("emit is not implemented")}},{key:"on",value:function(e,t){this._event_handlers[e]||(this._event_handlers[e]=[]),this._event_handlers[e].push(t)}},{key:"once",value:function(e,t){t.___event_run_once=!0,this.on(e,t)}},{key:"off",value:function(e,t){if(e||t){if(e&&!t)this._event_handlers[e]&&(this._event_handlers[e]=[]);else if(this._event_handlers[e]){var r=this._event_handlers[e].indexOf(t);r>=0&&this._event_handlers[e].splice(r,1)}}else this._event_handlers={}}},{key:"_fire",value:function(t,r){if(this._event_handlers[t])for(var n=this._event_handlers[t].length;n--;){var a=this._event_handlers[t][n];try{a(r)}catch(e){console.error(e)}finally{a.___event_run_once&&this._event_handlers[t].splice(n,1)}}else this._debug&&console.warn("unhandled event",t,r)}}]),t}()}})},module.exports=factory()},68378:function(module,__unused_webpack_exports,__webpack_require__){var _slicedToArray=__webpack_require__(27424).default,_createForOfIteratorHelper=__webpack_require__(74704).default,_regeneratorRuntime=__webpack_require__(17061).default,_classCallCheck=__webpack_require__(56690).default,_createClass=__webpack_require__(89728).default,_inherits=__webpack_require__(61655).default,_createSuper=__webpack_require__(26389).default,_asyncToGenerator=__webpack_require__(17156).default,factory;window,factory=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/main.js")}({"./node_modules/worker-loader/dist/workers/InlineWorker.js":function(t,r,n){"use strict";var a=window.URL||window.webkitURL;t.exports=function(t,r){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),n=n.getBlob()}catch(e){n=new Blob([t])}return new Worker(a.createObjectURL(n))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(e){if(!r)throw Error("Inline worker is not supported");return new Worker(r)}}},"./package.json":function(e){e.exports=JSON.parse('{"name":"imjoy-rpc","version":"0.5.44","description":"Remote procedure calls for ImJoy.","module":"index.js","types":"index.d.ts","scripts":{"build":"rm -rf dist && npm run build-umd","build-umd":"webpack --config webpack.config.js --mode development && NODE_ENV=production webpack --config webpack.config.js --mode production --devtool source-map ","watch":"NODE_ENV=production webpack --watch --progress --config webpack.config.js --mode production --devtool source-map","publish-npm":"npm install && npm run build && npm publish","serve":"webpack-dev-server","stats":"webpack --profile --json > stats.json","stats-prod":"webpack --profile --json --mode production > stats-prod.json","analyze":"webpack-bundle-analyzer -p 9999 stats.json","analyze-prod":"webpack-bundle-analyzer -p 9999 stats-prod.json","clean":"rimraf dist/*","deploy":"npm run build && node deploy-site.js","format":"prettier --write \\"{src,tests}/**/**\\"","check-format":"prettier --check \\"{src,tests}/**/**\\"","test":"karma start --single-run --browsers ChromeHeadless,FirefoxHeadless karma.conf.js","test-watch":"karma start --auto-watch --browsers ChromeDebugging karma.conf.js --debug"},"repository":{"type":"git","url":"git+https://github.com/imjoy-team/imjoy-rpc.git"},"keywords":["imjoy","rpc"],"author":"imjoy-team <imjoy.team@gmail.com>","license":"MIT","bugs":{"url":"https://github.com/imjoy-team/imjoy-rpc/issues"},"homepage":"https://github.com/imjoy-team/imjoy-rpc","dependencies":{"@msgpack/msgpack":"^2.7.1","socket.io-client":"^4.6.2"},"devDependencies":{"@babel/core":"^7.16.12","@babel/plugin-syntax-dynamic-import":"^7.8.3","@babel/polyfill":"^7.12.1","@babel/preset-env":"^7.16.11","@types/requirejs":"^2.1.34","babel-core":"^6.26.0","babel-eslint":"^10.1.0","babel-loader":"^8.2.3","babel-runtime":"^6.26.0","chai":"^4.3.6","clean-webpack-plugin":"^0.1.19","copy-webpack-plugin":"^5.1.2","eslint":"^6.8.0","eslint-config-prettier":"^4.2.0","eslint-loader":"^4.0.2","file-loader":"^0.11.2","fs-extra":"^0.30.0","gh-pages":"^2.0.1","html-loader":"^0.5.5","html-webpack-plugin":"^3.2.0","json-loader":"^0.5.4","karma":"^6.3.12","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^1.3.0","karma-mocha":"^2.0.1","karma-sourcemap-loader":"^0.3.8","karma-spec-reporter":"0.0.32","karma-webpack":"^4.0.2","lerna":"^6.0.3","lodash.debounce":"^4.0.8","mocha":"^10.1.0","postcss":"^7.0.36","prettier":"^1.6.1","rimraf":"^2.6.2","schema-utils":"^0.4.3","style-loader":"^0.18.1","ts-loader":"^9.4.3","url-loader":"^0.5.9","webpack":"^4.46.0","webpack-bundle-analyzer":"^4.7.0","webpack-cli":"^3.3.12","webpack-dev-server":"^3.11.3","webpack-merge":"^4.1.1","workbox-webpack-plugin":"^4.3.1","worker-loader":"^2.0.0","write-file-webpack-plugin":"^4.5.1"},"eslintConfig":{"globals":{"document":true,"window":true}}}')},"./src/main.js":function(t,r,n){"use strict";n.r(r),n.d(r,"waitForInitialization",(function(){return f})),n.d(r,"setupRPC",(function(){return d}));var a=n("./src/plugin.webworker.js"),o=n.n(a),i=n("./src/pluginIframe.js"),s=n("./src/utils.js");n.d(r,"loadRequirements",(function(){return s.loadRequirements}));var c=n("./src/rpc.js");n.d(r,"RPC",(function(){return c.RPC})),n.d(r,"API_VERSION",(function(){return c.API_VERSION}));var u=n("./package.json");function l(){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}function f(e){l()&&(globalThis.parent=self),(e=e||{}).enable_service_worker&&(Object(s.setupServiceWorker)(e.base_url,e.target_origin,e.cache_requirements),e.enable_service_worker=!1),e.cache_requirements&&delete e.cache_requirements;var t=e.target_origin||"*";if(e.credential_required&&"function"!==typeof e.verify_credential)throw new Error("Please also provide the `verify_credential` function with `credential_required`.");if(e.credential_required&&"*"===t)throw new Error("`target_origin` was set to `*` with `credential_required=true`, there is a security risk that you may leak the credential to website from other origin. Please specify the `target_origin` explicitly.");var r=function(){globalThis.removeEventListener("message",a)},n=Object(s.randId)(),a=function(a){if("message"===a.type&&(!a.origin||"*"===t||a.origin===t)){if("initialize"!==a.data.type)throw new Error("unrecognized message: ".concat(a.data));r(),a.data.peer_id!==n&&console.warn("".concat(a.data.config&&a.data.config.name,": connection peer id mismatch ").concat(a.data.peer_id," !== ").concat(n));var o=a.data.config;"*"!==t&&(o.target_origin=t),e.credential_required?e.verify_credential(o.credential).then((function(e){if(!e||!e.auth||e.error)throw new Error("Failed to verify the credentail:"+(e&&e.error));o.auth=e.auth,d(o).then((function(){console.log("ImJoy RPC loaded successfully!")}))})):d(o).then((function(){console.log("ImJoy RPC loaded successfully!")}))}};globalThis.addEventListener("message",a),l()?parent.postMessage({type:"imjoyRPCReady",config:e,peer_id:n}):parent.postMessage({type:"imjoyRPCReady",config:e,peer_id:n},"*")}function d(t){return(t=t||{}).name=t.name||Object(s.randId)(),(t=Object(s.normalizeConfig)(t)).enable_service_worker&&Object(s.setupServiceWorker)(t.base_url,t.target_origin,t.cache_requirements),t.cache_requirements&&delete t.cache_requirements,new Promise((function(r,n){if(function(){try{return window.self!==window.top}catch(e){return!0}}()){if("web-worker"===t.type)try{!function(e){if(!e.allow_execution)throw new Error("web-worker plugin can only work with allow_execution=true");var t=null;e.broadcastChannel&&(t=new BroadcastChannel(e.broadcastChannel));var r=new o.a,n=setTimeout((function(){r.terminate(),console.warn("Plugin failed to start as a web-worker, running in an iframe instead."),Object(i.default)(e)}),2e3),a=Object(s.randId)();r.addEventListener("message",(function(o){var i=void 0,s=o.data;if("worker-ready"===s.type)return r.postMessage({type:"connectRPC",config:e}),void clearTimeout(n);"initialized"===s.type?(s.config=Object.assign({},e,s.config),s.origin=globalThis.location.origin,s.peer_id=a):"imjoy_remote_api_ready"===s.type?globalThis.dispatchEvent(new CustomEvent("imjoy_remote_api_ready",{detail:null})):"cacheRequirements"===s.type&&"function"===typeof cache_requirements?cache_requirements(s.requirements):"disconnect"===s.type?r.terminate():s.__transferables__&&(i=s.__transferables__,delete s.__transferables__),t?t.postMessage(s):parent.postMessage(s,e.target_origin||"*",i)})),(t||window).addEventListener("message",(function(n){if("message"===n.type&&(t||"*"===e.target_origin||n.origin===e.target_origin)){var o=void 0,i=n.data;i.__transferables__&&(o=i.__transferables__,delete i.__transferables__),i.peer_id===a?r.postMessage(i,o):e.debug&&console.log("connection peer id mismatch ".concat(i.peer_id," !== ").concat(a))}}))}(t)}catch(e){Object(i.default)(t)}else{if(!["rpc-window","rpc-worker","iframe","window"].includes(t.type))return console.error("Unsupported plugin type: "+t.type),void n("Unsupported plugin type: "+t.type);Object(i.default)(t)}globalThis.addEventListener("imjoy_remote_api_ready",(function e(n){var a=n.detail;t.expose_api_globally&&(globalThis.api=a),r(a),globalThis.removeEventListener("imjoy_remote_api_ready",e)}))}else l()?Object(i.default)(t):n(new Error("imjoy-rpc should only run inside an iframe or a webworker."))}))}n.d(r,"VERSION",(function(){return u.version}))},"./src/plugin.webworker.js":function(e,t,r){e.exports=function(){return r("./node_modules/worker-loader/dist/workers/InlineWorker.js")('/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== \'undefined\' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: \'Module\' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, \'__esModule\', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === \'object\' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, \'default\', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != \'string\') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module[\'default\']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, \'a\', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = "";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = "./src/plugin.webworker.js");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ "./src/plugin.webworker.js":\n/*!*********************************!*\\\n  !*** ./src/plugin.webworker.js ***!\n  \\*********************************/\n/*! no exports provided */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _pluginCore_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pluginCore.js */ "./src/pluginCore.js");\n/* harmony import */ var _rpc_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rpc.js */ "./src/rpc.js");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ "./src/utils.js");\n/**\n * Contains the routines loaded by the plugin Worker under web-browser.\n *\n * Initializes the web environment version of the platform-dependent\n * connection object for the plugin site\n */\n\n\n\n\n// make sure this runs inside a webworker\nif (\n  typeof WorkerGlobalScope === "undefined" ||\n  !self ||\n  !(self instanceof WorkerGlobalScope)\n) {\n  throw new Error("This script can only loaded in a webworker");\n}\n\nasync function executeEsModule(content) {\n  const dataUri =\n    "data:text/javascript;charset=utf-8," + encodeURIComponent(content);\n  await import(/* webpackIgnore: true */ dataUri);\n}\n\n/**\n * Connection object provided to the RPC constructor,\n * plugin site implementation for the web-based environment.\n * Global will be then cleared to prevent exposure into the\n * Worker, so we put this local connection object into a closure\n */\nclass Connection extends _utils_js__WEBPACK_IMPORTED_MODULE_2__["MessageEmitter"] {\n  constructor(config) {\n    super(config && config.debug);\n    this.config = config || {};\n  }\n  connect() {\n    self.addEventListener("message", e => {\n      this._fire(e.data.type, e.data);\n    });\n    this.emit({\n      type: "initialized",\n      config: this.config\n    });\n  }\n  disconnect() {\n    this._fire("beforeDisconnect");\n    self.close();\n    this._fire("disconnected");\n  }\n  emit(data) {\n    let transferables = undefined;\n    if (data.__transferables__) {\n      transferables = data.__transferables__;\n      delete data.__transferables__;\n    }\n    self.postMessage(data, transferables);\n  }\n  async execute(code) {\n    if (code.type === "requirements") {\n      await Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__["loadRequirementsInWebworker"])(code.requirements);\n    } else if (code.type === "script") {\n      try {\n        if (code.attrs.type === "module") {\n          await executeEsModule(code.content);\n        } else {\n          eval(code.content);\n        }\n      } catch (e) {\n        console.error(e.message, e.stack);\n        throw e;\n      }\n    } else {\n      throw "unsupported code type.";\n    }\n    if (code.type === "requirements") {\n      self.postMessage({\n        type: "cacheRequirements",\n        requirements: code.requirements\n      });\n    }\n  }\n}\nconst config = {\n  type: "web-worker",\n  dedicated_thread: true,\n  allow_execution: true,\n  lang: "javascript",\n  api_version: _rpc_js__WEBPACK_IMPORTED_MODULE_1__["API_VERSION"]\n};\nconst conn = new Connection(config);\nconn.on("connectRPC", data => {\n  Object(_pluginCore_js__WEBPACK_IMPORTED_MODULE_0__["connectRPC"])(conn, Object.assign(data.config, config));\n});\nconn.connect();\nself.postMessage({\n  type: "worker-ready"\n});\n\n\n/***/ }),\n\n/***/ "./src/pluginCore.js":\n/*!***************************!*\\\n  !*** ./src/pluginCore.js ***!\n  \\***************************/\n/*! exports provided: connectRPC */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "connectRPC", function() { return connectRPC; });\n/* harmony import */ var _rpc_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rpc.js */ "./src/rpc.js");\n/**\n * Core plugin script loaded into the plugin process/thread.\n *\n * Initializes the plugin-site API global methods.\n */\n\nfunction connectRPC(connection, config) {\n  config = config || {};\n  const codecs = {};\n  const rpc = new _rpc_js__WEBPACK_IMPORTED_MODULE_0__["RPC"](connection, config, codecs);\n  rpc.on("getInterface", function () {\n    launchConnected();\n  });\n  rpc.on("remoteReady", function () {\n    const api = rpc.getRemote() || {};\n\n    api.registerCodec = function (config) {\n      if (!config["name"] || !config["encoder"] && !config["decoder"]) {\n        throw new Error("Invalid codec format, please make sure you provide a name, type, encoder and decoder.");\n      } else {\n        if (config.type) {\n          for (let k of Object.keys(codecs)) {\n            if (codecs[k].type === config.type || k === config.name) {\n              delete codecs[k];\n              console.warn("Remove duplicated codec: " + k);\n            }\n          }\n        }\n\n        codecs[config["name"]] = config;\n      }\n    };\n\n    api.init = function (config) {\n      // register a minimal plugin api\n      rpc.setInterface({\n        setup() {}\n\n      }, config);\n    };\n\n    api.disposeObject = function (obj) {\n      rpc.disposeObject(obj);\n    };\n\n    api.export = function (_interface, config) {\n      rpc.setInterface(_interface, config);\n    };\n\n    api.onLoad = function (handler) {\n      handler = checkHandler(handler);\n\n      if (connected) {\n        handler();\n      } else {\n        connectedHandlers.push(handler);\n      }\n    };\n\n    api.dispose = function (_interface) {\n      rpc.disconnect();\n    };\n\n    api._rpc = rpc;\n\n    if (typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope) {\n      self.api = api;\n      self.postMessage({\n        type: "imjoy_remote_api_ready"\n      });\n      self.dispatchEvent(new CustomEvent("imjoy_remote_api_ready", {\n        detail: api\n      }));\n    } else if (typeof window) {\n      window.dispatchEvent(new CustomEvent("imjoy_remote_api_ready", {\n        detail: api\n      }));\n    }\n  });\n  let connected = false;\n  const connectedHandlers = [];\n\n  const launchConnected = function () {\n    if (!connected) {\n      connected = true;\n      let handler;\n\n      while (handler = connectedHandlers.pop()) {\n        handler();\n      }\n    }\n  };\n\n  const checkHandler = function (handler) {\n    const type = typeof handler;\n\n    if (type !== "function") {\n      const msg = "A function may only be subsribed to the event, " + type + " was provided instead";\n      throw new Error(msg);\n    }\n\n    return handler;\n  };\n\n  return rpc;\n}\n\n/***/ }),\n\n/***/ "./src/rpc.js":\n/*!********************!*\\\n  !*** ./src/rpc.js ***!\n  \\********************/\n/*! exports provided: API_VERSION, RPC */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "API_VERSION", function() { return API_VERSION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RPC", function() { return RPC; });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ "./src/utils.js");\n/**\n * Contains the RPC object used both by the application\n * site, and by each plugin\n */\n\nconst API_VERSION = "0.2.3";\nconst ArrayBufferView = Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array())).constructor;\n\nfunction _appendBuffer(buffer1, buffer2) {\n  const tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n  tmp.set(new Uint8Array(buffer1), 0);\n  tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n  return tmp.buffer;\n}\n\nfunction indexObject(obj, is) {\n  if (!is) throw new Error("undefined index");\n  if (typeof is === "string") return indexObject(obj, is.split("."));else if (is.length === 0) return obj;else return indexObject(obj[is[0]], is.slice(1));\n}\n/**\n * RPC object represents a single site in the\n * communication protocol between the application and the plugin\n *\n * @param {Object} connection a special object allowing to send\n * and receive messages from the opposite site (basically it\n * should only provide send() and onMessage() methods)\n */\n\n\nclass RPC extends _utils_js__WEBPACK_IMPORTED_MODULE_0__["MessageEmitter"] {\n  constructor(connection, config, codecs) {\n    super(config && config.debug);\n    this._connection = connection;\n    this.config = config || {};\n    this._codecs = codecs || {};\n    this._object_store = {};\n    this._method_weakmap = new WeakMap();\n    this._object_weakmap = new WeakMap();\n    this._local_api = null;\n    this._remote_set = false; // make sure there is an execute function\n\n    const name = this.config.name;\n\n    this._connection.execute = this._connection.execute || function () {\n      throw new Error(`connection.execute not implemented (in "${name}")`);\n    };\n\n    this._store = new ReferenceStore();\n    this._method_refs = new ReferenceStore();\n\n    this._method_refs.onReady(() => {\n      this._fire("remoteIdle");\n    });\n\n    this._method_refs.onBusy(() => {\n      this._fire("remoteBusy");\n    });\n\n    this._setupMessageHanlders();\n  }\n\n  init() {\n    this._connection.emit({\n      type: "initialized",\n      config: this.config,\n      peer_id: this._connection.peer_id\n    });\n  }\n\n  setConfig(config) {\n    if (config) for (const k of Object.keys(config)) {\n      this.config[k] = config[k];\n    }\n  }\n  /**\n   * Set a handler to be called when received a responce from the\n   * remote site reporting that the previously provided interface\n   * has been successfully set as remote for that site\n   *\n   * @param {Function} handler\n   */\n\n\n  getRemoteCallStack() {\n    return this._method_refs.getStack();\n  }\n  /**\n   * @returns {Object} set of remote interface methods\n   */\n\n\n  getRemote() {\n    return this._remote_interface;\n  }\n  /**\n   * Sets the interface of this site making it available to the\n   * remote site by sending a message with a set of methods names\n   *\n   * @param {Object} _interface to set\n   */\n\n\n  setInterface(_interface, config) {\n    config = config || {};\n    this.config.name = config.name || this.config.name;\n    this.config.description = config.description || this.config.description;\n\n    if (this.config.forwarding_functions) {\n      for (let func_name of this.config.forwarding_functions) {\n        const _remote = this._remote_interface;\n\n        if (_remote[func_name]) {\n          if (_interface.constructor === Object) {\n            if (!_interface[func_name]) {\n              _interface[func_name] = (...args) => {\n                _remote[func_name](...args);\n              };\n            }\n          } else if (_interface.constructor.constructor === Function) {\n            if (!_interface.constructor.prototype[func_name]) {\n              _interface.constructor.prototype[func_name] = (...args) => {\n                _remote[func_name](...args);\n              };\n            }\n          }\n        }\n      }\n    }\n\n    this._local_api = _interface;\n    if (!this._remote_set) this._fire("interfaceAvailable");else this.sendInterface();\n    return new Promise(resolve => {\n      this.once("interfaceSetAsRemote", resolve);\n    });\n  }\n  /**\n   * Sends the actual interface to the remote site upon it was\n   * updated or by a special request of the remote site\n   */\n\n\n  sendInterface() {\n    if (!this._local_api) {\n      throw new Error("interface is not set.");\n    }\n\n    this._encode(this._local_api, true).then(api => {\n      this._connection.emit({\n        type: "setInterface",\n        api: api\n      });\n    });\n  }\n\n  _disposeObject(objectId) {\n    if (this._object_store[objectId]) {\n      delete this._object_store[objectId];\n    } else {\n      throw new Error(`Object (id=${objectId}) not found.`);\n    }\n  }\n\n  disposeObject(obj) {\n    return new Promise((resolve, reject) => {\n      if (this._object_weakmap.has(obj)) {\n        const objectId = this._object_weakmap.get(obj);\n\n        this._connection.once("disposed", data => {\n          if (data.error) reject(new Error(data.error));else resolve();\n        });\n\n        this._connection.emit({\n          type: "disposeObject",\n          object_id: objectId\n        });\n      } else {\n        throw new Error("Invalid object");\n      }\n    });\n  }\n  /**\n   * Handles a message from the remote site\n   */\n\n\n  _setupMessageHanlders() {\n    this._connection.on("init", this.init);\n\n    this._connection.on("execute", data => {\n      Promise.resolve(this._connection.execute(data.code)).then(() => {\n        this._connection.emit({\n          type: "executed"\n        });\n      }).catch(e => {\n        console.error(e);\n\n        this._connection.emit({\n          type: "executed",\n          error: String(e)\n        });\n      });\n    });\n\n    this._connection.on("method", async data => {\n      let resolve, reject, method, method_this, args, result;\n\n      try {\n        if (data.promise) {\n          [resolve, reject] = await this._unwrap(data.promise, false);\n        }\n\n        const _interface = this._object_store[data.object_id];\n        method = indexObject(_interface, data.name);\n\n        if (data.name.includes(".")) {\n          const tmp = data.name.split(".");\n          const intf_index = tmp.slice(0, tmp.length - 1).join(".");\n          method_this = indexObject(_interface, intf_index);\n        } else {\n          method_this = _interface;\n        }\n\n        args = await this._unwrap(data.args, true);\n\n        if (data.promise) {\n          result = method.apply(method_this, args);\n\n          if (result instanceof Promise || method.constructor && method.constructor.name === "AsyncFunction") {\n            result.then(resolve).catch(reject);\n          } else {\n            resolve(result);\n          }\n        } else {\n          method.apply(method_this, args);\n        }\n      } catch (err) {\n        console.error(this.config.name, err);\n\n        if (reject) {\n          reject(err);\n        }\n      }\n    });\n\n    this._connection.on("callback", async data => {\n      let resolve, reject, method, args, result;\n\n      try {\n        if (data.promise) {\n          [resolve, reject] = await this._unwrap(data.promise, false);\n        }\n\n        if (data.promise) {\n          method = this._store.fetch(data.id);\n          args = await this._unwrap(data.args, true);\n\n          if (!method) {\n            throw new Error("Callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.");\n          }\n\n          result = method.apply(null, args);\n\n          if (result instanceof Promise || method.constructor && method.constructor.name === "AsyncFunction") {\n            result.then(resolve).catch(reject);\n          } else {\n            resolve(result);\n          }\n        } else {\n          method = this._store.fetch(data.id);\n          args = await this._unwrap(data.args, true);\n\n          if (!method) {\n            throw new Error("Please notice that callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.");\n          }\n\n          method.apply(null, args);\n        }\n      } catch (err) {\n        console.error(this.config.name, err);\n\n        if (reject) {\n          reject(err);\n        }\n      }\n    });\n\n    this._connection.on("disposeObject", data => {\n      try {\n        this._disposeObject(data.object_id);\n\n        this._connection.emit({\n          type: "disposed"\n        });\n      } catch (e) {\n        console.error(e);\n\n        this._connection.emit({\n          type: "disposed",\n          error: String(e)\n        });\n      }\n    });\n\n    this._connection.on("setInterface", data => {\n      this._setRemoteInterface(data.api);\n    });\n\n    this._connection.on("getInterface", () => {\n      this._fire("getInterface");\n\n      if (this._local_api) {\n        this.sendInterface();\n      } else {\n        this.once("interfaceAvailable", () => {\n          this.sendInterface();\n        });\n      }\n    });\n\n    this._connection.on("interfaceSetAsRemote", () => {\n      this._remote_set = true;\n\n      this._fire("interfaceSetAsRemote");\n    });\n\n    this._connection.on("disconnect", () => {\n      this._fire("beforeDisconnect");\n\n      this._connection.disconnect();\n\n      this._fire("disconnected");\n    });\n  }\n  /**\n   * Sends a requests to the remote site asking it to provide its\n   * current interface\n   */\n\n\n  requestRemote() {\n    this._connection.emit({\n      type: "getInterface"\n    });\n  }\n\n  _ndarray(typedArray, shape, dtype) {\n    const _dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__["typedArrayToDtype"])(typedArray);\n\n    if (dtype && dtype !== _dtype) {\n      throw "dtype doesn\'t match the type of the array: " + _dtype + " != " + dtype;\n    }\n\n    shape = shape || [typedArray.length];\n    return {\n      _rtype: "ndarray",\n      _rvalue: typedArray.buffer,\n      _rshape: shape,\n      _rdtype: _dtype\n    };\n  }\n  /**\n   * Sets the new remote interface provided by the other site\n   *\n   * @param {Array} names list of function names\n   */\n\n\n  _setRemoteInterface(api) {\n    this._decode(api).then(intf => {\n      // update existing interface instead of recreating it\n      // this will preserve the object reference\n      if (this._remote_interface) {\n        // clear the interface\n        for (let k in this._remote_interface) delete this._remote_interface[k]; // then assign the new interfaces\n\n\n        Object.assign(this._remote_interface, intf);\n      } else this._remote_interface = intf;\n\n      this._fire("remoteReady");\n\n      this._reportRemoteSet();\n    });\n  }\n  /**\n   * Generates the wrapped function corresponding to a single remote\n   * method. When the generated function is called, it will send the\n   * corresponding message to the remote site asking it to execute\n   * the particular method of its interface\n   *\n   * @param {String} name of the remote method\n   *\n   * @returns {Function} wrapped remote method\n   */\n\n\n  _genRemoteMethod(targetId, name, objectId) {\n    const me = this;\n\n    const remoteMethod = function () {\n      return new Promise(async (resolve, reject) => {\n        let id = null;\n\n        try {\n          id = me._method_refs.put(objectId ? objectId + "/" + name : name);\n\n          const wrapped_resolve = function () {\n            if (id !== null) me._method_refs.fetch(id);\n            return resolve.apply(this, arguments);\n          };\n\n          const wrapped_reject = function () {\n            if (id !== null) me._method_refs.fetch(id);\n            return reject.apply(this, arguments);\n          };\n\n          const encodedPromise = await me._wrap([wrapped_resolve, wrapped_reject]); // store the key id for removing them from the reference store together\n\n          wrapped_resolve.__promise_pair = encodedPromise[1]._rvalue;\n          wrapped_reject.__promise_pair = encodedPromise[0]._rvalue;\n          let args = Array.prototype.slice.call(arguments);\n          const argLength = args.length; // if the last argument is an object, mark it as kwargs\n\n          const withKwargs = argLength > 0 && typeof args[argLength - 1] === "object" && args[argLength - 1] !== null && args[argLength - 1]._rkwargs;\n          if (withKwargs) delete args[argLength - 1]._rkwargs;\n\n          if (name === "register" || name === "registerService" || name === "register_service" || name === "export" || name === "on") {\n            args = await me._wrap(args, true);\n          } else {\n            args = await me._wrap(args);\n          }\n\n          const transferables = args.__transferables__;\n          if (transferables) delete args.__transferables__;\n\n          me._connection.emit({\n            type: "method",\n            target_id: targetId,\n            name: name,\n            object_id: objectId,\n            args: args,\n            promise: encodedPromise,\n            with_kwargs: withKwargs\n          }, transferables);\n        } catch (e) {\n          if (id) me._method_refs.fetch(id);\n          reject(`Failed to exectue remote method (interface: ${objectId || me.id}, method: ${name}), error: ${e}`);\n        }\n      });\n    };\n\n    remoteMethod.__remote_method = true;\n    return remoteMethod;\n  }\n  /**\n   * Sends a responce reporting that interface just provided by the\n   * remote site was successfully set by this site as remote\n   */\n\n\n  _reportRemoteSet() {\n    this._connection.emit({\n      type: "interfaceSetAsRemote"\n    });\n  }\n  /**\n   * Prepares the provided set of remote method arguments for\n   * sending to the remote site, replaces all the callbacks with\n   * identifiers\n   *\n   * @param {Array} args to wrap\n   *\n   * @returns {Array} wrapped arguments\n   */\n\n\n  async _encode(aObject, asInterface, objectId) {\n    const aType = typeof aObject;\n\n    if (aType === "number" || aType === "string" || aType === "boolean" || aObject === null || aObject === undefined || aObject instanceof ArrayBuffer) {\n      return aObject;\n    }\n\n    let bObject;\n\n    if (typeof aObject === "function") {\n      if (asInterface) {\n        if (!objectId) throw new Error("objectId is not specified.");\n        bObject = {\n          _rtype: "interface",\n          _rtarget_id: this._connection.peer_id,\n          _rintf: objectId,\n          _rvalue: asInterface\n        };\n\n        this._method_weakmap.set(aObject, bObject);\n      } else if (this._method_weakmap.has(aObject)) {\n        bObject = this._method_weakmap.get(aObject);\n      } else {\n        const cid = this._store.put(aObject);\n\n        bObject = {\n          _rtype: "callback",\n          _rtarget_id: this._connection.peer_id,\n          _rname: aObject.constructor && aObject.constructor.name || cid,\n          _rvalue: cid\n        };\n      }\n\n      return bObject;\n    } // skip if already encoded\n\n\n    if (aObject.constructor instanceof Object && aObject._rtype) {\n      // make sure the interface functions are encoded\n      if (aObject._rintf) {\n        const temp = aObject._rtype;\n        delete aObject._rtype;\n        bObject = await this._encode(aObject, asInterface, objectId);\n        bObject._rtype = temp;\n      } else {\n        bObject = aObject;\n      }\n\n      return bObject;\n    }\n\n    const transferables = [];\n    const _transfer = aObject._transfer;\n    const isarray = Array.isArray(aObject);\n\n    for (let tp of Object.keys(this._codecs)) {\n      const codec = this._codecs[tp];\n\n      if (codec.encoder && aObject instanceof codec.type) {\n        // TODO: what if multiple encoders found\n        let encodedObj = await Promise.resolve(codec.encoder(aObject));\n        if (encodedObj && !encodedObj._rtype) encodedObj._rtype = codec.name; // encode the functions in the interface object\n\n        if (encodedObj && encodedObj._rintf) {\n          const temp = encodedObj._rtype;\n          delete encodedObj._rtype;\n          encodedObj = await this._encode(encodedObj, asInterface, objectId);\n          encodedObj._rtype = temp;\n        }\n\n        bObject = encodedObj;\n        return bObject;\n      }\n    }\n\n    if (\n    /*global tf*/\n    typeof tf !== "undefined" && tf.Tensor && aObject instanceof tf.Tensor) {\n      const v_buffer = aObject.dataSync();\n\n      if (aObject._transfer || _transfer) {\n        transferables.push(v_buffer.buffer);\n        delete aObject._transfer;\n      }\n\n      bObject = {\n        _rtype: "ndarray",\n        _rvalue: v_buffer.buffer,\n        _rshape: aObject.shape,\n        _rdtype: aObject.dtype\n      };\n    } else if (\n    /*global nj*/\n    typeof nj !== "undefined" && nj.NdArray && aObject instanceof nj.NdArray) {\n      const dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__["typedArrayToDtype"])(aObject.selection.data);\n\n      if (aObject._transfer || _transfer) {\n        transferables.push(aObject.selection.data.buffer);\n        delete aObject._transfer;\n      }\n\n      bObject = {\n        _rtype: "ndarray",\n        _rvalue: aObject.selection.data.buffer,\n        _rshape: aObject.shape,\n        _rdtype: dtype\n      };\n    } else if (aObject instanceof Error) {\n      console.error(aObject);\n      bObject = {\n        _rtype: "error",\n        _rvalue: aObject.toString()\n      };\n    } else if (typeof File !== "undefined" && aObject instanceof File) {\n      bObject = {\n        _rtype: "file",\n        _rvalue: aObject,\n        _rpath: aObject._path || aObject.webkitRelativePath\n      };\n    } // send objects supported by structure clone algorithm\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\n    else if (aObject !== Object(aObject) || aObject instanceof Boolean || aObject instanceof String || aObject instanceof Date || aObject instanceof RegExp || aObject instanceof ImageData || typeof FileList !== "undefined" && aObject instanceof FileList || typeof FileSystemDirectoryHandle !== "undefined" && aObject instanceof FileSystemDirectoryHandle || typeof FileSystemFileHandle !== "undefined" && aObject instanceof FileSystemFileHandle || typeof FileSystemHandle !== "undefined" && aObject instanceof FileSystemHandle || typeof FileSystemWritableFileStream !== "undefined" && aObject instanceof FileSystemWritableFileStream) {\n      bObject = aObject; // TODO: avoid object such as DynamicPlugin instance.\n    } else if (typeof File !== "undefined" && aObject instanceof File) {\n      bObject = {\n        _rtype: "file",\n        _rname: aObject.name,\n        _rmime: aObject.type,\n        _rvalue: aObject,\n        _rpath: aObject._path || aObject.webkitRelativePath\n      };\n    } else if (aObject instanceof Blob) {\n      bObject = {\n        _rtype: "blob",\n        _rvalue: aObject\n      };\n    } else if (aObject instanceof ArrayBufferView) {\n      if (aObject._transfer || _transfer) {\n        transferables.push(aObject.buffer);\n        delete aObject._transfer;\n      }\n\n      const dtype = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__["typedArrayToDtype"])(aObject);\n      bObject = {\n        _rtype: "typedarray",\n        _rvalue: aObject.buffer,\n        _rdtype: dtype\n      };\n    } else if (aObject instanceof DataView) {\n      if (aObject._transfer || _transfer) {\n        transferables.push(aObject.buffer);\n        delete aObject._transfer;\n      }\n\n      bObject = {\n        _rtype: "memoryview",\n        _rvalue: aObject.buffer\n      };\n    } else if (aObject instanceof Set) {\n      bObject = {\n        _rtype: "set",\n        _rvalue: await this._encode(Array.from(aObject), asInterface)\n      };\n    } else if (aObject instanceof Map) {\n      bObject = {\n        _rtype: "orderedmap",\n        _rvalue: await this._encode(Array.from(aObject), asInterface)\n      };\n    } else if (aObject.constructor instanceof Object || Array.isArray(aObject)) {\n      bObject = isarray ? [] : {};\n      let keys; // an object/array\n\n      if (aObject.constructor === Object || Array.isArray(aObject)) {\n        keys = Object.keys(aObject);\n      } // a class\n      else if (aObject.constructor === Function) {\n        throw new Error("Please instantiate the class before exportting it.");\n      } // instance of a class\n      else if (aObject.constructor.constructor === Function) {\n        keys = Object.getOwnPropertyNames(Object.getPrototypeOf(aObject)).concat(Object.keys(aObject)); // TODO: use a proxy object to represent the actual object\n        // always encode class instance as interface\n\n        asInterface = true;\n      } else {\n        throw Error("Unsupported interface type");\n      }\n\n      let hasFunction = false; // encode interfaces\n\n      if (aObject._rintf || asInterface) {\n        if (!objectId) {\n          if (typeof aObject._rintf === "string" && aObject._rintf.length > 0) {\n            objectId = aObject._rintf; // enable custom object id\n          } else {\n            objectId = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__["randId"])();\n          } // Note: object with the same id will be overwritten\n\n\n          if (this._object_store[objectId]) console.warn(`Overwritting interface object with the same id: ${objectId}`);\n          this._object_store[objectId] = aObject;\n        }\n\n        for (let k of keys) {\n          if (k === "constructor") continue;\n\n          if (k.startsWith("_")) {\n            continue;\n          }\n\n          bObject[k] = await this._encode(aObject[k], typeof asInterface === "string" ? asInterface + "." + k : k, objectId);\n\n          if (typeof aObject[k] === "function") {\n            hasFunction = true;\n          }\n        } // object id for dispose the object remotely\n\n\n        if (hasFunction) bObject._rintf = objectId; // remove interface when closed\n\n        if (aObject.on && typeof aObject.on === "function") {\n          aObject.on("close", () => {\n            delete this._object_store[objectId];\n          });\n        }\n      } else {\n        for (let k of keys) {\n          if (["hasOwnProperty", "constructor"].includes(k)) continue;\n          bObject[k] = await this._encode(aObject[k]);\n        }\n      } // for example, browserFS object\n\n    } else if (typeof aObject === "object") {\n      const keys = Object.getOwnPropertyNames(Object.getPrototypeOf(aObject)).concat(Object.keys(aObject));\n      const objectId = Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__["randId"])();\n\n      for (let k of keys) {\n        if (["hasOwnProperty", "constructor"].includes(k)) continue; // encode as interface\n\n        bObject[k] = await this._encode(aObject[k], k, bObject);\n      } // object id, used for dispose the object\n\n\n      bObject._rintf = objectId;\n    } else {\n      throw "imjoy-rpc: Unsupported data type:" + aObject;\n    }\n\n    if (transferables.length > 0) {\n      bObject.__transferables__ = transferables;\n    }\n\n    if (!bObject) {\n      throw new Error("Failed to encode object");\n    }\n\n    return bObject;\n  }\n\n  async _decode(aObject, withPromise) {\n    if (!aObject) {\n      return aObject;\n    }\n\n    let bObject;\n\n    if (aObject["_rtype"]) {\n      if (this._codecs[aObject._rtype] && this._codecs[aObject._rtype].decoder) {\n        if (aObject._rintf) {\n          const temp = aObject._rtype;\n          delete aObject._rtype;\n          aObject = await this._decode(aObject, withPromise);\n          aObject._rtype = temp;\n        }\n\n        bObject = await Promise.resolve(this._codecs[aObject._rtype].decoder(aObject));\n      } else if (aObject._rtype === "callback") {\n        bObject = this._genRemoteCallback(aObject._rtarget_id, aObject._rvalue, withPromise);\n      } else if (aObject._rtype === "interface") {\n        bObject = this._genRemoteMethod(aObject._rtarget_id, aObject._rvalue, aObject._rintf);\n      } else if (aObject._rtype === "ndarray") {\n        /*global nj tf*/\n        //create build array/tensor if used in the plugin\n        if (typeof nj !== "undefined" && nj.array) {\n          if (Array.isArray(aObject._rvalue)) {\n            aObject._rvalue = aObject._rvalue.reduce(_appendBuffer);\n          }\n\n          bObject = nj.array(new Uint8(aObject._rvalue), aObject._rdtype).reshape(aObject._rshape);\n        } else if (typeof tf !== "undefined" && tf.Tensor) {\n          if (Array.isArray(aObject._rvalue)) {\n            aObject._rvalue = aObject._rvalue.reduce(_appendBuffer);\n          }\n\n          const arraytype = _utils_js__WEBPACK_IMPORTED_MODULE_0__["dtypeToTypedArray"][aObject._rdtype];\n          bObject = tf.tensor(new arraytype(aObject._rvalue), aObject._rshape, aObject._rdtype);\n        } else {\n          //keep it as regular if transfered to the main app\n          bObject = aObject;\n        }\n      } else if (aObject._rtype === "error") {\n        bObject = new Error(aObject._rvalue);\n      } else if (aObject._rtype === "file") {\n        if (aObject._rvalue instanceof File) {\n          bObject = aObject._rvalue; //patch _path\n\n          bObject._path = aObject._rpath;\n        } else {\n          bObject = new File([aObject._rvalue], aObject._rname, {\n            type: aObject._rmime\n          });\n          bObject._path = aObject._rpath;\n        }\n      } else if (aObject._rtype === "typedarray") {\n        const arraytype = _utils_js__WEBPACK_IMPORTED_MODULE_0__["dtypeToTypedArray"][aObject._rdtype];\n        if (!arraytype) throw new Error("unsupported dtype: " + aObject._rdtype);\n        bObject = new arraytype(aObject._rvalue);\n      } else if (aObject._rtype === "memoryview") {\n        bObject = new DataView(aObject._rvalue);\n      } else if (aObject._rtype === "blob") {\n        if (aObject._rvalue instanceof Blob) {\n          bObject = aObject._rvalue;\n        } else {\n          bObject = new Blob([aObject._rvalue], {\n            type: aObject._rmime\n          });\n        }\n      } else if (aObject._rtype === "orderedmap") {\n        bObject = new Map(await this._decode(aObject._rvalue, withPromise));\n      } else if (aObject._rtype === "set") {\n        bObject = new Set(await this._decode(aObject._rvalue, withPromise));\n      } else {\n        // make sure all the interface functions are decoded\n        if (aObject._rintf) {\n          const temp = aObject._rtype;\n          delete aObject._rtype;\n          bObject = await this._decode(aObject, withPromise);\n          bObject._rtype = temp;\n        } else bObject = aObject;\n      }\n    } else if (aObject.constructor === Object || Array.isArray(aObject)) {\n      const isarray = Array.isArray(aObject);\n      bObject = isarray ? [] : {};\n\n      for (let k of Object.keys(aObject)) {\n        if (isarray || aObject.hasOwnProperty(k)) {\n          const v = aObject[k];\n          bObject[k] = await this._decode(v, withPromise);\n        }\n      }\n    } else {\n      bObject = aObject;\n    }\n\n    if (bObject === undefined) {\n      throw new Error("Failed to decode object");\n    } // store the object id for dispose\n\n\n    if (aObject._rintf) {\n      this._object_weakmap.set(bObject, aObject._rintf);\n    }\n\n    return bObject;\n  }\n\n  async _wrap(args, asInterface) {\n    return await this._encode(args, asInterface);\n  }\n  /**\n   * Unwraps the set of arguments delivered from the remote site,\n   * replaces all callback identifiers with a function which will\n   * initiate sending that callback identifier back to other site\n   *\n   * @param {Object} args to unwrap\n   *\n   * @param {Boolean} withPromise is true means this the callback should contain a promise\n   *\n   * @returns {Array} unwrapped args\n   */\n\n\n  async _unwrap(args, withPromise) {\n    return await this._decode(args, withPromise);\n  }\n  /**\n   * Generates the wrapped function corresponding to a single remote\n   * callback. When the generated function is called, it will send\n   * the corresponding message to the remote site asking it to\n   * execute the particular callback previously saved during a call\n   * by the remote site a method from the interface of this site\n   *\n   * @param {Number} id of the remote callback to execute\n   * @param {Number} argNum argument index of the callback\n   * @param {Boolean} withPromise is true means this the callback should contain a promise\n   *\n   * @returns {Function} wrapped remote callback\n   */\n\n\n  _genRemoteCallback(targetId, cid, withPromise) {\n    const me = this;\n    let remoteCallback;\n\n    if (withPromise) {\n      remoteCallback = function () {\n        return new Promise(async (resolve, reject) => {\n          const args = await me._wrap(Array.prototype.slice.call(arguments));\n          const argLength = args.length; // if the last argument is an object, mark it as kwargs\n\n          const withKwargs = argLength > 0 && typeof args[argLength - 1] === "object" && args[argLength - 1] !== null && args[argLength - 1]._rkwargs;\n          if (withKwargs) delete args[argLength - 1]._rkwargs;\n          const transferables = args.__transferables__;\n          if (transferables) delete args.__transferables__;\n          const encodedPromise = await me._wrap([resolve, reject]); // store the key id for removing them from the reference store together\n\n          resolve.__promise_pair = encodedPromise[1]._rvalue;\n          reject.__promise_pair = encodedPromise[0]._rvalue;\n\n          try {\n            me._connection.emit({\n              type: "callback",\n              target_id: targetId,\n              id: cid,\n              args: args,\n              promise: encodedPromise,\n              with_kwargs: withKwargs\n            }, transferables);\n          } catch (e) {\n            reject(`Failed to exectue remote callback ( id: ${cid}).`);\n          }\n        });\n      };\n\n      return remoteCallback;\n    } else {\n      remoteCallback = async function () {\n        const args = await me._wrap(Array.prototype.slice.call(arguments));\n        const argLength = args.length; // if the last argument is an object, mark it as kwargs\n\n        const withKwargs = argLength > 0 && typeof args[argLength - 1] === "object" && args[argLength - 1] !== null && args[argLength - 1]._rkwargs;\n        if (withKwargs) delete args[argLength - 1]._rkwargs;\n        const transferables = args.__transferables__;\n        if (transferables) delete args.__transferables__;\n        return me._connection.emit({\n          type: "callback",\n          target_id: targetId,\n          id: cid,\n          args: args,\n          with_kwargs: withKwargs\n        }, transferables);\n      };\n\n      return remoteCallback;\n    }\n  }\n\n  reset() {\n    this._event_handlers = {};\n    this._once_handlers = {};\n    this._remote_interface = null;\n    this._object_store = {};\n    this._method_weakmap = new WeakMap();\n    this._object_weakmap = new WeakMap();\n    this._local_api = null;\n    this._store = new ReferenceStore();\n    this._method_refs = new ReferenceStore();\n  }\n  /**\n   * Sends the notification message and breaks the connection\n   */\n\n\n  disconnect() {\n    this._connection.emit({\n      type: "disconnect"\n    });\n\n    this.reset();\n    setTimeout(() => {\n      this._connection.disconnect();\n    }, 2000);\n  }\n\n}\n/**\n * ReferenceStore is a special object which stores other objects\n * and provides the references (number) instead. This reference\n * may then be sent over a json-based communication channel (IPC\n * to another Node.js process or a message to the Worker). Other\n * site may then provide the reference in the responce message\n * implying the given object should be activated.\n *\n * Primary usage for the ReferenceStore is a storage for the\n * callbacks, which therefore makes it possible to initiate a\n * callback execution by the opposite site (which normally cannot\n * directly execute functions over the communication channel).\n *\n * Each stored object can only be fetched once and is not\n * available for the second time. Each stored object must be\n * fetched, since otherwise it will remain stored forever and\n * consume memory.\n *\n * Stored object indeces are simply the numbers, which are however\n * released along with the objects, and are later reused again (in\n * order to postpone the overflow, which should not likely happen,\n * but anyway).\n */\n\nclass ReferenceStore {\n  constructor() {\n    this._store = {}; // stored object\n\n    this._indices = [0]; // smallest available indices\n\n    this._readyHandler = function () {};\n\n    this._busyHandler = function () {};\n\n    this._readyHandler();\n  }\n  /**\n   * call handler when the store is empty\n   *\n   * @param {FUNCTION} id of a handler\n   */\n\n\n  onReady(readyHandler) {\n    this._readyHandler = readyHandler || function () {};\n  }\n  /**\n   * call handler when the store is not empty\n   *\n   * @param {FUNCTION} id of a handler\n   */\n\n\n  onBusy(busyHandler) {\n    this._busyHandler = busyHandler || function () {};\n  }\n  /**\n   * get the length of the store\n   *\n   */\n\n\n  getStack() {\n    return Object.keys(this._store).length;\n  }\n  /**\n   * @function _genId() generates the new reference id\n   *\n   * @returns {Number} smallest available id and reserves it\n   */\n\n\n  _genId() {\n    let id;\n\n    if (this._indices.length === 1) {\n      id = this._indices[0]++;\n    } else {\n      id = this._indices.shift();\n    }\n\n    return id;\n  }\n  /**\n   * Releases the given reference id so that it will be available by\n   * another object stored\n   *\n   * @param {Number} id to release\n   */\n\n\n  _releaseId(id) {\n    for (let i = 0; i < this._indices.length; i++) {\n      if (id < this._indices[i]) {\n        this._indices.splice(i, 0, id);\n\n        break;\n      }\n    } // cleaning-up the sequence tail\n\n\n    for (let i = this._indices.length - 1; i >= 0; i--) {\n      if (this._indices[i] - 1 === this._indices[i - 1]) {\n        this._indices.pop();\n      } else {\n        break;\n      }\n    }\n  }\n  /**\n   * Stores the given object and returns the refernce id instead\n   *\n   * @param {Object} obj to store\n   *\n   * @returns {Number} reference id of the stored object\n   */\n\n\n  put(obj) {\n    if (this._busyHandler && Object.keys(this._store).length === 0) {\n      this._busyHandler();\n    }\n\n    const id = this._genId();\n\n    this._store[id] = obj;\n    return id;\n  }\n  /**\n   * Retrieves previously stored object and releases its reference\n   *\n   * @param {Number} id of an object to retrieve\n   */\n\n\n  fetch(id) {\n    const obj = this._store[id];\n\n    if (obj && !obj.__remote_method) {\n      delete this._store[id];\n\n      this._releaseId(id);\n\n      if (this._readyHandler && Object.keys(this._store).length === 0) {\n        this._readyHandler();\n      }\n    }\n\n    if (obj && obj.__promise_pair) {\n      this.fetch(obj.__promise_pair);\n    }\n\n    return obj;\n  }\n\n}\n\n/***/ }),\n\n/***/ "./src/utils.js":\n/*!**********************!*\\\n  !*** ./src/utils.js ***!\n  \\**********************/\n/*! exports provided: randId, dtypeToTypedArray, loadRequirementsInWindow, loadRequirementsInWebworker, loadRequirements, normalizeConfig, typedArrayToDtypeMapping, typedArrayToDtype, cacheRequirements, setupServiceWorker, urlJoin, MessageEmitter */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n"use strict";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "randId", function() { return randId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dtypeToTypedArray", function() { return dtypeToTypedArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadRequirementsInWindow", function() { return loadRequirementsInWindow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadRequirementsInWebworker", function() { return loadRequirementsInWebworker; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadRequirements", function() { return loadRequirements; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeConfig", function() { return normalizeConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "typedArrayToDtypeMapping", function() { return typedArrayToDtypeMapping; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "typedArrayToDtype", function() { return typedArrayToDtype; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cacheRequirements", function() { return cacheRequirements; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setupServiceWorker", function() { return setupServiceWorker; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "urlJoin", function() { return urlJoin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageEmitter", function() { return MessageEmitter; });\nfunction randId() {\n  return Math.random().toString(36).substr(2, 10) + new Date().getTime();\n}\nconst dtypeToTypedArray = {\n  int8: Int8Array,\n  int16: Int16Array,\n  int32: Int32Array,\n  uint8: Uint8Array,\n  uint16: Uint16Array,\n  uint32: Uint32Array,\n  float32: Float32Array,\n  float64: Float64Array,\n  array: Array\n};\nasync function loadRequirementsInWindow(requirements) {\n  function _importScript(url) {\n    //url is URL of external file, implementationCode is the code\n    //to be called from the file, location is the location to\n    //insert the <script> element\n    return new Promise((resolve, reject) => {\n      var scriptTag = document.createElement("script");\n      scriptTag.src = url;\n      scriptTag.type = "text/javascript";\n      scriptTag.onload = resolve;\n\n      scriptTag.onreadystatechange = function () {\n        if (this.readyState === "loaded" || this.readyState === "complete") {\n          resolve();\n        }\n      };\n\n      scriptTag.onerror = reject;\n      document.head.appendChild(scriptTag);\n    });\n  } // support importScripts outside web worker\n\n\n  async function importScripts() {\n    var args = Array.prototype.slice.call(arguments),\n        len = args.length,\n        i = 0;\n\n    for (; i < len; i++) {\n      await _importScript(args[i]);\n    }\n  }\n\n  if (requirements && (Array.isArray(requirements) || typeof requirements === "string")) {\n    try {\n      var link_node;\n      requirements = typeof requirements === "string" ? [requirements] : requirements;\n\n      if (Array.isArray(requirements)) {\n        for (var i = 0; i < requirements.length; i++) {\n          if (requirements[i].toLowerCase().endsWith(".css") || requirements[i].startsWith("css:")) {\n            if (requirements[i].startsWith("css:")) {\n              requirements[i] = requirements[i].slice(4);\n            }\n\n            link_node = document.createElement("link");\n            link_node.rel = "stylesheet";\n            link_node.href = requirements[i];\n            document.head.appendChild(link_node);\n          } else if (requirements[i].toLowerCase().endsWith(".mjs") || requirements[i].startsWith("mjs:")) {\n            // import esmodule\n            if (requirements[i].startsWith("mjs:")) {\n              requirements[i] = requirements[i].slice(4);\n            }\n\n            await import(\n            /* webpackIgnore: true */\n            requirements[i]);\n          } else if (requirements[i].toLowerCase().endsWith(".js") || requirements[i].startsWith("js:")) {\n            if (requirements[i].startsWith("js:")) {\n              requirements[i] = requirements[i].slice(3);\n            }\n\n            await importScripts(requirements[i]);\n          } else if (requirements[i].startsWith("http")) {\n            await importScripts(requirements[i]);\n          } else if (requirements[i].startsWith("cache:")) {//ignore cache\n          } else {\n            console.log("Unprocessed requirements url: " + requirements[i]);\n          }\n        }\n      } else {\n        throw "unsupported requirements definition";\n      }\n    } catch (e) {\n      throw "failed to import required scripts: " + requirements.toString();\n    }\n  }\n}\nasync function loadRequirementsInWebworker(requirements) {\n  if (requirements && (Array.isArray(requirements) || typeof requirements === "string")) {\n    try {\n      if (!Array.isArray(requirements)) {\n        requirements = [requirements];\n      }\n\n      for (var i = 0; i < requirements.length; i++) {\n        if (requirements[i].toLowerCase().endsWith(".css") || requirements[i].startsWith("css:")) {\n          throw "unable to import css in a webworker";\n        } else if (requirements[i].toLowerCase().endsWith(".js") || requirements[i].startsWith("js:")) {\n          if (requirements[i].startsWith("js:")) {\n            requirements[i] = requirements[i].slice(3);\n          }\n\n          importScripts(requirements[i]);\n        } else if (requirements[i].startsWith("http")) {\n          importScripts(requirements[i]);\n        } else if (requirements[i].startsWith("cache:")) {//ignore cache\n        } else {\n          console.log("Unprocessed requirements url: " + requirements[i]);\n        }\n      }\n    } catch (e) {\n      throw "failed to import required scripts: " + requirements.toString();\n    }\n  }\n}\nfunction loadRequirements(requirements) {\n  if (typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope) {\n    return loadRequirementsInWebworker(requirements);\n  } else {\n    return loadRequirementsInWindow(requirements);\n  }\n}\nfunction normalizeConfig(config) {\n  config.version = config.version || "0.1.0";\n  config.description = config.description || `[TODO: add description for ${config.name} ]`;\n  config.type = config.type || "rpc-window";\n  config.id = config.id || randId();\n  config.target_origin = config.target_origin || "*";\n  config.allow_execution = config.allow_execution || false; // remove functions\n\n  config = Object.keys(config).reduce((p, c) => {\n    if (typeof config[c] !== "function") p[c] = config[c];\n    return p;\n  }, {});\n  return config;\n}\nconst typedArrayToDtypeMapping = {\n  Int8Array: "int8",\n  Int16Array: "int16",\n  Int32Array: "int32",\n  Uint8Array: "uint8",\n  Uint16Array: "uint16",\n  Uint32Array: "uint32",\n  Float32Array: "float32",\n  Float64Array: "float64",\n  Array: "array"\n};\nconst typedArrayToDtypeKeys = [];\n\nfor (const arrType of Object.keys(typedArrayToDtypeMapping)) {\n  typedArrayToDtypeKeys.push(eval(arrType));\n}\n\nfunction typedArrayToDtype(obj) {\n  let dtype = typedArrayToDtypeMapping[obj.constructor.name];\n\n  if (!dtype) {\n    const pt = Object.getPrototypeOf(obj);\n\n    for (const arrType of typedArrayToDtypeKeys) {\n      if (pt instanceof arrType) {\n        dtype = typedArrayToDtypeMapping[arrType.name];\n        break;\n      }\n    }\n  }\n\n  return dtype;\n}\n\nfunction cacheUrlInServiceWorker(url) {\n  return new Promise(function (resolve, reject) {\n    const message = {\n      command: "add",\n      url: url\n    };\n\n    if (!navigator.serviceWorker || !navigator.serviceWorker.register) {\n      reject("Service worker is not supported.");\n      return;\n    }\n\n    const messageChannel = new MessageChannel();\n\n    messageChannel.port1.onmessage = function (event) {\n      if (event.data && event.data.error) {\n        reject(event.data.error);\n      } else {\n        resolve(event.data && event.data.result);\n      }\n    };\n\n    if (navigator.serviceWorker && navigator.serviceWorker.controller) {\n      navigator.serviceWorker.controller.postMessage(message, [messageChannel.port2]);\n    } else {\n      reject("Service worker controller is not available");\n    }\n  });\n}\n\nasync function cacheRequirements(requirements) {\n  requirements = requirements || [];\n\n  if (!Array.isArray(requirements)) {\n    requirements = [requirements];\n  }\n\n  for (let req of requirements) {\n    //remove prefix\n    if (req.startsWith("js:")) req = req.slice(3);\n    if (req.startsWith("css:")) req = req.slice(4);\n    if (req.startsWith("cache:")) req = req.slice(6);\n    if (!req.startsWith("http")) continue;\n    await cacheUrlInServiceWorker(req).catch(e => {\n      console.error(e);\n    });\n  }\n}\nfunction setupServiceWorker(baseUrl, targetOrigin, cacheCallback) {\n  // register service worker for offline access\n  if ("serviceWorker" in navigator) {\n    baseUrl = baseUrl || "/";\n    navigator.serviceWorker.register(baseUrl + "plugin-service-worker.js").then(function (registration) {\n      // Registration was successful\n      console.log("ServiceWorker registration successful with scope: ", registration.scope);\n    }, function (err) {\n      // registration failed :(\n      console.log("ServiceWorker registration failed: ", err);\n    });\n    targetOrigin = targetOrigin || "*";\n    cacheCallback = cacheCallback || cacheRequirements;\n\n    if (cacheCallback && typeof cacheCallback !== "function") {\n      throw new Error("config.cache_requirements must be a function");\n    }\n\n    window.addEventListener("message", function (e) {\n      if (targetOrigin === "*" || e.origin === targetOrigin) {\n        const m = e.data;\n\n        if (m.type === "cacheRequirements") {\n          cacheCallback(m.requirements);\n        }\n      }\n    });\n  }\n} //#Source https://bit.ly/2neWfJ2\n\nfunction urlJoin(...args) {\n  return args.join("/").replace(/[\\/]+/g, "/").replace(/^(.+):\\//, "$1://").replace(/^file:/, "file:/").replace(/\\/(\\?|&|#[^!])/g, "$1").replace(/\\?/g, "&").replace("&", "?");\n}\nclass MessageEmitter {\n  constructor(debug) {\n    this._event_handlers = {};\n    this._once_handlers = {};\n    this._debug = debug;\n  }\n\n  emit() {\n    throw new Error("emit is not implemented");\n  }\n\n  on(event, handler) {\n    if (!this._event_handlers[event]) {\n      this._event_handlers[event] = [];\n    }\n\n    this._event_handlers[event].push(handler);\n  }\n\n  once(event, handler) {\n    handler.___event_run_once = true;\n    this.on(event, handler);\n  }\n\n  off(event, handler) {\n    if (!event && !handler) {\n      // remove all events handlers\n      this._event_handlers = {};\n    } else if (event && !handler) {\n      // remove all hanlders for the event\n      if (this._event_handlers[event]) this._event_handlers[event] = [];\n    } else {\n      // remove a specific handler\n      if (this._event_handlers[event]) {\n        const idx = this._event_handlers[event].indexOf(handler);\n\n        if (idx >= 0) {\n          this._event_handlers[event].splice(idx, 1);\n        }\n      }\n    }\n  }\n\n  _fire(event, data) {\n    if (this._event_handlers[event]) {\n      var i = this._event_handlers[event].length;\n\n      while (i--) {\n        const handler = this._event_handlers[event][i];\n\n        try {\n          handler(data);\n        } catch (e) {\n          console.error(e);\n        } finally {\n          if (handler.___event_run_once) {\n            this._event_handlers[event].splice(i, 1);\n          }\n        }\n      }\n    } else {\n      if (this._debug) {\n        console.warn("unhandled event", event, data);\n      }\n    }\n  }\n\n}\n\n/***/ })\n\n/******/ });\n//# sourceMappingURL=plugin.webworker.js.map',null)}},"./src/pluginCore.js":function(e,t,r){"use strict";r.r(t),r.d(t,"connectRPC",(function(){return a}));var n=r("./src/rpc.js");function a(e,t){t=t||{};var r={},a=new n.RPC(e,t,r);a.on("getInterface",(function(){s()})),a.on("remoteReady",(function(){var e=a.getRemote()||{};e.registerCodec=function(e){if(!e.name||!e.encoder&&!e.decoder)throw new Error("Invalid codec format, please make sure you provide a name, type, encoder and decoder.");if(e.type)for(var t=0,n=Object.keys(r);t<n.length;t++){var a=n[t];r[a].type!==e.type&&a!==e.name||(delete r[a],console.warn("Remove duplicated codec: "+a))}r[e.name]=e},e.init=function(e){a.setInterface({setup:function(){}},e)},e.disposeObject=function(e){a.disposeObject(e)},e.export=function(e,t){a.setInterface(e,t)},e.onLoad=function(e){e=c(e),o?e():i.push(e)},e.dispose=function(e){a.disconnect()},e._rpc=a,"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?(self.api=e,self.postMessage({type:"imjoy_remote_api_ready"}),self.dispatchEvent(new CustomEvent("imjoy_remote_api_ready",{detail:e}))):window.dispatchEvent(new CustomEvent("imjoy_remote_api_ready",{detail:e}))}));var o=!1,i=[],s=function(){var e;if(!o)for(o=!0;e=i.pop();)e()},c=function(e){var t=typeof e;if("function"!==t)throw new Error("A function may only be subsribed to the event, "+t+" was provided instead");return e};return a}},"./src/pluginIframe.js":function srcPluginIframeJs(module,__nested_webpack_exports__,__nested_webpack_require_88242__){"use strict";__nested_webpack_require_88242__.r(__nested_webpack_exports__),__nested_webpack_require_88242__.d(__nested_webpack_exports__,"Connection",(function(){return Connection})),__nested_webpack_require_88242__.d(__nested_webpack_exports__,"default",(function(){return setupIframe}));var _pluginCore_js__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_88242__("./src/pluginCore.js"),_rpc_js__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_88242__("./src/rpc.js"),_utils_js__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_88242__("./src/utils.js");function _htmlToElement(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild}var _inWebWorker="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;function executeEsModule(e){return _executeEsModule.apply(this,arguments)}function _executeEsModule(){return(_executeEsModule=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="data:text/javascript;charset=utf-8,"+encodeURIComponent(t),e.next=3,import(r);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Connection=function(_utils_js__WEBPACK_IM){_inherits(Connection,_utils_js__WEBPACK_IM);var _super=_createSuper(Connection);function Connection(e){var t;return _classCallCheck(this,Connection),(t=_super.call(this,e&&e.debug)).config=e||{},t.peer_id=Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__.randId)(),t}return _createClass(Connection,[{key:"connect",value:function(){this.config.target_origin=this.config.target_origin||"*",this.config.broadcastChannel?this.broadcastChannel=new BroadcastChannel(this.config.broadcastChannel):this.broadcastChannel=null,this.broadcastChannel?this.broadcastChannel.addEventListener("message",this):globalThis.addEventListener("message",this),this.emit({type:"initialized",config:this.config,origin:globalThis.location.origin,peer_id:this.peer_id}),this._fire("connected")}},{key:"handleEvent",value:function(e){"message"!==e.type||!this.broadcastChannel&&"*"!==this.config.target_origin&&e.origin&&e.origin!==this.config.target_origin||(e.data.peer_id===this.peer_id?this._fire(e.data.type,e.data):this.config.debug&&console.log("connection peer id mismatch ".concat(e.data.peer_id," !== ").concat(this.peer_id)))}},{key:"disconnect",value:function(){this._fire("beforeDisconnect"),globalThis.removeEventListener("message",this),this._fire("disconnected")}},{key:"emit",value:function(e){var t;this.broadcastChannel?this.broadcastChannel.postMessage(e):e.__transferables__?(t=e.__transferables__,delete e.__transferables__):_inWebWorker?self.postMessage(e,t):parent.postMessage(e,this.config.target_origin,t)}},{key:"execute",value:function(){var _execute=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(code){var script_node,node,k,style_node,link_node_;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.prev=0,"requirements"!==code.type){_context.next=6;break}return _context.next=4,Object(_utils_js__WEBPACK_IMPORTED_MODULE_2__.loadRequirementsInWindow)(code.requirements);case 4:_context.next=49;break;case 6:if("script"!==code.type){_context.next=29;break}if(!code.src){_context.next=14;break}script_node=document.createElement("script"),script_node.setAttribute("type",code.attrs.type),script_node.setAttribute("src",code.src),document.head.appendChild(script_node),_context.next=27;break;case 14:if(!code.content||"javascript"!==code.attrs.lang){_context.next=23;break}if("module"!==code.attrs.type){_context.next=20;break}return _context.next=18,executeEsModule(code.content);case 18:_context.next=21;break;case 20:eval(code.content);case 21:_context.next=27;break;case 23:for(k in node=document.createElement("script"),code.attrs)node.setAttribute(k,code.attrs[k]);node.appendChild(document.createTextNode(code.content)),document.body.appendChild(node);case 27:_context.next=49;break;case 29:if("style"!==code.type){_context.next=36;break}style_node=document.createElement("style"),code.src&&(style_node.src=code.src),style_node.innerHTML=code.content,document.head.appendChild(style_node),_context.next=49;break;case 36:if("link"!==code.type){_context.next=44;break}link_node_=document.createElement("link"),code.rel&&(link_node_.rel=code.rel),code.href&&(link_node_.href=code.href),code.attrs&&code.attrs.type&&(link_node_.type=code.attrs.type),document.head.appendChild(link_node_),_context.next=49;break;case 44:if("html"!==code.type){_context.next=48;break}document.body.appendChild(_htmlToElement(code.content)),_context.next=49;break;case 48:throw"unsupported code type.";case 49:_inWebWorker?self.postMessage({type:"executed"}):parent.postMessage({type:"executed"},this.config.target_origin),_context.next=56;break;case 52:_context.prev=52,_context.t0=_context.catch(0),console.error("failed to execute scripts: ",code,_context.t0),_inWebWorker?self.postMessage({type:"executed",error:_context.t0.stack||String(_context.t0)}):parent.postMessage({type:"executed",error:_context.t0.stack||String(_context.t0)},this.config.target_origin);case 56:case"end":return _context.stop()}}),_callee,this,[[0,52]])})));function execute(e){return _execute.apply(this,arguments)}return execute}()}]),Connection}(_utils_js__WEBPACK_IMPORTED_MODULE_2__.MessageEmitter);function setupIframe(e){(e=e||{}).dedicated_thread=!1,e.lang="javascript",e.api_version=_rpc_js__WEBPACK_IMPORTED_MODULE_1__.API_VERSION;var t=new Connection(e);Object(_pluginCore_js__WEBPACK_IMPORTED_MODULE_0__.connectRPC)(t,e),t.connect()}},"./src/rpc.js":function(t,r,n){"use strict";n.r(r),n.d(r,"API_VERSION",(function(){return o})),n.d(r,"RPC",(function(){return u}));var a=n("./src/utils.js"),o="0.2.3",i=Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array)).constructor;function s(e,t){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer}function c(e,t){if(!t)throw new Error("undefined index");return"string"===typeof t?c(e,t.split(".")):0===t.length?e:c(e[t[0]],t.slice(1))}var u=function(t){_inherits(n,t);var r=_createSuper(n);function n(e,t,a){var o;_classCallCheck(this,n),(o=r.call(this,t&&t.debug))._connection=e,o.config=t||{},o._codecs=a||{},o._object_store={},o._method_weakmap=new WeakMap,o._object_weakmap=new WeakMap,o._local_api=null,o._remote_set=!1;var i=o.config.name;return o._connection.execute=o._connection.execute||function(){throw new Error('connection.execute not implemented (in "'.concat(i,'")'))},o._store=new l,o._method_refs=new l,o._method_refs.onReady((function(){o._fire("remoteIdle")})),o._method_refs.onBusy((function(){o._fire("remoteBusy")})),o._setupMessageHanlders(),o}return _createClass(n,[{key:"init",value:function(){this._connection.emit({type:"initialized",config:this.config,peer_id:this._connection.peer_id})}},{key:"setConfig",value:function(e){if(e)for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];this.config[n]=e[n]}}},{key:"getRemoteCallStack",value:function(){return this._method_refs.getStack()}},{key:"getRemote",value:function(){return this._remote_interface}},{key:"setInterface",value:function(e,t){var r=this;if(t=t||{},this.config.name=t.name||this.config.name,this.config.description=t.description||this.config.description,this.config.forwarding_functions){var n,a=_createForOfIteratorHelper(this.config.forwarding_functions);try{var o=function(){var t=n.value,a=r._remote_interface;a[t]&&(e.constructor===Object?e[t]||(e[t]=function(){a[t].apply(a,arguments)}):e.constructor.constructor===Function&&(e.constructor.prototype[t]||(e.constructor.prototype[t]=function(){a[t].apply(a,arguments)})))};for(a.s();!(n=a.n()).done;)o()}catch(i){a.e(i)}finally{a.f()}}return this._local_api=e,this._remote_set?this.sendInterface():this._fire("interfaceAvailable"),new Promise((function(e){r.once("interfaceSetAsRemote",e)}))}},{key:"sendInterface",value:function(){var e=this;if(!this._local_api)throw new Error("interface is not set.");this._encode(this._local_api,!0).then((function(t){e._connection.emit({type:"setInterface",api:t})}))}},{key:"_disposeObject",value:function(e){if(!this._object_store[e])throw new Error("Object (id=".concat(e,") not found."));delete this._object_store[e]}},{key:"disposeObject",value:function(e){var t=this;return new Promise((function(r,n){if(!t._object_weakmap.has(e))throw new Error("Invalid object");var a=t._object_weakmap.get(e);t._connection.once("disposed",(function(e){e.error?n(new Error(e.error)):r()})),t._connection.emit({type:"disposeObject",object_id:a})}))}},{key:"_setupMessageHanlders",value:function(){var t=this;this._connection.on("init",this.init),this._connection.on("execute",(function(e){Promise.resolve(t._connection.execute(e.code)).then((function(){t._connection.emit({type:"executed"})})).catch((function(e){console.error(e),t._connection.emit({type:"executed",error:String(e)})}))})),this._connection.on("method",function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var n,a,o,i,s,u,l,f,d,p,h;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r.promise){e.next=8;break}return e.next=4,t._unwrap(r.promise,!1);case 4:l=e.sent,f=_slicedToArray(l,2),n=f[0],a=f[1];case 8:return d=t._object_store[r.object_id],o=c(d,r.name),r.name.includes(".")?(p=r.name.split("."),h=p.slice(0,p.length-1).join("."),i=c(d,h)):i=d,e.next=13,t._unwrap(r.args,!0);case 13:s=e.sent,r.promise?(u=o.apply(i,s))instanceof Promise||o.constructor&&"AsyncFunction"===o.constructor.name?u.then(n).catch(a):n(u):o.apply(i,s),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(t.config.name,e.t0),a&&a(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}()),this._connection.on("callback",function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(r){var n,a,o,i,s,c,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r.promise){e.next=8;break}return e.next=4,t._unwrap(r.promise,!1);case 4:c=e.sent,u=_slicedToArray(c,2),n=u[0],a=u[1];case 8:if(!r.promise){e.next=19;break}return o=t._store.fetch(r.id),e.next=12,t._unwrap(r.args,!0);case 12:if(i=e.sent,o){e.next=15;break}throw new Error("Callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.");case 15:(s=o.apply(null,i))instanceof Promise||o.constructor&&"AsyncFunction"===o.constructor.name?s.then(n).catch(a):n(s),e.next=26;break;case 19:return o=t._store.fetch(r.id),e.next=22,t._unwrap(r.args,!0);case 22:if(i=e.sent,o){e.next=25;break}throw new Error("Please notice that callback function can only called once, if you want to call a function for multiple times, please make it as a plugin api function. See https://imjoy.io/docs for more details.");case 25:o.apply(null,i);case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(0),console.error(t.config.name,e.t0),a&&a(e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t){return e.apply(this,arguments)}}()),this._connection.on("disposeObject",(function(r){try{t._disposeObject(r.object_id),t._connection.emit({type:"disposed"})}catch(e){console.error(e),t._connection.emit({type:"disposed",error:String(e)})}})),this._connection.on("setInterface",(function(e){t._setRemoteInterface(e.api)})),this._connection.on("getInterface",(function(){t._fire("getInterface"),t._local_api?t.sendInterface():t.once("interfaceAvailable",(function(){t.sendInterface()}))})),this._connection.on("interfaceSetAsRemote",(function(){t._remote_set=!0,t._fire("interfaceSetAsRemote")})),this._connection.on("disconnect",(function(){t._fire("beforeDisconnect"),t._connection.disconnect(),t._fire("disconnected")}))}},{key:"requestRemote",value:function(){this._connection.emit({type:"getInterface"})}},{key:"_ndarray",value:function(e,t,r){var n=Object(a.typedArrayToDtype)(e);if(r&&r!==n)throw"dtype doesn't match the type of the array: "+n+" != "+r;return t=t||[e.length],{_rtype:"ndarray",_rvalue:e.buffer,_rshape:t,_rdtype:n}}},{key:"_setRemoteInterface",value:function(e){var t=this;this._decode(e).then((function(e){if(t._remote_interface){for(var r in t._remote_interface)delete t._remote_interface[r];Object.assign(t._remote_interface,e)}else t._remote_interface=e;t._fire("remoteReady"),t._reportRemoteSet()}))}},{key:"_genRemoteMethod",value:function(e,t,r){var n=this,a=function(){var a=arguments;return new Promise(function(){var o=_asyncToGenerator(_regeneratorRuntime().mark((function o(i,s){var c,u,l,f,d,p,h,m;return _regeneratorRuntime().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return c=null,o.prev=1,c=n._method_refs.put(r?r+"/"+t:t),u=function(){return null!==c&&n._method_refs.fetch(c),i.apply(this,arguments)},l=function(){return null!==c&&n._method_refs.fetch(c),s.apply(this,arguments)},o.next=7,n._wrap([u,l]);case 7:if(f=o.sent,u.__promise_pair=f[1]._rvalue,l.__promise_pair=f[0]._rvalue,d=Array.prototype.slice.call(a),p=d.length,(h=p>0&&"object"===typeof d[p-1]&&null!==d[p-1]&&d[p-1]._rkwargs)&&delete d[p-1]._rkwargs,"register"!==t&&"registerService"!==t&&"register_service"!==t&&"export"!==t&&"on"!==t){o.next=20;break}return o.next=17,n._wrap(d,!0);case 17:d=o.sent,o.next=23;break;case 20:return o.next=22,n._wrap(d);case 22:d=o.sent;case 23:(m=d.__transferables__)&&delete d.__transferables__,n._connection.emit({type:"method",target_id:e,name:t,object_id:r,args:d,promise:f,with_kwargs:h},m),o.next=32;break;case 28:o.prev=28,o.t0=o.catch(1),c&&n._method_refs.fetch(c),s("Failed to exectue remote method (interface: ".concat(r||n.id,", method: ").concat(t,"), error: ").concat(o.t0));case 32:case"end":return o.stop()}}),o,null,[[1,28]])})));return function(e,t){return o.apply(this,arguments)}}())};return a.__remote_method=!0,a}},{key:"_reportRemoteSet",value:function(){this._connection.emit({type:"interfaceSetAsRemote"})}},{key:"_encode",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n){var o,s,c,u,l,f,d,p,h,m,v,_,y,g,b,w,k,x,j,E,S,O,P,A,T,C,R,I,D,F=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("number"===(o=typeof t)||"string"===o||"boolean"===o||null===t||void 0===t||t instanceof ArrayBuffer)){e.next=3;break}return e.abrupt("return",t);case 3:if("function"!==typeof t){e.next=13;break}if(!r){e.next=11;break}if(n){e.next=7;break}throw new Error("objectId is not specified.");case 7:s={_rtype:"interface",_rtarget_id:this._connection.peer_id,_rintf:n,_rvalue:r},this._method_weakmap.set(t,s),e.next=12;break;case 11:this._method_weakmap.has(t)?s=this._method_weakmap.get(t):(c=this._store.put(t),s={_rtype:"callback",_rtarget_id:this._connection.peer_id,_rname:t.constructor&&t.constructor.name||c,_rvalue:c});case 12:return e.abrupt("return",s);case 13:if(!(t.constructor instanceof Object&&t._rtype)){e.next=25;break}if(!t._rintf){e.next=23;break}return u=t._rtype,delete t._rtype,e.next=19,this._encode(t,r,n);case 19:(s=e.sent)._rtype=u,e.next=24;break;case 23:s=t;case 24:return e.abrupt("return",s);case 25:l=[],f=t._transfer,d=Array.isArray(t),p=0,h=Object.keys(this._codecs);case 29:if(!(p<h.length)){e.next=49;break}if(m=h[p],!((v=this._codecs[m]).encoder&&t instanceof v.type)){e.next=46;break}return e.next=35,Promise.resolve(v.encoder(t));case 35:if((_=e.sent)&&!_._rtype&&(_._rtype=v.name),!_||!_._rintf){e.next=44;break}return y=_._rtype,delete _._rtype,e.next=42,this._encode(_,r,n);case 42:(_=e.sent)._rtype=y;case 44:return s=_,e.abrupt("return",s);case 46:p++,e.next=29;break;case 49:if(!("undefined"!==typeof tf&&tf.Tensor&&t instanceof tf.Tensor)){e.next=55;break}g=t.dataSync(),(t._transfer||f)&&(l.push(g.buffer),delete t._transfer),s={_rtype:"ndarray",_rvalue:g.buffer,_rshape:t.shape,_rdtype:t.dtype},e.next=202;break;case 55:if(!("undefined"!==typeof nj&&nj.NdArray&&t instanceof nj.NdArray)){e.next=61;break}b=Object(a.typedArrayToDtype)(t.selection.data),(t._transfer||f)&&(l.push(t.selection.data.buffer),delete t._transfer),s={_rtype:"ndarray",_rvalue:t.selection.data.buffer,_rshape:t.shape,_rdtype:b},e.next=202;break;case 61:if(!(t instanceof Error)){e.next=66;break}console.error(t),s={_rtype:"error",_rvalue:t.toString()},e.next=202;break;case 66:if(!("undefined"!==typeof File&&t instanceof File)){e.next=70;break}s={_rtype:"file",_rvalue:t,_rpath:t._path||t.webkitRelativePath},e.next=202;break;case 70:if(!(t!==Object(t)||t instanceof Boolean||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ImageData||"undefined"!==typeof FileList&&t instanceof FileList||"undefined"!==typeof FileSystemDirectoryHandle&&t instanceof FileSystemDirectoryHandle||"undefined"!==typeof FileSystemFileHandle&&t instanceof FileSystemFileHandle||"undefined"!==typeof FileSystemHandle&&t instanceof FileSystemHandle||"undefined"!==typeof FileSystemWritableFileStream&&t instanceof FileSystemWritableFileStream)){e.next=74;break}s=t,e.next=202;break;case 74:if(!("undefined"!==typeof File&&t instanceof File)){e.next=78;break}s={_rtype:"file",_rname:t.name,_rmime:t.type,_rvalue:t,_rpath:t._path||t.webkitRelativePath},e.next=202;break;case 78:if(!(t instanceof Blob)){e.next=82;break}s={_rtype:"blob",_rvalue:t},e.next=202;break;case 82:if(!(t instanceof i)){e.next=88;break}(t._transfer||f)&&(l.push(t.buffer),delete t._transfer),w=Object(a.typedArrayToDtype)(t),s={_rtype:"typedarray",_rvalue:t.buffer,_rdtype:w},e.next=202;break;case 88:if(!(t instanceof DataView)){e.next=93;break}(t._transfer||f)&&(l.push(t.buffer),delete t._transfer),s={_rtype:"memoryview",_rvalue:t.buffer},e.next=202;break;case 93:if(!(t instanceof Set)){e.next=100;break}return e.next=96,this._encode(Array.from(t),r);case 96:e.t0=e.sent,s={_rtype:"set",_rvalue:e.t0},e.next=202;break;case 100:if(!(t instanceof Map)){e.next=107;break}return e.next=103,this._encode(Array.from(t),r);case 103:e.t1=e.sent,s={_rtype:"orderedmap",_rvalue:e.t1},e.next=202;break;case 107:if(!(t.constructor instanceof Object||Array.isArray(t))){e.next=175;break}if(s=d?[]:{},t.constructor!==Object&&!Array.isArray(t)){e.next=113;break}k=Object.keys(t),e.next=123;break;case 113:if(t.constructor!==Function){e.next=117;break}throw new Error("Please instantiate the class before exportting it.");case 117:if(t.constructor.constructor!==Function){e.next=122;break}k=Object.getOwnPropertyNames(Object.getPrototypeOf(t)).concat(Object.keys(t)),r=!0,e.next=123;break;case 122:throw Error("Unsupported interface type");case 123:if(x=!1,!t._rintf&&!r){e.next=153;break}n||(n="string"===typeof t._rintf&&t._rintf.length>0?t._rintf:Object(a.randId)(),this._object_store[n]&&console.warn("Overwritting interface object with the same id: ".concat(n)),this._object_store[n]=t),j=_createForOfIteratorHelper(k),e.prev=127,j.s();case 129:if((E=j.n()).done){e.next=141;break}if("constructor"!==(S=E.value)){e.next=133;break}return e.abrupt("continue",139);case 133:if(!S.startsWith("_")){e.next=135;break}return e.abrupt("continue",139);case 135:return e.next=137,this._encode(t[S],"string"===typeof r?r+"."+S:S,n);case 137:s[S]=e.sent,"function"===typeof t[S]&&(x=!0);case 139:e.next=129;break;case 141:e.next=146;break;case 143:e.prev=143,e.t2=e.catch(127),j.e(e.t2);case 146:return e.prev=146,j.f(),e.finish(146);case 149:x&&(s._rintf=n),t.on&&"function"===typeof t.on&&t.on("close",(function(){delete F._object_store[n]})),e.next=173;break;case 153:O=_createForOfIteratorHelper(k),e.prev=154,O.s();case 156:if((P=O.n()).done){e.next=165;break}if(A=P.value,!["hasOwnProperty","constructor"].includes(A)){e.next=160;break}return e.abrupt("continue",163);case 160:return e.next=162,this._encode(t[A]);case 162:s[A]=e.sent;case 163:e.next=156;break;case 165:e.next=170;break;case 167:e.prev=167,e.t3=e.catch(154),O.e(e.t3);case 170:return e.prev=170,O.f(),e.finish(170);case 173:e.next=202;break;case 175:if("object"!==typeof t){e.next=201;break}T=Object.getOwnPropertyNames(Object.getPrototypeOf(t)).concat(Object.keys(t)),C=Object(a.randId)(),R=_createForOfIteratorHelper(T),e.prev=179,R.s();case 181:if((I=R.n()).done){e.next=190;break}if(D=I.value,!["hasOwnProperty","constructor"].includes(D)){e.next=185;break}return e.abrupt("continue",188);case 185:return e.next=187,this._encode(t[D],D,s);case 187:s[D]=e.sent;case 188:e.next=181;break;case 190:e.next=195;break;case 192:e.prev=192,e.t4=e.catch(179),R.e(e.t4);case 195:return e.prev=195,R.f(),e.finish(195);case 198:s._rintf=C,e.next=202;break;case 201:throw"imjoy-rpc: Unsupported data type:"+t;case 202:if(l.length>0&&(s.__transferables__=l),s){e.next=205;break}throw new Error("Failed to encode object");case 205:return e.abrupt("return",s);case 206:case"end":return e.stop()}}),e,this,[[127,143,146,149],[154,167,170,173],[179,192,195,198]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_decode",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n,o,i,c,u,l,f,d,p,h;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",t);case 2:if(!t._rtype){e.next=79;break}if(!this._codecs[t._rtype]||!this._codecs[t._rtype].decoder){e.next=16;break}if(!t._rintf){e.next=11;break}return o=t._rtype,delete t._rtype,e.next=9,this._decode(t,r);case 9:(t=e.sent)._rtype=o;case 11:return e.next=13,Promise.resolve(this._codecs[t._rtype].decoder(t));case 13:n=e.sent,e.next=77;break;case 16:if("callback"!==t._rtype){e.next=20;break}n=this._genRemoteCallback(t._rtarget_id,t._rvalue,r),e.next=77;break;case 20:if("interface"!==t._rtype){e.next=24;break}n=this._genRemoteMethod(t._rtarget_id,t._rvalue,t._rintf),e.next=77;break;case 24:if("ndarray"!==t._rtype){e.next=28;break}"undefined"!==typeof nj&&nj.array?(Array.isArray(t._rvalue)&&(t._rvalue=t._rvalue.reduce(s)),n=nj.array(new Uint8(t._rvalue),t._rdtype).reshape(t._rshape)):"undefined"!==typeof tf&&tf.Tensor?(Array.isArray(t._rvalue)&&(t._rvalue=t._rvalue.reduce(s)),i=a.dtypeToTypedArray[t._rdtype],n=tf.tensor(new i(t._rvalue),t._rshape,t._rdtype)):n=t,e.next=77;break;case 28:if("error"!==t._rtype){e.next=32;break}n=new Error(t._rvalue),e.next=77;break;case 32:if("file"!==t._rtype){e.next=36;break}t._rvalue instanceof File?(n=t._rvalue)._path=t._rpath:(n=new File([t._rvalue],t._rname,{type:t._rmime}))._path=t._rpath,e.next=77;break;case 36:if("typedarray"!==t._rtype){e.next=43;break}if(c=a.dtypeToTypedArray[t._rdtype]){e.next=40;break}throw new Error("unsupported dtype: "+t._rdtype);case 40:n=new c(t._rvalue),e.next=77;break;case 43:if("memoryview"!==t._rtype){e.next=47;break}n=new DataView(t._rvalue),e.next=77;break;case 47:if("blob"!==t._rtype){e.next=51;break}n=t._rvalue instanceof Blob?t._rvalue:new Blob([t._rvalue],{type:t._rmime}),e.next=77;break;case 51:if("orderedmap"!==t._rtype){e.next=59;break}return e.t0=Map,e.next=55,this._decode(t._rvalue,r);case 55:e.t1=e.sent,n=new e.t0(e.t1),e.next=77;break;case 59:if("set"!==t._rtype){e.next=67;break}return e.t2=Set,e.next=63,this._decode(t._rvalue,r);case 63:e.t3=e.sent,n=new e.t2(e.t3),e.next=77;break;case 67:if(!t._rintf){e.next=76;break}return u=t._rtype,delete t._rtype,e.next=72,this._decode(t,r);case 72:(n=e.sent)._rtype=u,e.next=77;break;case 76:n=t;case 77:e.next=96;break;case 79:if(t.constructor!==Object&&!Array.isArray(t)){e.next=95;break}l=Array.isArray(t),n=l?[]:{},f=0,d=Object.keys(t);case 83:if(!(f<d.length)){e.next=93;break}if(p=d[f],!l&&!t.hasOwnProperty(p)){e.next=90;break}return h=t[p],e.next=89,this._decode(h,r);case 89:n[p]=e.sent;case 90:f++,e.next=83;break;case 93:e.next=96;break;case 95:n=t;case 96:if(void 0!==n){e.next=98;break}throw new Error("Failed to decode object");case 98:return t._rintf&&this._object_weakmap.set(n,t._rintf),e.abrupt("return",n);case 100:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_wrap",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._encode(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_unwrap",value:function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._decode(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_genRemoteCallback",value:function(t,r,n){var a,o=this;return n?(a=function(){var n=arguments;return new Promise(function(){var a=_asyncToGenerator(_regeneratorRuntime().mark((function a(i,s){var c,u,l,f,d;return _regeneratorRuntime().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o._wrap(Array.prototype.slice.call(n));case 2:return c=a.sent,u=c.length,(l=u>0&&"object"===typeof c[u-1]&&null!==c[u-1]&&c[u-1]._rkwargs)&&delete c[u-1]._rkwargs,(f=c.__transferables__)&&delete c.__transferables__,a.next=10,o._wrap([i,s]);case 10:d=a.sent,i.__promise_pair=d[1]._rvalue,s.__promise_pair=d[0]._rvalue;try{o._connection.emit({type:"callback",target_id:t,id:r,args:c,promise:d,with_kwargs:l},f)}catch(e){s("Failed to exectue remote callback ( id: ".concat(r,")."))}case 14:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())},a):(a=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var n,a,i,s,c=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o._wrap(Array.prototype.slice.call(c));case 2:return n=e.sent,a=n.length,(i=a>0&&"object"===typeof n[a-1]&&null!==n[a-1]&&n[a-1]._rkwargs)&&delete n[a-1]._rkwargs,(s=n.__transferables__)&&delete n.__transferables__,e.abrupt("return",o._connection.emit({type:"callback",target_id:t,id:r,args:n,with_kwargs:i},s));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a)}},{key:"reset",value:function(){this._event_handlers={},this._once_handlers={},this._remote_interface=null,this._object_store={},this._method_weakmap=new WeakMap,this._object_weakmap=new WeakMap,this._local_api=null,this._store=new l,this._method_refs=new l}},{key:"disconnect",value:function(){var e=this;this._connection.emit({type:"disconnect"}),this.reset(),setTimeout((function(){e._connection.disconnect()}),2e3)}}]),n}(a.MessageEmitter),l=function(){function e(){_classCallCheck(this,e),this._store={},this._indices=[0],this._readyHandler=function(){},this._busyHandler=function(){},this._readyHandler()}return _createClass(e,[{key:"onReady",value:function(e){this._readyHandler=e||function(){}}},{key:"onBusy",value:function(e){this._busyHandler=e||function(){}}},{key:"getStack",value:function(){return Object.keys(this._store).length}},{key:"_genId",value:function(){return 1===this._indices.length?this._indices[0]++:this._indices.shift()}},{key:"_releaseId",value:function(e){for(var t=0;t<this._indices.length;t++)if(e<this._indices[t]){this._indices.splice(t,0,e);break}for(var r=this._indices.length-1;r>=0&&this._indices[r]-1===this._indices[r-1];r--)this._indices.pop()}},{key:"put",value:function(e){this._busyHandler&&0===Object.keys(this._store).length&&this._busyHandler();var t=this._genId();return this._store[t]=e,t}},{key:"fetch",value:function(e){var t=this._store[e];return t&&!t.__remote_method&&(delete this._store[e],this._releaseId(e),this._readyHandler&&0===Object.keys(this._store).length&&this._readyHandler()),t&&t.__promise_pair&&this.fetch(t.__promise_pair),t}}]),e}()},"./src/utils.js":function srcUtilsJs(module,__nested_webpack_exports__,__nested_webpack_require_173191__){"use strict";function randId(){return Math.random().toString(36).substr(2,10)+(new Date).getTime()}__nested_webpack_require_173191__.r(__nested_webpack_exports__),__nested_webpack_require_173191__.d(__nested_webpack_exports__,"randId",(function(){return randId})),__nested_webpack_require_173191__.d(__nested_webpack_exports__,"dtypeToTypedArray",(function(){return dtypeToTypedArray})),__nested_webpack_require_173191__.d(__nested_webpack_exports__,"loadRequirementsInWindow",(function(){return loadRequirementsInWindow})),__nested_webpack_require_173191__.d(__nested_webpack_exports__,"loadRequirementsInWebworker",(function(){return loadRequirementsInWebworker})),__nested_webpack_require_173191__.d(__nested_webpack_exports__,"loadRequirements",(function(){return loadRequirements})),__nested_webpack_require_173191__.d(__nested_webpack_exports__,"normalizeConfig",(function(){return normalizeConfig})),__nested_webpack_require_173191__.d(__nested_webpack_exports__,"typedArrayToDtypeMapping",(function(){return typedArrayToDtypeMapping})),__nested_webpack_require_173191__.d(__nested_webpack_exports__,"typedArrayToDtype",(function(){return typedArrayToDtype})),__nested_webpack_require_173191__.d(__nested_webpack_exports__,"cacheRequirements",(function(){return cacheRequirements})),__nested_webpack_require_173191__.d(__nested_webpack_exports__,"setupServiceWorker",(function(){return setupServiceWorker})),__nested_webpack_require_173191__.d(__nested_webpack_exports__,"urlJoin",(function(){return urlJoin})),__nested_webpack_require_173191__.d(__nested_webpack_exports__,"MessageEmitter",(function(){return MessageEmitter}));var dtypeToTypedArray={int8:Int8Array,int16:Int16Array,int32:Int32Array,uint8:Uint8Array,uint16:Uint16Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array,array:Array};function loadRequirementsInWindow(e){return _loadRequirementsInWindow.apply(this,arguments)}function _loadRequirementsInWindow(){return _loadRequirementsInWindow=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a,o,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(){return a=_asyncToGenerator(_regeneratorRuntime().mark((function e(){var t,n,a,o=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Array.prototype.slice.call(o),n=t.length,a=0;case 1:if(!(a<n)){e.next=7;break}return e.next=4,r(t[a]);case 4:a++,e.next=1;break;case 7:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)},n=function(){return a.apply(this,arguments)},r=function(e){return new Promise((function(t,r){var n=document.createElement("script");n.src=e,n.type="text/javascript",n.onload=t,n.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||t()},n.onerror=r,document.head.appendChild(n)}))},!t||!Array.isArray(t)&&"string"!==typeof t){e.next=46;break}if(e.prev=4,t="string"===typeof t?[t]:t,!Array.isArray(t)){e.next=40;break}i=0;case 8:if(!(i<t.length)){e.next=38;break}if(!t[i].toLowerCase().endsWith(".css")&&!t[i].startsWith("css:")){e.next=17;break}t[i].startsWith("css:")&&(t[i]=t[i].slice(4)),(o=document.createElement("link")).rel="stylesheet",o.href=t[i],document.head.appendChild(o),e.next=35;break;case 17:if(!t[i].toLowerCase().endsWith(".mjs")&&!t[i].startsWith("mjs:")){e.next=23;break}return t[i].startsWith("mjs:")&&(t[i]=t[i].slice(4)),e.next=21,import(t[i]);case 21:e.next=35;break;case 23:if(!t[i].toLowerCase().endsWith(".js")&&!t[i].startsWith("js:")){e.next=29;break}return t[i].startsWith("js:")&&(t[i]=t[i].slice(3)),e.next=27,n(t[i]);case 27:e.next=35;break;case 29:if(!t[i].startsWith("http")){e.next=34;break}return e.next=32,n(t[i]);case 32:e.next=35;break;case 34:t[i].startsWith("cache:")||console.log("Unprocessed requirements url: "+t[i]);case 35:i++,e.next=8;break;case 38:e.next=41;break;case 40:throw"unsupported requirements definition";case 41:e.next=46;break;case 43:throw e.prev=43,e.t0=e.catch(4),"failed to import required scripts: "+t.toString();case 46:case"end":return e.stop()}}),e,null,[[4,43]])}))),_loadRequirementsInWindow.apply(this,arguments)}function loadRequirementsInWebworker(e){return _loadRequirementsInWebworker.apply(this,arguments)}function _loadRequirementsInWebworker(){return(_loadRequirementsInWebworker=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!Array.isArray(t)&&"string"!==typeof t){e.next=18;break}e.prev=1,Array.isArray(t)||(t=[t]),r=0;case 4:if(!(r<t.length)){e.next=13;break}if(!t[r].toLowerCase().endsWith(".css")&&!t[r].startsWith("css:")){e.next=9;break}throw"unable to import css in a webworker";case 9:t[r].toLowerCase().endsWith(".js")||t[r].startsWith("js:")?(t[r].startsWith("js:")&&(t[r]=t[r].slice(3)),importScripts(t[r])):t[r].startsWith("http")?importScripts(t[r]):t[r].startsWith("cache:")||console.log("Unprocessed requirements url: "+t[r]);case 10:r++,e.next=4;break;case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(1),"failed to import required scripts: "+t.toString();case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function loadRequirements(e){return"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?loadRequirementsInWebworker(e):loadRequirementsInWindow(e)}function normalizeConfig(e){return e.version=e.version||"0.1.0",e.description=e.description||"[TODO: add description for ".concat(e.name," ]"),e.type=e.type||"rpc-window",e.id=e.id||randId(),e.target_origin=e.target_origin||"*",e.allow_execution=e.allow_execution||!1,e=Object.keys(e).reduce((function(t,r){return"function"!==typeof e[r]&&(t[r]=e[r]),t}),{})}for(var typedArrayToDtypeMapping={Int8Array:"int8",Int16Array:"int16",Int32Array:"int32",Uint8Array:"uint8",Uint16Array:"uint16",Uint32Array:"uint32",Float32Array:"float32",Float64Array:"float64",Array:"array"},typedArrayToDtypeKeys=[],_i6=0,_Object$keys5=Object.keys(typedArrayToDtypeMapping);_i6<_Object$keys5.length;_i6++){var arrType=_Object$keys5[_i6];typedArrayToDtypeKeys.push(eval(arrType))}function typedArrayToDtype(e){var t=typedArrayToDtypeMapping[e.constructor.name];if(!t){var r,n=Object.getPrototypeOf(e),a=_createForOfIteratorHelper(typedArrayToDtypeKeys);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(n instanceof o){t=typedArrayToDtypeMapping[o.name];break}}}catch(i){a.e(i)}finally{a.f()}}return t}function cacheUrlInServiceWorker(e){return new Promise((function(t,r){var n={command:"add",url:e};if(navigator.serviceWorker&&navigator.serviceWorker.register){var a=new MessageChannel;a.port1.onmessage=function(e){e.data&&e.data.error?r(e.data.error):t(e.data&&e.data.result)},navigator.serviceWorker&&navigator.serviceWorker.controller?navigator.serviceWorker.controller.postMessage(n,[a.port2]):r("Service worker controller is not available")}else r("Service worker is not supported.")}))}function cacheRequirements(e){return _cacheRequirements.apply(this,arguments)}function _cacheRequirements(){return(_cacheRequirements=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=t||[],Array.isArray(t)||(t=[t]),r=_createForOfIteratorHelper(t),e.prev=3,r.s();case 5:if((n=r.n()).done){e.next=16;break}if((a=n.value).startsWith("js:")&&(a=a.slice(3)),a.startsWith("css:")&&(a=a.slice(4)),a.startsWith("cache:")&&(a=a.slice(6)),a.startsWith("http")){e.next=12;break}return e.abrupt("continue",14);case 12:return e.next=14,cacheUrlInServiceWorker(a).catch((function(e){console.error(e)}));case 14:e.next=5;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[3,18,21,24]])})))).apply(this,arguments)}function setupServiceWorker(e,t,r){if("serviceWorker"in navigator){if(e=e||"/",navigator.serviceWorker.register(e+"plugin-service-worker.js").then((function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)}),(function(e){console.log("ServiceWorker registration failed: ",e)})),t=t||"*",(r=r||cacheRequirements)&&"function"!==typeof r)throw new Error("config.cache_requirements must be a function");window.addEventListener("message",(function(e){if("*"===t||e.origin===t){var n=e.data;"cacheRequirements"===n.type&&r(n.requirements)}}))}}function urlJoin(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.join("/").replace(/[\/]+/g,"/").replace(/^(.+):\//,"$1://").replace(/^file:/,"file:/").replace(/\/(\?|&|#[^!])/g,"$1").replace(/\?/g,"&").replace("&","?")}var MessageEmitter=function(){function t(e){_classCallCheck(this,t),this._event_handlers={},this._once_handlers={},this._debug=e}return _createClass(t,[{key:"emit",value:function(){throw new Error("emit is not implemented")}},{key:"on",value:function(e,t){this._event_handlers[e]||(this._event_handlers[e]=[]),this._event_handlers[e].push(t)}},{key:"once",value:function(e,t){t.___event_run_once=!0,this.on(e,t)}},{key:"off",value:function(e,t){if(e||t){if(e&&!t)this._event_handlers[e]&&(this._event_handlers[e]=[]);else if(this._event_handlers[e]){var r=this._event_handlers[e].indexOf(t);r>=0&&this._event_handlers[e].splice(r,1)}}else this._event_handlers={}}},{key:"_fire",value:function(t,r){if(this._event_handlers[t])for(var n=this._event_handlers[t].length;n--;){var a=this._event_handlers[t][n];try{a(r)}catch(e){console.error(e)}finally{a.___event_run_once&&this._event_handlers[t].splice(n,1)}}else this._debug&&console.warn("unhandled event",t,r)}}]),t}()}})},module.exports=factory()},22973:function(e,t,r){e.exports={imjoyRPC:r(68378),imjoyRPCSocketIO:r(33322),hyphaRPC:r(69349),hyphaWebsocketClient:r(72751),hyphaSSEClient:r(54667)}},42553:function(e,t,r){var n=r(18111),a=r(64286),o=r(72064),i=r(86742),s=r(66933),c=r(55366),u=r(93977),l=r(65127),f=function(e){return Array.isArray(e)?e:[e]},d=function(e){return void 0===e},p=function(e){return u(e)||Array.isArray(e)?Object.keys(e):[]},h=function(e,t){return e.hasOwnProperty(t)},m=function(e){return a(o(e))},v=function(e){return d(e)||Array.isArray(e)&&0===e.length},_=function(e,t,r,n){return t&&h(t,r)&&e&&h(e,r)&&n(e[r],t[r])},y=function(e,t){return d(e)&&0===t||d(t)&&0===e||n(e,t)},g=function(e){return d(e)||n(e,{})||!0===e},b=function(e){return d(e)||n(e,{})},w=function(e){return d(e)||u(e)||!0===e||!1===e};function k(e,t){return!(!v(e)||!v(t))||n(m(e),m(t))}function x(e,t,r,a){var i=o(p(e).concat(p(t)));return!(!b(e)||!b(t))||(!b(e)||!p(t).length)&&((!b(t)||!p(e).length)&&i.every((function(r){var o=e[r],i=t[r];return Array.isArray(o)&&Array.isArray(i)?n(m(e),m(t)):!(Array.isArray(o)&&!Array.isArray(i))&&(!(Array.isArray(i)&&!Array.isArray(o))&&_(e,t,r,a))})))}function j(e,t,r,n){var a=i(e,n),o=i(t,n);return c(a,o,n).length===Math.max(a.length,o.length)}var E={title:n,uniqueItems:function(e,t){return d(e)&&!1===t||d(t)&&!1===e||n(e,t)},minLength:y,minItems:y,minProperties:y,required:k,enum:k,type:function(e,t){return e=f(e),t=f(t),n(m(e),m(t))},items:function(e,t,r,a){return u(e)&&u(t)?a(e,t):Array.isArray(e)&&Array.isArray(t)?x(e,t,0,a):n(e,t)},anyOf:j,allOf:j,oneOf:j,properties:x,patternProperties:x,dependencies:x},S=["properties","patternProperties","dependencies","uniqueItems","minLength","minItems","minProperties","required"],O=["additionalProperties","additionalItems","contains","propertyNames","not"];e.exports=function e(t,r,a){if(a=s(a,{ignore:[]}),g(t)&&g(r))return!0;if(!w(t)||!w(r))throw new Error("Either of the values are not a JSON schema.");if(t===r)return!0;if(l(t)&&l(r))return t===r;if(void 0===t&&!1===r||void 0===r&&!1===t)return!1;if(d(t)&&!d(r)||!d(t)&&d(r))return!1;var i=o(Object.keys(t).concat(Object.keys(r)));if(a.ignore.length&&(i=i.filter((function(e){return-1===a.ignore.indexOf(e)}))),!i.length)return!0;function c(t,r){return e(t,r,a)}return i.every((function(o){var i=t[o],s=r[o];if(-1!==O.indexOf(o))return e(i,s,a);var u=E[o];if(u||(u=n),n(i,s))return!0;if(-1===S.indexOf(o)&&(!h(t,o)&&h(r,o)||h(t,o)&&!h(r,o)))return i===s;var f=u(i,s,o,c);if(!l(f))throw new Error("Comparer must return true or false");return f}))}},82920:function(e,t,r){var n=r(25506),a=r(93613),o=r(93977),i=r(72064),s=r(86742),c=r(41761);var u=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l=function(e){return o(e)||Array.isArray(e)?Object.keys(e):[]},f=function(e){return!l(e).length&&!1!==e&&!0!==e};e.exports={allUniqueKeys:function(e){return i(a(e.map(l)))},deleteUndefinedProps:function(e){for(var t in e)u(e,t)&&f(e[t])&&delete e[t];return e},getValues:function(e,t){return e.map((function(e){return e&&e[t]}))},has:u,isEmptySchema:f,isSchema:function(e){return o(e)||!0===e||!1===e},keys:l,notUndefined:function(e){return void 0!==e},uniqWith:s,withoutArr:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return c.apply(null,[e].concat(n(r)))}}},47586:function(e,t,r){var n=r(42553),a=r(36514),o=r(82920),i=o.allUniqueKeys,s=o.deleteUndefinedProps,c=o.has,u=o.isSchema,l=o.notUndefined,f=o.uniqWith;function d(e,t,r){return i(r).reduce((function(r,a){var o=function(e,t){return e.map((function(e){if(e){if(!Array.isArray(e.items))return e.items;var r=e.items[t];return u(r)?r:c(e,"additionalItems")?e.additionalItems:void 0}}))}(e,a),i=f(o.filter(l),n);return r[a]=t(i,a),r}),[])}e.exports={keywords:["items","additionalItems"],resolver:function(e,t,r){var n,o,i=e.map((function(e){return e.items})),c=i.filter(l),f={};return c.every(u)?f.items=r.items(i):f.items=d(e,r.items,i),c.every(Array.isArray)?n=e.map((function(e){return e.additionalItems})):c.some(Array.isArray)&&(n=e.map((function(e){if(e)return Array.isArray(e.items)?e.additionalItems:e.items}))),n&&(f.additionalItems=r.additionalItems(n)),!1===f.additionalItems&&Array.isArray(f.items)&&(o=f.items,a(o,(function(e,t){!1===e&&o.splice(t,1)}))),s(f)}}},9906:function(e,t,r){var n=r(42553),a=r(36514),o=r(82920),i=o.allUniqueKeys,s=o.deleteUndefinedProps,c=o.getValues,u=o.keys,l=o.notUndefined,f=o.uniqWith,d=o.withoutArr;function p(e,t){return i(e).reduce((function(r,a){var o=c(e,a),i=f(o.filter(l),n);return r[a]=t(i,a),r}),{})}e.exports={keywords:["properties","patternProperties","additionalProperties"],resolver:function(e,t,r,n){n.ignoreAdditionalProperties||(e.forEach((function(t){var n=e.filter((function(e){return e!==t})),a=u(t.properties),o=u(t.patternProperties).map((function(e){return new RegExp(e)}));n.forEach((function(e){var n=u(e.properties),i=n.filter((function(e){return o.some((function(t){return t.test(e)}))}));d(n,a,i).forEach((function(n){e.properties[n]=r.properties([e.properties[n],t.additionalProperties],n)}))}))})),e.forEach((function(t){var r=e.filter((function(e){return e!==t})),n=u(t.patternProperties);!1===t.additionalProperties&&r.forEach((function(e){var t=u(e.patternProperties);d(t,n).forEach((function(t){return delete e.patternProperties[t]}))}))})));var o,i={additionalProperties:r.additionalProperties(e.map((function(e){return e.additionalProperties}))),patternProperties:p(e.map((function(e){return e.patternProperties})),r.patternProperties),properties:p(e.map((function(e){return e.properties})),r.properties)};return!1===i.additionalProperties&&a(o=i.properties,(function(e,t){!1===e&&delete o[t]})),s(i)}}},42699:function(t,r,n){var a=n(27424).default,o=n(42122).default,i=n(861).default,s=n(70215).default,c=n(38416).default,u=["allOf"],l=n(58121),f=n(42553),d=n(23027),p=n(34521),h=n(25506),m=n(93613),v=n(57753),_=n(55366),y=n(18111),g=n(93977),b=n(30566),w=n(64286),k=n(72064),x=n(86742),j=n(9906),E=n(47586),S=function(e,t){return-1!==e.indexOf(t)},O=function(e){return g(e)||!0===e||!1===e},P=function(e){return!1===e},A=function(e){return!0===e},T=function(e,t,r){return r(e)},C=function(e){return w(k(m(e)))},R=function(e){return void 0!==e},I=function(e){return k(m(e.map(q)))},D=function(e){return e[0]},F=function(e){return Math.max.apply(Math,e)},N=function(e){return Math.min.apply(Math,e)};function M(e){var t=e.allOf,r=void 0===t?[]:t,n=s(e,u);return[n=g(e)?n:e].concat(i(r.map(M)))}function U(e,t){return e.map((function(e){return e&&e[t]}))}function q(e){return g(e)||Array.isArray(e)?Object.keys(e):[]}function L(e,t){if(t=t||[],!e.length)return t;var r=e.slice(0).shift(),n=e.slice(1);return t.length?L(n,h(t.map((function(e){return r.map((function(t){return[t].concat(e)}))})))):L(n,r.map((function(e){return e})))}function $(e,t){var r;try{r=e.map((function(e){return JSON.stringify(e,null,2)})).join("\n")}catch(n){r=e.join(", ")}throw new Error('Could not resolve values for path:"'+t.join(".")+'". They are probably incompatible. Values: \n'+r)}function W(e){return{required:e}}var B=["properties","patternProperties","definitions","dependencies"],z=["anyOf","oneOf"],V=["additionalProperties","additionalItems","contains","propertyNames","not","items"],K={type:function(e){if(e.some(Array.isArray)){var t=e.map((function(e){return Array.isArray(e)?e:[e]})),r=v.apply(null,t);if(1===r.length)return r[0];if(r.length>1)return k(r)}},dependencies:function(e,t,r){return I(e).reduce((function(t,n){var a=U(e,n),o=x(a.filter(R),y),i=o.filter(Array.isArray);if(i.length){if(i.length===o.length)t[n]=C(o);else{var s=o.filter(O),c=i.map(W);t[n]=r(s.concat(c),n)}return t}return o=x(o,f),t[n]=r(o,n),t}),{})},oneOf:function(t,r,n){var a=function(t,r){return t.map((function(t,n){try{return r(t,n)}catch(e){return}})).filter(R)}(L(l(t)),n),o=x(a,f);if(o.length)return o},not:function(e){return{anyOf:e}},pattern:function(e){return e.map((function(e){return"(?="+e+")"})).join("")},multipleOf:function(e){for(var t=e.slice(0),r=1;t.some((function(e){return!Number.isInteger(e)}));)t=t.map((function(e){return 10*e})),r*=10;return d(t)/r},enum:function(e){var t=_.apply(null,e.concat(y));if(t.length)return w(t)}};K.$id=D,K.$ref=D,K.$schema=D,K.additionalItems=T,K.additionalProperties=T,K.anyOf=K.oneOf,K.contains=T,K.default=D,K.definitions=K.dependencies,K.description=D,K.examples=function(e){return x(h(e),y)},K.exclusiveMaximum=N,K.exclusiveMinimum=F,K.items=E,K.maximum=N,K.maxItems=N,K.maxLength=N,K.maxProperties=N,K.minimum=F,K.minItems=F,K.minLength=F,K.minProperties=F,K.properties=j,K.propertyNames=T,K.required=function(e){return C(e)},K.title=D,K.uniqueItems=function(e){return e.some(A)};var H={properties:j,items:E};function G(e,t,r){r=r||[],t=p(t,{ignoreAdditionalProperties:!1,resolvers:K,complexResolvers:H,deep:!0});var n=Object.entries(t.complexResolvers);var i=function e(i,s,u){i=l(i.filter(R)),u=u||[];var d=g(s)?s:{};if(i.length){if(i.some(P))return!1;if(i.every(A))return!0;i=i.filter(g);var p=I(i);if(t.deep&&S(p,"allOf"))return G({allOf:i},t,r);var h=n.map((function(e){var t=a(e,2),r=(t[0],t[1]);return p.filter((function(e){return r.keywords.includes(e)}))}));return h.forEach((function(e){return b(p,e)})),p.forEach((function(r){var n=U(i,r),a=x(n.filter(R),function(e){return function(t,r){return f(c({},e,t),c({},e,r))}}(r));if(1===a.length&&S(z,r))d[r]=a[0].map((function(t){return e([t],t)}));else if(1!==a.length||S(B,r)||S(V,r)){var o=t.resolvers[r]||t.resolvers.defaultResolver;if(!o)throw new Error("No resolver found for key "+r+". You can provide a resolver for this keyword in the options, or provide a default resolver.");d[r]=o(a,u.concat(r),(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e(t,null,u.concat(r,n))}),t),void 0===d[r]?$(a,u.concat(r)):void 0===d[r]&&delete d[r]}else d[r]=a[0]})),n.reduce((function(r,n,s){var l=a(n,2),d=l[0];l[1];return o(o({},r),function(e,t,r,n,a,i){if(e.length){var s=a.complexResolvers[t];if(!s||!s.resolver)throw new Error("No resolver found for "+t);var u=r.map((function(t){return e.reduce((function(e,r){return void 0!==t[r]&&(e[r]=t[r]),e}),{})})),l=x(u,f),d=s.keywords.reduce((function(e,t){return o(o({},e),{},c({},t,(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n(e,null,i.concat(t,r))})))}),{}),p=s.resolver(l,i.concat(t),d,a);return g(p)||$(l,i.concat(t)),p}}(h[s],d,i,e,t,u))}),d)}}(m(M(e)));return i}G.options={resolvers:K},t.exports=G},37204:function(e){"use strict";var t=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),r(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function r(e,n,a,o,i,s,c,u,l,f){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var d in n(o,i,s,c,u,l,f),o){var p=o[d];if(Array.isArray(p)){if(d in t.arrayKeywords)for(var h=0;h<p.length;h++)r(e,n,a,p[h],i+"/"+d+"/"+h,s,i,d,o,h)}else if(d in t.propsKeywords){if(p&&"object"==typeof p)for(var m in p)r(e,n,a,p[m],i+"/"+d+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),s,i,d,o,m)}else(d in t.keywords||e.allKeys&&!(d in t.skipKeywords))&&r(e,n,a,p,i+"/"+d,s,i,d,o)}a(o,i,s,c,u,l,f)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},67712:function(e,t,r){var n=r(74704).default,a=/~/,o=/~[01]/g;function i(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function s(e){return a.test(e)?e.replace(o,i):e}function c(e){if("string"===typeof e){if(""===(e=e.split("/"))[0])return e;throw new Error("Invalid JSON pointer.")}if(Array.isArray(e)){var t,r=n(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;if("string"!==typeof a&&"number"!==typeof a)throw new Error("Invalid JSON pointer. Must be of type string or number.")}}catch(o){r.e(o)}finally{r.f()}return e}throw new Error("Invalid JSON pointer.")}function u(e,t){if("object"!==typeof e)throw new Error("Invalid input object.");var r=(t=c(t)).length;if(1===r)return e;for(var n=1;n<r;){if(e=e[s(t[n++])],r===n)return e;if("object"!==typeof e||null===e)return}}function l(e,t,r){if("object"!==typeof e)throw new Error("Invalid input object.");if(0===(t=c(t)).length)throw new Error("Invalid JSON pointer for set.");return function(e,t,r){for(var n,a,o=1,i=t.length;o<i;){if("constructor"===t[o]||"prototype"===t[o]||"__proto__"===t[o])return e;if(n=s(t[o++]),a=i>o,"undefined"===typeof e[n]&&(Array.isArray(e)&&"-"===n&&(n=e.length),a&&(""!==t[o]&&t[o]<1/0||"-"===t[o]?e[n]=[]:e[n]={})),!a)break;e=e[n]}var c=e[n];return void 0===r?delete e[n]:e[n]=r,c}(e,t,r)}t.get=u,t.set=l,t.compile=function(e){var t=c(e);return{get:function(e){return u(e,t)},set:function(e,r){return l(e,t,r)}}}},50908:function(e,t,r){var n=r(68136)(r(97009),"DataView");e.exports=n},29676:function(e,t,r){var n=r(85403),a=r(62747),o=r(16037),i=r(94154),s=r(77728);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},38384:function(e,t,r){var n=r(43894),a=r(8699),o=r(64957),i=r(87184),s=r(87109);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},95797:function(e,t,r){var n=r(68136)(r(97009),"Map");e.exports=n},78059:function(e,t,r){var n=r(34086),a=r(9255),o=r(29186),i=r(13423),s=r(73739);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},78319:function(e,t,r){var n=r(68136)(r(97009),"Promise");e.exports=n},23924:function(e,t,r){var n=r(68136)(r(97009),"Set");e.exports=n},20692:function(e,t,r){var n=r(78059),a=r(35774),o=r(41596);function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},22854:function(e,t,r){var n=r(38384),a=r(20511),o=r(50835),i=r(90707),s=r(18832),c=r(35077);function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=a,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=s,u.prototype.set=c,e.exports=u},87197:function(e,t,r){var n=r(97009).Symbol;e.exports=n},46219:function(e,t,r){var n=r(97009).Uint8Array;e.exports=n},7091:function(e,t,r){var n=r(68136)(r(97009),"WeakMap");e.exports=n},13665:function(e){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},4550:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},84903:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}},59055:function(e,t,r){var n=r(24842);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},32683:function(e){e.exports=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}},47538:function(e,t,r){var n=r(86478),a=r(34963),o=r(93629),i=r(5174),s=r(26800),c=r(19102),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),l=!r&&a(e),f=!r&&!l&&i(e),d=!r&&!l&&!f&&c(e),p=r||l||f||d,h=p?n(e.length,String):[],m=h.length;for(var v in e)!t&&!u.call(e,v)||p&&("length"==v||f&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||h.push(v);return h}},68950:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},41705:function(e){e.exports=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}},47897:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},28002:function(e,t,r){var n=r(32526),a=r(29231);e.exports=function(e,t,r){(void 0!==r&&!a(e[t],r)||void 0===r&&!(t in e))&&n(e,t,r)}},18463:function(e,t,r){var n=r(32526),a=r(29231),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var i=e[t];o.call(e,t)&&a(i,r)&&(void 0!==r||t in e)||n(e,t,r)}},27112:function(e,t,r){var n=r(29231);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},11855:function(e,t,r){var n=r(64503),a=r(12742);e.exports=function(e,t){return e&&n(t,a(t),e)}},95076:function(e,t,r){var n=r(64503),a=r(73961);e.exports=function(e,t){return e&&n(t,a(t),e)}},32526:function(e,t,r){var n=r(48528);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},31905:function(e,t,r){var n=r(22854),a=r(4550),o=r(18463),i=r(11855),s=r(95076),c=r(94523),u=r(10291),l=r(52455),f=r(57636),d=r(38248),p=r(55341),h=r(88383),m=r(39243),v=r(39759),_=r(40548),y=r(93629),g=r(5174),b=r(60103),w=r(8092),k=r(36995),x=r(12742),j=r(73961),E="[object Arguments]",S="[object Function]",O="[object Object]",P={};P[E]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[O]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[S]=P["[object WeakMap]"]=!1,e.exports=function e(t,r,A,T,C,R){var I,D=1&r,F=2&r,N=4&r;if(A&&(I=C?A(t,T,C,R):A(t)),void 0!==I)return I;if(!w(t))return t;var M=y(t);if(M){if(I=m(t),!D)return u(t,I)}else{var U=h(t),q=U==S||"[object GeneratorFunction]"==U;if(g(t))return c(t,D);if(U==O||U==E||q&&!C){if(I=F||q?{}:_(t),!D)return F?f(t,s(I,t)):l(t,i(I,t))}else{if(!P[U])return C?t:{};I=v(t,U,D)}}R||(R=new n);var L=R.get(t);if(L)return L;R.set(t,I),k(t)?t.forEach((function(n){I.add(e(n,r,A,n,t,R))})):b(t)&&t.forEach((function(n,a){I.set(a,e(n,r,A,a,t,R))}));var $=M?void 0:(N?F?p:d:F?j:x)(t);return a($||t,(function(n,a){$&&(n=t[a=n]),o(I,a,e(n,r,A,a,t,R))})),I}},65763:function(e,t,r){var n=r(8092),a=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(a)return a(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=o},21468:function(e,t,r){var n=r(20692),a=r(59055),o=r(32683),i=r(68950),s=r(16194),c=r(60075);e.exports=function(e,t,r,u){var l=-1,f=a,d=!0,p=e.length,h=[],m=t.length;if(!p)return h;r&&(t=i(t,s(r))),u?(f=o,d=!1):t.length>=200&&(f=c,d=!1,t=new n(t));e:for(;++l<p;){var v=e[l],_=null==r?v:r(v);if(v=u||0!==v?v:0,d&&_===_){for(var y=m;y--;)if(t[y]===_)continue e;h.push(v)}else f(t,_,u)||h.push(v)}return h}},87927:function(e,t,r){var n=r(15358),a=r(67056)(n);e.exports=a},2045:function(e){e.exports=function(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},55182:function(e,t,r){var n=r(41705),a=r(73529);e.exports=function e(t,r,o,i,s){var c=-1,u=t.length;for(o||(o=a),s||(s=[]);++c<u;){var l=t[c];r>0&&o(l)?r>1?e(l,r-1,o,i,s):n(s,l):i||(s[s.length]=l)}return s}},85099:function(e,t,r){var n=r(30372)();e.exports=n},15358:function(e,t,r){var n=r(85099),a=r(12742);e.exports=function(e,t){return e&&n(e,t,a)}},98667:function(e,t,r){var n=r(43082),a=r(69793);e.exports=function(e,t){for(var r=0,o=(t=n(t,e)).length;null!=e&&r<o;)e=e[a(t[r++])];return r&&r==o?e:void 0}},61986:function(e,t,r){var n=r(41705),a=r(93629);e.exports=function(e,t,r){var o=t(e);return a(e)?o:n(o,r(e))}},39066:function(e,t,r){var n=r(87197),a=r(81587),o=r(43581),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},90529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},24842:function(e,t,r){var n=r(2045),a=r(50505),o=r(77167);e.exports=function(e,t,r){return t===t?o(e,t,r):n(e,a,r)}},94032:function(e){e.exports=function(e,t,r,n){for(var a=r-1,o=e.length;++a<o;)if(n(e[a],t))return a;return-1}},75188:function(e,t,r){var n=r(20692),a=r(59055),o=r(32683),i=r(68950),s=r(16194),c=r(60075),u=Math.min;e.exports=function(e,t,r){for(var l=r?o:a,f=e[0].length,d=e.length,p=d,h=Array(d),m=1/0,v=[];p--;){var _=e[p];p&&t&&(_=i(_,s(t))),m=u(_.length,m),h[p]=!r&&(t||f>=120&&_.length>=120)?new n(p&&_):void 0}_=e[0];var y=-1,g=h[0];e:for(;++y<f&&v.length<m;){var b=_[y],w=t?t(b):b;if(b=r||0!==b?b:0,!(g?c(g,w):l(v,w,r))){for(p=d;--p;){var k=h[p];if(!(k?c(k,w):l(e[p],w,r)))continue e}g&&g.push(w),v.push(b)}}return v}},4906:function(e,t,r){var n=r(39066),a=r(43141);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},71848:function(e,t,r){var n=r(93355),a=r(43141);e.exports=function e(t,r,o,i,s){return t===r||(null==t||null==r||!a(t)&&!a(r)?t!==t&&r!==r:n(t,r,o,i,e,s))}},93355:function(e,t,r){var n=r(22854),a=r(15305),o=r(92206),i=r(88078),s=r(88383),c=r(93629),u=r(5174),l=r(19102),f="[object Arguments]",d="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,v,_){var y=c(e),g=c(t),b=y?d:s(e),w=g?d:s(t),k=(b=b==f?p:b)==p,x=(w=w==f?p:w)==p,j=b==w;if(j&&u(e)){if(!u(t))return!1;y=!0,k=!1}if(j&&!k)return _||(_=new n),y||l(e)?a(e,t,r,m,v,_):o(e,t,b,r,m,v,_);if(!(1&r)){var E=k&&h.call(e,"__wrapped__"),S=x&&h.call(t,"__wrapped__");if(E||S){var O=E?e.value():e,P=S?t.value():t;return _||(_=new n),v(O,P,r,m,_)}}return!!j&&(_||(_=new n),i(e,t,r,m,v,_))}},53085:function(e,t,r){var n=r(88383),a=r(43141);e.exports=function(e){return a(e)&&"[object Map]"==n(e)}},8856:function(e,t,r){var n=r(22854),a=r(71848);e.exports=function(e,t,r,o){var i=r.length,s=i,c=!o;if(null==e)return!s;for(e=Object(e);i--;){var u=r[i];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<s;){var l=(u=r[i])[0],f=e[l],d=u[1];if(c&&u[2]){if(void 0===f&&!(l in e))return!1}else{var p=new n;if(o)var h=o(f,d,l,e,t,p);if(!(void 0===h?a(d,f,3,o,p):h))return!1}}return!0}},50505:function(e){e.exports=function(e){return e!==e}},26703:function(e,t,r){var n=r(74786),a=r(257),o=r(8092),i=r(27907),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(n(e)?d:s).test(i(e))}},48680:function(e,t,r){var n=r(88383),a=r(43141);e.exports=function(e){return a(e)&&"[object Set]"==n(e)}},68150:function(e,t,r){var n=r(39066),a=r(24635),o=r(43141),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!i[n(e)]}},56025:function(e,t,r){var n=r(97080),a=r(24322),o=r(2100),i=r(93629),s=r(10038);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?a(e[0],e[1]):n(e):s(e)}},43654:function(e,t,r){var n=r(62936),a=r(75964),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},8664:function(e,t,r){var n=r(8092),a=r(62936),o=r(4221),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=a(e),r=[];for(var s in e)("constructor"!=s||!t&&i.call(e,s))&&r.push(s);return r}},53849:function(e,t,r){var n=r(87927),a=r(21473);e.exports=function(e,t){var r=-1,o=a(e)?Array(e.length):[];return n(e,(function(e,n,a){o[++r]=t(e,n,a)})),o}},97080:function(e,t,r){var n=r(8856),a=r(79091),o=r(50284);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},24322:function(e,t,r){var n=r(71848),a=r(26181),o=r(75658),i=r(25823),s=r(25072),c=r(50284),u=r(69793);e.exports=function(e,t){return i(e)&&s(t)?c(u(e),t):function(r){var i=a(r,e);return void 0===i&&i===t?o(r,e):n(t,i,3)}}},64173:function(e,t,r){var n=r(22854),a=r(28002),o=r(85099),i=r(49216),s=r(8092),c=r(73961),u=r(85906);e.exports=function e(t,r,l,f,d){t!==r&&o(r,(function(o,c){if(d||(d=new n),s(o))i(t,r,c,l,e,f,d);else{var p=f?f(u(t,c),o,c+"",t,r,d):void 0;void 0===p&&(p=o),a(t,c,p)}}),c)}},49216:function(e,t,r){var n=r(28002),a=r(94523),o=r(40613),i=r(10291),s=r(40548),c=r(34963),u=r(93629),l=r(56279),f=r(5174),d=r(74786),p=r(8092),h=r(93977),m=r(19102),v=r(85906),_=r(6576);e.exports=function(e,t,r,y,g,b,w){var k=v(e,r),x=v(t,r),j=w.get(x);if(j)n(e,r,j);else{var E=b?b(k,x,r+"",e,t,w):void 0,S=void 0===E;if(S){var O=u(x),P=!O&&f(x),A=!O&&!P&&m(x);E=x,O||P||A?u(k)?E=k:l(k)?E=i(k):P?(S=!1,E=a(x,!0)):A?(S=!1,E=o(x,!0)):E=[]:h(x)||c(x)?(E=k,c(k)?E=_(k):p(k)&&!d(k)||(E=s(x))):S=!1}S&&(w.set(x,E),g(E,x,y,b,w),w.delete(x)),n(e,r,E)}}},93226:function(e,t,r){var n=r(68950),a=r(98667),o=r(56025),i=r(53849),s=r(19179),c=r(16194),u=r(94480),l=r(2100),f=r(93629);e.exports=function(e,t,r){t=t.length?n(t,(function(e){return f(e)?function(t){return a(t,1===e.length?e[0]:e)}:e})):[l];var d=-1;t=n(t,c(o));var p=i(e,(function(e,r,a){return{criteria:n(t,(function(t){return t(e)})),index:++d,value:e}}));return s(p,(function(e,t){return u(e,t,r)}))}},14980:function(e,t,r){var n=r(2591),a=r(75658);e.exports=function(e,t){return n(e,t,(function(t,r){return a(e,r)}))}},2591:function(e,t,r){var n=r(98667),a=r(40379),o=r(43082);e.exports=function(e,t,r){for(var i=-1,s=t.length,c={};++i<s;){var u=t[i],l=n(e,u);r(l,u)&&a(c,o(u,e),l)}return c}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,r){var n=r(98667);e.exports=function(e){return function(t){return n(t,e)}}},92683:function(e,t,r){var n=r(68950),a=r(24842),o=r(94032),i=r(16194),s=r(10291),c=Array.prototype.splice;e.exports=function(e,t,r,u){var l=u?o:a,f=-1,d=t.length,p=e;for(e===t&&(t=s(t)),r&&(p=n(e,i(r)));++f<d;)for(var h=0,m=t[f],v=r?r(m):m;(h=l(p,v,h,u))>-1;)p!==e&&c.call(p,h,1),c.call(e,h,1);return e}},58794:function(e,t,r){var n=r(2100),a=r(64262),o=r(79156);e.exports=function(e,t){return o(a(e,t,n),e+"")}},40379:function(e,t,r){var n=r(18463),a=r(43082),o=r(26800),i=r(8092),s=r(69793);e.exports=function(e,t,r,c){if(!i(e))return e;for(var u=-1,l=(t=a(t,e)).length,f=l-1,d=e;null!=d&&++u<l;){var p=s(t[u]),h=r;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(u!=f){var m=d[p];void 0===(h=c?c(m,p,d):void 0)&&(h=i(m)?m:o(t[u+1])?[]:{})}n(d,p,h),d=d[p]}return e}},7532:function(e,t,r){var n=r(71547),a=r(48528),o=r(2100),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=i},19179:function(e){e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},86478:function(e){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},2446:function(e,t,r){var n=r(87197),a=r(68950),o=r(93629),i=r(70152),s=n?n.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r}},16194:function(e){e.exports=function(e){return function(t){return e(t)}}},39602:function(e,t,r){var n=r(20692),a=r(59055),o=r(32683),i=r(60075),s=r(77730),c=r(22230);e.exports=function(e,t,r){var u=-1,l=a,f=e.length,d=!0,p=[],h=p;if(r)d=!1,l=o;else if(f>=200){var m=t?null:s(e);if(m)return c(m);d=!1,l=i,h=new n}else h=t?[]:p;e:for(;++u<f;){var v=e[u],_=t?t(v):v;if(v=r||0!==v?v:0,d&&_===_){for(var y=h.length;y--;)if(h[y]===_)continue e;t&&h.push(_),p.push(v)}else l(h,_,r)||(h!==p&&h.push(_),p.push(v))}return p}},60075:function(e){e.exports=function(e,t){return e.has(t)}},75600:function(e,t,r){var n=r(56279);e.exports=function(e){return n(e)?e:[]}},43410:function(e,t,r){var n=r(2100);e.exports=function(e){return"function"==typeof e?e:n}},43082:function(e,t,r){var n=r(93629),a=r(25823),o=r(10170),i=r(63518);e.exports=function(e,t){return n(e)?e:a(e,t)?[e]:o(i(e))}},7010:function(e,t,r){var n=r(46219);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},94523:function(e,t,r){e=r.nmd(e);var n=r(97009),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,i=o&&o.exports===a?n.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}},14610:function(e,t,r){var n=r(7010);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},18503:function(e){var t=/\w*$/;e.exports=function(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}},64720:function(e,t,r){var n=r(87197),a=n?n.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},40613:function(e,t,r){var n=r(7010);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},88558:function(e,t,r){var n=r(70152);e.exports=function(e,t){if(e!==t){var r=void 0!==e,a=null===e,o=e===e,i=n(e),s=void 0!==t,c=null===t,u=t===t,l=n(t);if(!c&&!l&&!i&&e>t||i&&s&&u&&!c&&!l||a&&s&&u||!r&&u||!o)return 1;if(!a&&!i&&!l&&e<t||l&&r&&o&&!a&&!i||c&&r&&o||!s&&o||!u)return-1}return 0}},94480:function(e,t,r){var n=r(88558);e.exports=function(e,t,r){for(var a=-1,o=e.criteria,i=t.criteria,s=o.length,c=r.length;++a<s;){var u=n(o[a],i[a]);if(u)return a>=c?u:u*("desc"==r[a]?-1:1)}return e.index-t.index}},10291:function(e){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},64503:function(e,t,r){var n=r(18463),a=r(32526);e.exports=function(e,t,r,o){var i=!r;r||(r={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=o?o(r[u],e[u],u,r,e):void 0;void 0===l&&(l=e[u]),i?a(r,u,l):n(r,u,l)}return r}},52455:function(e,t,r){var n=r(64503),a=r(65918);e.exports=function(e,t){return n(e,a(e),t)}},57636:function(e,t,r){var n=r(64503),a=r(38487);e.exports=function(e,t){return n(e,a(e),t)}},65525:function(e,t,r){var n=r(97009)["__core-js_shared__"];e.exports=n},39934:function(e,t,r){var n=r(58794),a=r(3195);e.exports=function(e){return n((function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,s=o>2?r[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,s&&a(r[0],r[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var c=r[n];c&&e(t,c,n,i)}return t}))}},67056:function(e,t,r){var n=r(21473);e.exports=function(e,t){return function(r,a){if(null==r)return r;if(!n(r))return e(r,a);for(var o=r.length,i=t?o:-1,s=Object(r);(t?i--:++i<o)&&!1!==a(s[i],i,s););return r}}},30372:function(e){e.exports=function(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var c=i[e?s:++a];if(!1===r(o[c],c,o))break}return t}}},77730:function(e,t,r){var n=r(23924),a=r(19694),o=r(22230),i=n&&1/o(new n([,-0]))[1]==1/0?function(e){return new n(e)}:a;e.exports=i},27493:function(e,t,r){var n=r(64173),a=r(8092);e.exports=function e(t,r,o,i,s,c){return a(t)&&a(r)&&(c.set(r,t),n(t,r,void 0,e,c),c.delete(r)),t}},48528:function(t,r,n){var a=n(68136),o=function(){try{var t=a(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=o},15305:function(e,t,r){var n=r(20692),a=r(47897),o=r(60075);e.exports=function(e,t,r,i,s,c){var u=1&r,l=e.length,f=t.length;if(l!=f&&!(u&&f>l))return!1;var d=c.get(e),p=c.get(t);if(d&&p)return d==t&&p==e;var h=-1,m=!0,v=2&r?new n:void 0;for(c.set(e,t),c.set(t,e);++h<l;){var _=e[h],y=t[h];if(i)var g=u?i(y,_,h,t,e,c):i(_,y,h,e,t,c);if(void 0!==g){if(g)continue;m=!1;break}if(v){if(!a(t,(function(e,t){if(!o(v,t)&&(_===e||s(_,e,r,i,c)))return v.push(t)}))){m=!1;break}}else if(_!==y&&!s(_,y,r,i,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},92206:function(e,t,r){var n=r(87197),a=r(46219),o=r(29231),i=r(15305),s=r(90234),c=r(22230),u=n?n.prototype:void 0,l=u?u.valueOf:void 0;e.exports=function(e,t,r,n,u,f,d){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&n;if(p||(p=c),e.size!=t.size&&!h)return!1;var m=d.get(e);if(m)return m==t;n|=2,d.set(e,t);var v=i(p(e),p(t),n,u,f,d);return d.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},88078:function(e,t,r){var n=r(38248),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,o,i,s){var c=1&r,u=n(e),l=u.length;if(l!=n(t).length&&!c)return!1;for(var f=l;f--;){var d=u[f];if(!(c?d in t:a.call(t,d)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=c;++f<l;){var _=e[d=u[f]],y=t[d];if(o)var g=c?o(y,_,d,t,e,s):o(_,y,d,e,t,s);if(!(void 0===g?_===y||i(_,y,r,o,s):g)){m=!1;break}v||(v="constructor"==d)}if(m&&!v){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},27038:function(e,t,r){var n=r(25506),a=r(64262),o=r(79156);e.exports=function(e){return o(a(e,void 0,n),e+"")}},31032:function(e,t,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},38248:function(e,t,r){var n=r(61986),a=r(65918),o=r(12742);e.exports=function(e){return n(e,o,a)}},55341:function(e,t,r){var n=r(61986),a=r(38487),o=r(73961);e.exports=function(e){return n(e,o,a)}},32799:function(e,t,r){var n=r(55964);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},79091:function(e,t,r){var n=r(25072),a=r(12742);e.exports=function(e){for(var t=a(e),r=t.length;r--;){var o=t[r],i=e[o];t[r]=[o,i,n(i)]}return t}},68136:function(e,t,r){var n=r(26703),a=r(30040);e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},31137:function(e,t,r){var n=r(12709)(Object.getPrototypeOf,Object);e.exports=n},81587:function(t,r,n){var a=n(87197),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,c=a?a.toStringTag:void 0;t.exports=function(t){var r=i.call(t,c),n=t[c];try{t[c]=void 0;var a=!0}catch(e){}var o=s.call(t);return a&&(r?t[c]=n:delete t[c]),o}},65918:function(e,t,r){var n=r(84903),a=r(68174),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),n(i(e),(function(t){return o.call(e,t)})))}:a;e.exports=s},38487:function(e,t,r){var n=r(41705),a=r(31137),o=r(65918),i=r(68174),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,o(e)),e=a(e);return t}:i;e.exports=s},88383:function(e,t,r){var n=r(50908),a=r(95797),o=r(78319),i=r(23924),s=r(7091),c=r(39066),u=r(27907),l="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",h="[object DataView]",m=u(n),v=u(a),_=u(o),y=u(i),g=u(s),b=c;(n&&b(new n(new ArrayBuffer(1)))!=h||a&&b(new a)!=l||o&&b(o.resolve())!=f||i&&b(new i)!=d||s&&b(new s)!=p)&&(b=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case m:return h;case v:return l;case _:return f;case y:return d;case g:return p}return t}),e.exports=b},30040:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},86417:function(e,t,r){var n=r(43082),a=r(34963),o=r(93629),i=r(26800),s=r(24635),c=r(69793);e.exports=function(e,t,r){for(var u=-1,l=(t=n(t,e)).length,f=!1;++u<l;){var d=c(t[u]);if(!(f=null!=e&&r(e,d)))break;e=e[d]}return f||++u!=l?f:!!(l=null==e?0:e.length)&&s(l)&&i(d,l)&&(o(e)||a(e))}},85403:function(e,t,r){var n=r(49620);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},62747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},16037:function(e,t,r){var n=r(49620),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(t,e)?t[e]:void 0}},94154:function(e,t,r){var n=r(49620),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)}},77728:function(e,t,r){var n=r(49620);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},39243:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},39759:function(e,t,r){var n=r(7010),a=r(14610),o=r(18503),i=r(64720),s=r(40613);e.exports=function(e,t,r){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return a(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,r);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Symbol]":return i(e)}}},40548:function(e,t,r){var n=r(65763),a=r(31137),o=r(62936);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:n(a(e))}},73529:function(e,t,r){var n=r(87197),a=r(34963),o=r(93629),i=n?n.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||a(e)||!!(i&&e&&e[i])}},26800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},3195:function(e,t,r){var n=r(29231),a=r(21473),o=r(26800),i=r(8092);e.exports=function(e,t,r){if(!i(r))return!1;var s=typeof t;return!!("number"==s?a(r)&&o(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},25823:function(e,t,r){var n=r(93629),a=r(70152),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!a(e))||(i.test(e)||!o.test(e)||null!=t&&e in Object(t))}},55964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,r){var n=r(65525),a=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},62936:function(e){var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},25072:function(e,t,r){var n=r(8092);e.exports=function(e){return e===e&&!n(e)}},43894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,r){var n=r(27112),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}},64957:function(e,t,r){var n=r(27112);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},87184:function(e,t,r){var n=r(27112);e.exports=function(e){return n(this.__data__,e)>-1}},87109:function(e,t,r){var n=r(27112);e.exports=function(e,t){var r=this.__data__,a=n(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}},34086:function(e,t,r){var n=r(29676),a=r(38384),o=r(95797);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||a),string:new n}}},9255:function(e,t,r){var n=r(32799);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},29186:function(e,t,r){var n=r(32799);e.exports=function(e){return n(this,e).get(e)}},13423:function(e,t,r){var n=r(32799);e.exports=function(e){return n(this,e).has(e)}},73739:function(e,t,r){var n=r(32799);e.exports=function(e,t){var r=n(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}},90234:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},50284:function(e){e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},14634:function(e,t,r){var n=r(49151);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},49620:function(e,t,r){var n=r(68136)(Object,"create");e.exports=n},75964:function(e,t,r){var n=r(12709)(Object.keys,Object);e.exports=n},4221:function(e){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},49494:function(t,r,n){t=n.nmd(t);var a=n(31032),o=r&&!r.nodeType&&r,i=o&&t&&!t.nodeType&&t,s=i&&i.exports===o&&a.process,c=function(){try{var t=i&&i.require&&i.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(e){}}();t.exports=c},43581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},12709:function(e){e.exports=function(e,t){return function(r){return e(t(r))}}},64262:function(e,t,r){var n=r(13665),a=Math.max;e.exports=function(e,t,r){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=a(o.length-t,0),c=Array(s);++i<s;)c[i]=o[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=o[i];return u[t]=r(c),n(e,this,u)}}},97009:function(e,t,r){var n=r(31032),a="object"==typeof self&&self&&self.Object===Object&&self,o=n||a||Function("return this")();e.exports=o},85906:function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},35774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},41596:function(e){e.exports=function(e){return this.__data__.has(e)}},22230:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},79156:function(e,t,r){var n=r(7532),a=r(83197)(n);e.exports=a},83197:function(e){var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var a=t(),o=16-(a-n);if(n=a,o>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},20511:function(e,t,r){var n=r(38384);e.exports=function(){this.__data__=new n,this.size=0}},50835:function(e){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},90707:function(e){e.exports=function(e){return this.__data__.get(e)}},18832:function(e){e.exports=function(e){return this.__data__.has(e)}},35077:function(e,t,r){var n=r(38384),a=r(95797),o=r(78059);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var i=r.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(i)}return r.set(e,t),this.size=r.size,this}},77167:function(e){e.exports=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}},10170:function(e,t,r){var n=r(14634),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,r,n,a){t.push(n?a.replace(o,"$1"):r||e)})),t}));e.exports=i},69793:function(e,t,r){var n=r(70152);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},27907:function(t){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},58121:function(e,t,r){var n=r(31905);e.exports=function(e){return n(e,5)}},71547:function(e){e.exports=function(e){return function(){return e}}},66933:function(e,t,r){var n=r(58794),a=r(29231),o=r(3195),i=r(73961),s=Object.prototype,c=s.hasOwnProperty,u=n((function(e,t){e=Object(e);var r=-1,n=t.length,u=n>2?t[2]:void 0;for(u&&o(t[0],t[1],u)&&(n=1);++r<n;)for(var l=t[r],f=i(l),d=-1,p=f.length;++d<p;){var h=f[d],m=e[h];(void 0===m||a(m,s[h])&&!c.call(e,h))&&(e[h]=l[h])}return e}));e.exports=u},34521:function(e,t,r){var n=r(13665),a=r(58794),o=r(27493),i=r(72617),s=a((function(e){return e.push(void 0,o),n(i,void 0,e)}));e.exports=s},29231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},25506:function(e,t,r){var n=r(55182);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},93613:function(e,t,r){var n=r(55182);e.exports=function(e){return(null==e?0:e.length)?n(e,Infinity):[]}},36514:function(e,t,r){var n=r(4550),a=r(87927),o=r(43410),i=r(93629);e.exports=function(e,t){return(i(e)?n:a)(e,o(t))}},26181:function(e,t,r){var n=r(98667);e.exports=function(e,t,r){var a=null==e?void 0:n(e,t);return void 0===a?r:a}},75658:function(e,t,r){var n=r(90529),a=r(86417);e.exports=function(e,t){return null!=e&&a(e,t,n)}},2100:function(e){e.exports=function(e){return e}},57753:function(e,t,r){var n=r(68950),a=r(75188),o=r(58794),i=r(75600),s=o((function(e){var t=n(e,i);return t.length&&t[0]===e[0]?a(t):[]}));e.exports=s},55366:function(e,t,r){var n=r(68950),a=r(75188),o=r(58794),i=r(75600),s=r(15727),c=o((function(e){var t=s(e),r=n(e,i);return(t="function"==typeof t?t:void 0)&&r.pop(),r.length&&r[0]===e[0]?a(r,void 0,t):[]}));e.exports=c},34963:function(e,t,r){var n=r(4906),a=r(43141),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return a(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},93629:function(e){var t=Array.isArray;e.exports=t},21473:function(e,t,r){var n=r(74786),a=r(24635);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},56279:function(e,t,r){var n=r(21473),a=r(43141);e.exports=function(e){return a(e)&&n(e)}},65127:function(e,t,r){var n=r(39066),a=r(43141);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==n(e)}},5174:function(e,t,r){e=r.nmd(e);var n=r(97009),a=r(49488),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,s=i&&i.exports===o?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||a;e.exports=c},66364:function(e,t,r){var n=r(43654),a=r(88383),o=r(34963),i=r(93629),s=r(21473),c=r(5174),u=r(62936),l=r(19102),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||l(e)||o(e)))return!e.length;var t=a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!n(e).length;for(var r in e)if(f.call(e,r))return!1;return!0}},18111:function(e,t,r){var n=r(71848);e.exports=function(e,t){return n(e,t)}},74786:function(e,t,r){var n=r(39066),a=r(8092);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},24635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},60103:function(e,t,r){var n=r(53085),a=r(16194),o=r(49494),i=o&&o.isMap,s=i?a(i):n;e.exports=s},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},43141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},93977:function(e,t,r){var n=r(39066),a=r(31137),o=r(43141),i=Function.prototype,s=Object.prototype,c=i.toString,u=s.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=n(e))return!1;var t=a(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==l}},36995:function(e,t,r){var n=r(48680),a=r(16194),o=r(49494),i=o&&o.isSet,s=i?a(i):n;e.exports=s},70152:function(e,t,r){var n=r(39066),a=r(43141);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},19102:function(e,t,r){var n=r(68150),a=r(16194),o=r(49494),i=o&&o.isTypedArray,s=i?a(i):n;e.exports=s},12742:function(e,t,r){var n=r(47538),a=r(43654),o=r(21473);e.exports=function(e){return o(e)?n(e):a(e)}},73961:function(e,t,r){var n=r(47538),a=r(8664),o=r(21473);e.exports=function(e){return o(e)?n(e,!0):a(e)}},15727:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},49151:function(e,t,r){var n=r(78059);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(a.Cache||n),r}a.Cache=n,e.exports=a},72617:function(e,t,r){var n=r(64173),a=r(39934)((function(e,t,r,a){n(e,t,r,a)}));e.exports=a},19694:function(e){e.exports=function(){}},36460:function(e,t,r){var n=r(14980),a=r(27038)((function(e,t){return null==e?{}:n(e,t)}));e.exports=a},10038:function(e,t,r){var n=r(9586),a=r(4084),o=r(25823),i=r(69793);e.exports=function(e){return o(e)?n(i(e)):a(e)}},30566:function(e,t,r){var n=r(92683);e.exports=function(e,t){return e&&e.length&&t&&t.length?n(e,t):e}},64286:function(e,t,r){var n=r(55182),a=r(93226),o=r(58794),i=r(3195),s=o((function(e,t){if(null==e)return[];var r=t.length;return r>1&&i(e,t[0],t[1])?t=[]:r>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),a(e,n(t,1),[])}));e.exports=s},68174:function(e){e.exports=function(){return[]}},49488:function(e){e.exports=function(){return!1}},40168:function(e,t,r){var n=r(68950),a=r(10291),o=r(93629),i=r(70152),s=r(10170),c=r(69793),u=r(63518);e.exports=function(e){return o(e)?n(e,c):i(e)?[e]:a(s(u(e)))}},6576:function(e,t,r){var n=r(64503),a=r(73961);e.exports=function(e){return n(e,a(e))}},63518:function(e,t,r){var n=r(2446);e.exports=function(e){return null==e?"":n(e)}},72064:function(e,t,r){var n=r(39602);e.exports=function(e){return e&&e.length?n(e):[]}},86742:function(e,t,r){var n=r(39602);e.exports=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?n(e,void 0,t):[]}},41761:function(e,t,r){var n=r(21468),a=r(58794),o=r(56279),i=a((function(e,t){return o(e)?n(e,t):[]}));e.exports=i},80888:function(e,t,r){"use strict";var n=r(79047);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,o,i){if(i!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return r.PropTypes=r,r}},52007:function(e,t,r){e.exports=r(80888)()},79047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},34463:function(t,r,n){"use strict";var a=n(72791),o=n(45296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,c={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function v(e,t,r,n,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){_[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){_[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){_[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,r,n){var a=_.hasOwnProperty(t)?_[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!d.call(m,e)||!d.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);_[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);_[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);_[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){_[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),_.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){_[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),P=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var M,U=Object.assign;function q(e){if(void 0===M)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var L=!1;function $(e,t){if(!e||L)return"";L=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),o=n.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var c="\n"+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=i&&0<=s);break}}}finally{L=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 1:return e=$(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case x:return"Portal";case S:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return B(e(t))}catch(r){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=K(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var r=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Y(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=V(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){X(e,t);var r=V(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?te(e,t.type,r):t.hasOwnProperty("defaultValue")&&te(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ee(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function te(e,t,r){"number"===t&&J(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var re=Array.isArray;function ne(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+V(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(re(r)){if(1<r.length)throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:V(r)}}function ie(e,t){var r=V(t.value),n=V(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ce(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ce(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,fe,de=(fe=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return fe(e,t)}))}:fe);function pe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ve(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function _e(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=ve(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(he).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,je=null,Ee=null;function Se(e){if(e=ba(e)){if("function"!==typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=ka(t),xe(e.stateNode,e.type,t))}}function Oe(e){je?Ee?Ee.push(e):Ee=[e]:je=e}function Pe(){if(je){var e=je,t=Ee;if(Ee=je=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ae(e,t){return e(t)}function Te(){}var Ce=!1;function Re(e,t,r){if(Ce)return e(t,r);Ce=!0;try{return Ae(e,t,r)}finally{Ce=!1,(null!==je||null!==Ee)&&(Te(),Pe())}}function Ie(e,t){var r=e.stateNode;if(null===r)return null;var n=ka(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var De=!1;if(f)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(fe){De=!1}function Ne(e,t,r,n,a,o,i,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(l){this.onError(l)}}var Me=!1,Ue=null,qe=!1,Le=null,$e={onError:function(e){Me=!0,Ue=e}};function We(e,t,r,n,a,o,i,s,c){Me=!1,Ue=null,Ne.apply($e,arguments)}function Be(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Be(e)!==e)throw Error(i(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(n=a.return)){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Ve(a),e;if(o===n)return Ve(a),t;o=o.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=o;else{for(var s=!1,c=a.child;c;){if(c===r){s=!0,r=a,n=o;break}if(c===n){s=!0,n=a,r=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===r){s=!0,r=o,n=a;break}if(c===n){s=!0,n=o,r=a;break}c=c.sibling}if(!s)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,Je=o.unstable_cancelCallback,Qe=o.unstable_shouldYield,Ye=o.unstable_requestPaint,Xe=o.unstable_now,Ze=o.unstable_getCurrentPriorityLevel,et=o.unstable_ImmediatePriority,tt=o.unstable_UserBlockingPriority,rt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,at=o.unstable_IdlePriority,ot=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ct(e)/ut|0)|0},ct=Math.log,ut=Math.LN2;var lt=64,ft=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&r;if(0!==i){var s=i&~a;0!==s?n=dt(s):0!==(o&=i)&&(n=dt(o))}else 0!==(i=r&~a)?n=dt(i):0!==o&&(n=dt(o));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-st(t)),n|=e[r],t&=~a;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function _t(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=r}function gt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,xt,jt,Et,St,Ot=!1,Pt=[],At=null,Tt=null,Ct=null,Rt=new Map,It=new Map,Dt=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Mt(e,t,r,n,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&xt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ut(e){var t=ga(e.target);if(null!==t){var r=Be(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=ze(r)))return e.blockedOn=t,void St(e.priority,(function(){jt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function qt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ba(r))&&xt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);we=n,r.target.dispatchEvent(n),we=null,t.shift()}return!0}function Lt(e,t,r){qt(e)&&r.delete(t)}function $t(){Ot=!1,null!==At&&qt(At)&&(At=null),null!==Tt&&qt(Tt)&&(Tt=null),null!==Ct&&qt(Ct)&&(Ct=null),Rt.forEach(Lt),It.forEach(Lt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,$t)))}function Bt(e){function t(t){return Wt(t,e)}if(0<Pt.length){Wt(Pt[0],e);for(var r=1;r<Pt.length;r++){var n=Pt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==At&&Wt(At,e),null!==Tt&&Wt(Tt,e),null!==Ct&&Wt(Ct,e),Rt.forEach(t),It.forEach(t),r=0;r<Dt.length;r++)(n=Dt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Dt.length&&null===(r=Dt[0]).blockedOn;)Ut(r),null===r.blockedOn&&Dt.shift()}var zt=w.ReactCurrentBatchConfig,Vt=!0;function Kt(e,t,r,n){var a=bt,o=zt.transition;zt.transition=null;try{bt=1,Gt(e,t,r,n)}finally{bt=a,zt.transition=o}}function Ht(e,t,r,n){var a=bt,o=zt.transition;zt.transition=null;try{bt=4,Gt(e,t,r,n)}finally{bt=a,zt.transition=o}}function Gt(e,t,r,n){if(Vt){var a=Qt(e,t,r,n);if(null===a)Vn(e,t,n,Jt,r),Nt(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return At=Mt(At,e,t,r,n,a),!0;case"dragenter":return Tt=Mt(Tt,e,t,r,n,a),!0;case"mouseover":return Ct=Mt(Ct,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Rt.set(o,Mt(Rt.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,It.set(o,Mt(It.get(o)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Nt(e,n),4&t&&-1<Ft.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&kt(o),null===(o=Qt(e,t,r,n))&&Vn(e,t,n,Jt,r),o===a)break;a=o}null!==a&&n.stopPropagation()}else Vn(e,t,n,null,r)}}var Jt=null;function Qt(e,t,r,n){if(Jt=null,null!==(e=ga(e=ke(n))))if(null===(t=Be(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case et:return 1;case tt:return 4;case rt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,er=null;function tr(){if(er)return er;var e,t,r=Zt,n=r.length,a="value"in Xt?Xt.value:Xt.textContent,o=a.length;for(e=0;e<n&&r[e]===a[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===a[o-t];t++);return er=a.slice(e,1<t?1-t:void 0)}function rr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nr(){return!0}function ar(){return!1}function or(e){function t(t,r,n,a,o){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nr:ar,this.isPropagationStopped=ar,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),t}var ir,sr,cr,ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=or(ur),fr=U({},ur,{view:0,detail:0}),dr=or(fr),pr=U({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cr&&(cr&&"mousemove"===e.type?(ir=e.screenX-cr.screenX,sr=e.screenY-cr.screenY):sr=ir=0,cr=e),ir)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),hr=or(pr),mr=or(U({},pr,{dataTransfer:0})),vr=or(U({},fr,{relatedTarget:0})),_r=or(U({},ur,{animationName:0,elapsedTime:0,pseudoElement:0})),yr=U({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gr=or(yr),br=or(U({},ur,{data:0})),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xr[e])&&!!t[e]}function Er(){return jr}var Sr=U({},fr,{key:function(e){if(e.key){var t=wr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return"keypress"===e.type?rr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Or=or(Sr),Pr=or(U({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ar=or(U({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er})),Tr=or(U({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cr=U({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=or(Cr),Ir=[9,13,27,32],Dr=f&&"CompositionEvent"in window,Fr=null;f&&"documentMode"in document&&(Fr=document.documentMode);var Nr=f&&"TextEvent"in window&&!Fr,Mr=f&&(!Dr||Fr&&8<Fr&&11>=Fr),Ur=String.fromCharCode(32),qr=!1;function Lr(e,t){switch(e){case"keyup":return-1!==Ir.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $r(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wr=!1;var Br={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Br[e.type]:"textarea"===t}function Vr(e,t,r,n){Oe(n),0<(t=Hn(t,"onChange")).length&&(r=new lr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Kr=null,Hr=null;function Gr(e){qn(e,0)}function Jr(e){if(G(wa(e)))return e}function Qr(e,t){if("change"===e)return t}var Yr=!1;if(f){var Xr;if(f){var Zr="oninput"in document;if(!Zr){var en=document.createElement("div");en.setAttribute("oninput","return;"),Zr="function"===typeof en.oninput}Xr=Zr}else Xr=!1;Yr=Xr&&(!document.documentMode||9<document.documentMode)}function tn(){Kr&&(Kr.detachEvent("onpropertychange",rn),Hr=Kr=null)}function rn(e){if("value"===e.propertyName&&Jr(Hr)){var t=[];Vr(t,Hr,e,ke(e)),Re(Gr,t)}}function nn(e,t,r){"focusin"===e?(tn(),Hr=r,(Kr=t).attachEvent("onpropertychange",rn)):"focusout"===e&&tn()}function an(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jr(Hr)}function on(e,t){if("click"===e)return Jr(t)}function sn(e,t){if("input"===e||"change"===e)return Jr(t)}var cn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function un(e,t){if(cn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d.call(t,a)||!cn(e[a],t[a]))return!1}return!0}function ln(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fn(e,t){var r,n=ln(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ln(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pn(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=J((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mn(e){var t=pn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&hn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=void 0===n.end?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=fn(r,o);var i=fn(r,n);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vn=f&&"documentMode"in document&&11>=document.documentMode,_n=null,yn=null,gn=null,bn=!1;function wn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==_n||_n!==J(n)||("selectionStart"in(n=_n)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},gn&&un(gn,n)||(gn=n,0<(n=Hn(yn,"onSelect")).length&&(t=new lr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=_n)))}function kn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xn={animationend:kn("Animation","AnimationEnd"),animationiteration:kn("Animation","AnimationIteration"),animationstart:kn("Animation","AnimationStart"),transitionend:kn("Transition","TransitionEnd")},jn={},En={};function Sn(e){if(jn[e])return jn[e];if(!xn[e])return e;var t,r=xn[e];for(t in r)if(r.hasOwnProperty(t)&&t in En)return jn[e]=r[t];return e}f&&(En=document.createElement("div").style,"AnimationEvent"in window||(delete xn.animationend.animation,delete xn.animationiteration.animation,delete xn.animationstart.animation),"TransitionEvent"in window||delete xn.transitionend.transition);var On=Sn("animationend"),Pn=Sn("animationiteration"),An=Sn("animationstart"),Tn=Sn("transitionend"),Cn=new Map,Rn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(e,t){Cn.set(e,t),u(t,[e])}for(var Dn=0;Dn<Rn.length;Dn++){var Fn=Rn[Dn];In(Fn.toLowerCase(),"on"+(Fn[0].toUpperCase()+Fn.slice(1)))}In(On,"onAnimationEnd"),In(Pn,"onAnimationIteration"),In(An,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(Tn,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nn));function Un(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,o,s,c,u){if(We.apply(this,arguments),Me){if(!Me)throw Error(i(198));var l=Ue;Me=!1,Ue=null,qe||(qe=!0,Le=l)}}(n,t,void 0,e),e.currentTarget=null}function qn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==o&&a.isPropagationStopped())break e;Un(a,s,u),o=c}else for(i=0;i<n.length;i++){if(c=(s=n[i]).instance,u=s.currentTarget,s=s.listener,c!==o&&a.isPropagationStopped())break e;Un(a,s,u),o=c}}}if(qe)throw e=Le,qe=!1,Le=null,e}function Ln(e,t){var r=t[va];void 0===r&&(r=t[va]=new Set);var n=e+"__bubble";r.has(n)||(zn(t,e,2,!1),r.add(n))}function $n(e,t,r){var n=0;t&&(n|=4),zn(r,e,n,t)}var Wn="_reactListening"+Math.random().toString(36).slice(2);function Bn(e){if(!e[Wn]){e[Wn]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mn.has(t)||$n(t,!1,e),$n(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wn]||(t[Wn]=!0,$n("selectionchange",!1,t))}}function zn(e,t,r,n){switch(Yt(t)){case 1:var a=Kt;break;case 4:a=Ht;break;default:a=Gt}r=a.bind(null,t,r,e),a=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Vn(e,t,r,n,a){var o=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var s=n.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=n.return;null!==i;){var c=i.tag;if((3===c||4===c)&&((c=i.stateNode.containerInfo)===a||8===c.nodeType&&c.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=ga(s)))return;if(5===(c=i.tag)||6===c){n=o=i;continue e}s=s.parentNode}}n=n.return}Re((function(){var n=o,a=ke(r),i=[];e:{var s=Cn.get(e);if(void 0!==s){var c=lr,u=e;switch(e){case"keypress":if(0===rr(r))break e;case"keydown":case"keyup":c=Or;break;case"focusin":u="focus",c=vr;break;case"focusout":u="blur",c=vr;break;case"beforeblur":case"afterblur":c=vr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Ar;break;case On:case Pn:case An:c=_r;break;case Tn:c=Tr;break;case"scroll":c=dr;break;case"wheel":c=Rr;break;case"copy":case"cut":case"paste":c=gr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Pr}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var p,h=n;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=Ie(h,d))&&l.push(Kn(h,m,p)))),f)break;h=h.return}0<l.length&&(s=new c(s,u,null,r,a),i.push({event:s,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===we||!(u=r.relatedTarget||r.fromElement)||!ga(u)&&!u[ma])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=n,null!==(u=(u=r.relatedTarget||r.toElement)?ga(u):null)&&(u!==(f=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=n),c!==u)){if(l=hr,m="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pr,m="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==c?s:wa(c),p=null==u?s:wa(u),(s=new l(m,h+"leave",c,r,a)).target=f,s.relatedTarget=p,m=null,ga(a)===n&&((l=new l(d,h+"enter",u,r,a)).target=p,l.relatedTarget=f,m=l),f=m,c&&u)e:{for(d=u,h=0,p=l=c;p;p=Gn(p))h++;for(p=0,m=d;m;m=Gn(m))p++;for(;0<h-p;)l=Gn(l),h--;for(;0<p-h;)d=Gn(d),p--;for(;h--;){if(l===d||null!==d&&l===d.alternate)break e;l=Gn(l),d=Gn(d)}l=null}else l=null;null!==c&&Jn(i,s,c,l,!1),null!==u&&null!==f&&Jn(i,f,u,l,!0)}if("select"===(c=(s=n?wa(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Qr;else if(zr(s))if(Yr)v=sn;else{v=an;var _=nn}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=on);switch(v&&(v=v(e,n))?Vr(i,v,r,a):(_&&_(e,s,n),"focusout"===e&&(_=s._wrapperState)&&_.controlled&&"number"===s.type&&te(s,"number",s.value)),_=n?wa(n):window,e){case"focusin":(zr(_)||"true"===_.contentEditable)&&(_n=_,yn=n,gn=null);break;case"focusout":gn=yn=_n=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,wn(i,r,a);break;case"selectionchange":if(vn)break;case"keydown":case"keyup":wn(i,r,a)}var y;if(Dr)e:{switch(e){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Wr?Lr(e,r)&&(g="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(g="onCompositionStart");g&&(Mr&&"ko"!==r.locale&&(Wr||"onCompositionStart"!==g?"onCompositionEnd"===g&&Wr&&(y=tr()):(Zt="value"in(Xt=a)?Xt.value:Xt.textContent,Wr=!0)),0<(_=Hn(n,g)).length&&(g=new br(g,e,null,r,a),i.push({event:g,listeners:_}),y?g.data=y:null!==(y=$r(r))&&(g.data=y))),(y=Nr?function(e,t){switch(e){case"compositionend":return $r(t);case"keypress":return 32!==t.which?null:(qr=!0,Ur);case"textInput":return(e=t.data)===Ur&&qr?null:e;default:return null}}(e,r):function(e,t){if(Wr)return"compositionend"===e||!Dr&&Lr(e,t)?(e=tr(),er=Zt=Xt=null,Wr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Hn(n,"onBeforeInput")).length&&(a=new br("onBeforeInput","beforeinput",null,r,a),i.push({event:a,listeners:n}),a.data=y))}qn(i,t)}))}function Kn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Ie(e,r))&&n.unshift(Kn(e,o,a)),null!=(o=Ie(e,t))&&n.push(Kn(e,o,a))),e=e.return}return n}function Gn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jn(e,t,r,n,a){for(var o=t._reactName,i=[];null!==r&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(null!==c&&c===n)break;5===s.tag&&null!==u&&(s=u,a?null!=(c=Ie(r,o))&&i.unshift(Kn(r,c,s)):a||null!=(c=Ie(r,o))&&i.push(Kn(r,c,s))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Qn=/\r\n?/g,Yn=/\u0000|\uFFFD/g;function Xn(e){return("string"===typeof e?e:""+e).replace(Qn,"\n").replace(Yn,"")}function Zn(e,t,r){if(t=Xn(t),Xn(e)!==t&&r)throw Error(i(425))}function ea(){}var ta=null,ra=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var aa="function"===typeof setTimeout?setTimeout:void 0,oa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(ca)}:aa;function ca(e){setTimeout((function(){throw e}))}function ua(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Bt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Bt(t)}function la(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function fa(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),pa="__reactFiber$"+da,ha="__reactProps$"+da,ma="__reactContainer$"+da,va="__reactEvents$"+da,_a="__reactListeners$"+da,ya="__reactHandles$"+da;function ga(e){var t=e[pa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ma]||r[pa]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=fa(e);null!==e;){if(r=e[pa])return r;e=fa(e)}return t}r=(e=r).parentNode}return null}function ba(e){return!(e=e[pa]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ka(e){return e[ha]||null}var xa=[],ja=-1;function Ea(e){return{current:e}}function Sa(e){0>ja||(e.current=xa[ja],xa[ja]=null,ja--)}function Oa(e,t){ja++,xa[ja]=e.current,e.current=t}var Pa={},Aa=Ea(Pa),Ta=Ea(!1),Ca=Pa;function Ra(e,t){var r=e.type.contextTypes;if(!r)return Pa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in r)o[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ia(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Da(){Sa(Ta),Sa(Aa)}function Fa(e,t,r){if(Aa.current!==Pa)throw Error(i(168));Oa(Aa,t),Oa(Ta,r)}function Na(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(i(108,z(e)||"Unknown",a));return U({},r,n)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pa,Ca=Aa.current,Oa(Aa,e),Oa(Ta,Ta.current),!0}function Ua(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=Na(e,t,Ca),n.__reactInternalMemoizedMergedChildContext=e,Sa(Ta),Sa(Aa),Oa(Aa,e)):Sa(Ta),Oa(Ta,r)}var qa=null,La=!1,$a=!1;function Wa(e){null===qa?qa=[e]:qa.push(e)}function Ba(){if(!$a&&null!==qa){$a=!0;var t=0,r=bt;try{var n=qa;for(bt=1;t<n.length;t++){var a=n[t];do{a=a(!0)}while(null!==a)}qa=null,La=!1}catch(e){throw null!==qa&&(qa=qa.slice(t+1)),Ge(et,Ba),e}finally{bt=r,$a=!1}}return null}var za=[],Va=0,Ka=null,Ha=0,Ga=[],Ja=0,Qa=null,Ya=1,Xa="";function Za(e,t){za[Va++]=Ha,za[Va++]=Ka,Ka=e,Ha=t}function eo(e,t,r){Ga[Ja++]=Ya,Ga[Ja++]=Xa,Ga[Ja++]=Qa,Qa=e;var n=Ya;e=Xa;var a=32-st(n)-1;n&=~(1<<a),r+=1;var o=32-st(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Ya=1<<32-st(t)+a|r<<a|n,Xa=o+e}else Ya=1<<o|r<<a|n,Xa=e}function to(e){null!==e.return&&(Za(e,1),eo(e,1,0))}function ro(e){for(;e===Ka;)Ka=za[--Va],za[Va]=null,Ha=za[--Va],za[Va]=null;for(;e===Qa;)Qa=Ga[--Ja],Ga[Ja]=null,Xa=Ga[--Ja],Ga[Ja]=null,Ya=Ga[--Ja],Ga[Ja]=null}var no=null,ao=null,oo=!1,io=null;function so(e,t){var r=Iu(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function co(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ao=la(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ao=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Qa?{id:Ya,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Iu(18,null,null,0)).stateNode=t,r.return=e,e.child=r,no=e,ao=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(oo){var t=ao;if(t){var r=t;if(!co(e,t)){if(uo(e))throw Error(i(418));t=la(r.nextSibling);var n=no;t&&co(e,t)?so(n,r):(e.flags=-4097&e.flags|2,oo=!1,no=e)}}else{if(uo(e))throw Error(i(418));e.flags=-4097&e.flags|2,oo=!1,no=e}}}function fo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function po(e){if(e!==no)return!1;if(!oo)return fo(e),oo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ao)){if(uo(e))throw ho(),Error(i(418));for(;t;)so(e,t),t=la(t.nextSibling)}if(fo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ao=la(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ao=null}}else ao=no?la(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ao;e;)e=la(e.nextSibling)}function mo(){ao=no=null,oo=!1}function vo(e){null===io?io=[e]:io.push(e)}var _o=w.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var r in t=U({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var go=Ea(null),bo=null,wo=null,ko=null;function xo(){ko=wo=bo=null}function jo(e){var t=go.current;Sa(go),e._currentValue=t}function Eo(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function So(e,t){bo=e,ko=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Oo(e){var t=e._currentValue;if(ko!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(i(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Po=null;function Ao(e){null===Po?Po=[e]:Po.push(e)}function To(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Ao(t)):(r.next=a.next,a.next=r),t.interleaved=r,Co(e,n)}function Co(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ro=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function No(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Tc)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Co(e,r)}return null===(a=n.interleaved)?(t.next=t,Ao(n)):(t.next=a.next,a.next=t),n.interleaved=t,Co(e,r)}function Mo(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,gt(e,r)}}function Uo(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?a=o=i:o=o.next=i,r=r.next}while(null!==r);null===o?a=o=t:o=o.next=t}else a=o=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function qo(e,t,r,n){var a=e.updateQueue;Ro=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,u=c.next;c.next=null,null===i?o=u:i.next=u,i=c;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==i&&(null===s?l.firstBaseUpdate=u:s.next=u,l.lastBaseUpdate=c))}if(null!==o){var f=a.baseState;for(i=0,l=u=c=null,s=o;;){var d=s.lane,p=s.eventTime;if((n&d)===d){null!==l&&(l=l.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(d=t,p=r,m.tag){case 1:if("function"===typeof(h=m.payload)){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(d="function"===typeof(h=m.payload)?h.call(p,f,d):h)||void 0===d)break e;f=U({},f,d);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=a.effects)?a.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(u=l=p,c=f):l=l.next=p,i|=d;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(d=s).next,d.next=null,a.lastBaseUpdate=d,a.shared.pending=null}}if(null===l&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=l,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Uc|=i,e.lanes=i,e.memoizedState=f}}function Lo(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(i(191,a));a.call(n)}}}var $o=(new a.Component).refs;function Wo(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:U({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ru(),a=nu(e),o=Fo(n,a);o.payload=t,void 0!==r&&null!==r&&(o.callback=r),null!==(t=No(e,o,a))&&(au(t,e,a,n),Mo(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ru(),a=nu(e),o=Fo(n,a);o.tag=1,o.payload=t,void 0!==r&&null!==r&&(o.callback=r),null!==(t=No(e,o,a))&&(au(t,e,a,n),Mo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ru(),n=nu(e),a=Fo(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=No(e,a,n))&&(au(t,e,n,r),Mo(t,e,n))}};function zo(e,t,r,n,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!un(r,n)||!un(a,o))}function Vo(e,t,r){var n=!1,a=Pa,o=t.contextType;return"object"===typeof o&&null!==o?o=Oo(o):(a=Ia(t)?Ca:Aa.current,o=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ra(e,a):Pa),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bo,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ko(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=$o,Io(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Oo(o):(o=Ia(t)?Ca:Aa.current,a.context=Ra(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Wo(e,t,o,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Bo.enqueueReplaceState(a,a.state,null),qo(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function Go(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var a=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;t===$o&&(t=a.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function Jo(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Fu(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=qu(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function u(e,t,r,n){var o=r.type;return o===j?f(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&Qo(o)===t.type)?((n=a(t,r.props)).ref=Go(e,t,r),n.return=e,n):((n=Nu(r.type,r.key,r.props,null,e.mode,n)).ref=Go(e,t,r),n.return=e,n)}function l(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Lu(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function f(e,t,r,n,o){return null===t||7!==t.tag?((t=Mu(r,e.mode,n,o)).return=e,t):((t=a(t,r)).return=e,t)}function d(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=qu(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(r=Nu(t.type,t.key,t.props,null,e.mode,r)).ref=Go(e,null,t),r.return=e,r;case x:return(t=Lu(t,e.mode,r)).return=e,t;case I:return d(e,(0,t._init)(t._payload),r)}if(re(t)||N(t))return(t=Mu(t,e.mode,r,null)).return=e,t;Jo(e,t)}return null}function p(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:c(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return r.key===a?u(e,t,r,n):null;case x:return r.key===a?l(e,t,r,n):null;case I:return p(e,t,(a=r._init)(r._payload),n)}if(re(r)||N(r))return null!==a?null:f(e,t,r,n,null);Jo(e,r)}return null}function h(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return c(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case x:return l(t,e=e.get(null===n.key?r:n.key)||null,n,a);case I:return h(e,t,r,(0,n._init)(n._payload),a)}if(re(n)||N(n))return f(t,e=e.get(r)||null,n,a,null);Jo(t,n)}return null}function m(a,i,s,c){for(var u=null,l=null,f=i,m=i=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var _=p(a,f,s[m],c);if(null===_){null===f&&(f=v);break}e&&f&&null===_.alternate&&t(a,f),i=o(_,i,m),null===l?u=_:l.sibling=_,l=_,f=v}if(m===s.length)return r(a,f),oo&&Za(a,m),u;if(null===f){for(;m<s.length;m++)null!==(f=d(a,s[m],c))&&(i=o(f,i,m),null===l?u=f:l.sibling=f,l=f);return oo&&Za(a,m),u}for(f=n(a,f);m<s.length;m++)null!==(v=h(f,a,m,s[m],c))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),i=o(v,i,m),null===l?u=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(a,e)})),oo&&Za(a,m),u}function v(a,s,c,u){var l=N(c);if("function"!==typeof l)throw Error(i(150));if(null==(c=l.call(c)))throw Error(i(151));for(var f=l=null,m=s,v=s=0,_=null,y=c.next();null!==m&&!y.done;v++,y=c.next()){m.index>v?(_=m,m=null):_=m.sibling;var g=p(a,m,y.value,u);if(null===g){null===m&&(m=_);break}e&&m&&null===g.alternate&&t(a,m),s=o(g,s,v),null===f?l=g:f.sibling=g,f=g,m=_}if(y.done)return r(a,m),oo&&Za(a,v),l;if(null===m){for(;!y.done;v++,y=c.next())null!==(y=d(a,y.value,u))&&(s=o(y,s,v),null===f?l=y:f.sibling=y,f=y);return oo&&Za(a,v),l}for(m=n(a,m);!y.done;v++,y=c.next())null!==(y=h(m,a,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===f?l=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(a,e)})),oo&&Za(a,v),l}return function e(n,o,i,c){if("object"===typeof i&&null!==i&&i.type===j&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case k:e:{for(var u=i.key,l=o;null!==l;){if(l.key===u){if((u=i.type)===j){if(7===l.tag){r(n,l.sibling),(o=a(l,i.props.children)).return=n,n=o;break e}}else if(l.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===I&&Qo(u)===l.type){r(n,l.sibling),(o=a(l,i.props)).ref=Go(n,l,i),o.return=n,n=o;break e}r(n,l);break}t(n,l),l=l.sibling}i.type===j?((o=Mu(i.props.children,n.mode,c,i.key)).return=n,n=o):((c=Nu(i.type,i.key,i.props,null,n.mode,c)).ref=Go(n,o,i),c.return=n,n=c)}return s(n);case x:e:{for(l=i.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){r(n,o.sibling),(o=a(o,i.children||[])).return=n,n=o;break e}r(n,o);break}t(n,o),o=o.sibling}(o=Lu(i,n.mode,c)).return=n,n=o}return s(n);case I:return e(n,o,(l=i._init)(i._payload),c)}if(re(i))return m(n,o,i,c);if(N(i))return v(n,o,i,c);Jo(n,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(r(n,o.sibling),(o=a(o,i)).return=n,n=o):(r(n,o),(o=qu(i,n.mode,c)).return=n,n=o),s(n)):r(n,o)}}var Xo=Yo(!0),Zo=Yo(!1),ei={},ti=Ea(ei),ri=Ea(ei),ni=Ea(ei);function ai(e){if(e===ei)throw Error(i(174));return e}function oi(e,t){switch(Oa(ni,t),Oa(ri,e),Oa(ti,ei),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(ti),Oa(ti,t)}function ii(){Sa(ti),Sa(ri),Sa(ni)}function si(e){ai(ni.current);var t=ai(ti.current),r=ue(t,e.type);t!==r&&(Oa(ri,e),Oa(ti,r))}function ci(e){ri.current===e&&(Sa(ti),Sa(ri))}var ui=Ea(0);function li(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fi=[];function di(){for(var e=0;e<fi.length;e++)fi[e]._workInProgressVersionPrimary=null;fi.length=0}var pi=w.ReactCurrentDispatcher,hi=w.ReactCurrentBatchConfig,mi=0,vi=null,_i=null,yi=null,gi=!1,bi=!1,wi=0,ki=0;function xi(){throw Error(i(321))}function ji(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!cn(e[r],t[r]))return!1;return!0}function Ei(e,t,r,n,a,o){if(mi=o,vi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=null===e||null===e.memoizedState?cs:us,e=r(n,a),bi){o=0;do{if(bi=!1,wi=0,25<=o)throw Error(i(301));o+=1,yi=_i=null,t.updateQueue=null,pi.current=ls,e=r(n,a)}while(bi)}if(pi.current=ss,t=null!==_i&&null!==_i.next,mi=0,yi=_i=vi=null,gi=!1,t)throw Error(i(300));return e}function Si(){var e=0!==wi;return wi=0,e}function Oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yi?vi.memoizedState=yi=e:yi=yi.next=e,yi}function Pi(){if(null===_i){var e=vi.alternate;e=null!==e?e.memoizedState:null}else e=_i.next;var t=null===yi?vi.memoizedState:yi.next;if(null!==t)yi=t,_i=e;else{if(null===e)throw Error(i(310));e={memoizedState:(_i=e).memoizedState,baseState:_i.baseState,baseQueue:_i.baseQueue,queue:_i.queue,next:null},null===yi?vi.memoizedState=yi=e:yi=yi.next=e}return yi}function Ai(e,t){return"function"===typeof t?t(e):t}function Ti(e){var t=Pi(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=_i,a=n.baseQueue,o=r.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}n.baseQueue=a=o,r.pending=null}if(null!==a){o=a.next,n=n.baseState;var c=s=null,u=null,l=o;do{var f=l.lane;if((mi&f)===f)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(c=u=d,s=n):u=u.next=d,vi.lanes|=f,Uc|=f}l=l.next}while(null!==l&&l!==o);null===u?s=n:u.next=c,cn(n,t.memoizedState)||(ws=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=u,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{o=a.lane,vi.lanes|=o,Uc|=o,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ci(e){var t=Pi(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(null!==a){r.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);cn(o,t.memoizedState)||(ws=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Ri(){}function Ii(e,t){var r=vi,n=Pi(),a=t(),o=!cn(n.memoizedState,a);if(o&&(n.memoizedState=a,ws=!0),n=n.queue,Vi(Ni.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==yi&&1&yi.memoizedState.tag){if(r.flags|=2048,Li(9,Fi.bind(null,r,n,a,t),void 0,null),null===Cc)throw Error(i(349));0!==(30&mi)||Di(r,t,a)}return a}function Di(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=vi.updateQueue)?(t={lastEffect:null,stores:null},vi.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Fi(e,t,r,n){t.value=r,t.getSnapshot=n,Mi(t)&&Ui(e)}function Ni(e,t,r){return r((function(){Mi(t)&&Ui(e)}))}function Mi(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!cn(e,r)}catch(n){return!0}}function Ui(e){var t=Co(e,1);null!==t&&au(t,e,1,-1)}function qi(e){var t=Oi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vi,e),[t.memoizedState,e]}function Li(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=vi.updateQueue)?(t={lastEffect:null,stores:null},vi.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function $i(){return Pi().memoizedState}function Wi(e,t,r,n){var a=Oi();vi.flags|=e,a.memoizedState=Li(1|t,r,void 0,void 0===n?null:n)}function Bi(e,t,r,n){var a=Pi();n=void 0===n?null:n;var o=void 0;if(null!==_i){var i=_i.memoizedState;if(o=i.destroy,null!==n&&ji(n,i.deps))return void(a.memoizedState=Li(t,r,o,n))}vi.flags|=e,a.memoizedState=Li(1|t,r,o,n)}function zi(e,t){return Wi(8390656,8,e,t)}function Vi(e,t){return Bi(2048,8,e,t)}function Ki(e,t){return Bi(4,2,e,t)}function Hi(e,t){return Bi(4,4,e,t)}function Gi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ji(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Bi(4,4,Gi.bind(null,t,e),r)}function Qi(){}function Yi(e,t){var r=Pi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ji(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Xi(e,t){var r=Pi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ji(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Zi(e,t,r){return 0===(21&mi)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=r):(cn(r,t)||(r=vt(),vi.lanes|=r,Uc|=r,e.baseState=!0),t)}function es(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=hi.transition;hi.transition={};try{e(!1),t()}finally{bt=r,hi.transition=n}}function ts(){return Pi().memoizedState}function rs(e,t,r){var n=nu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},as(e))os(t,r);else if(null!==(r=To(e,t,r,n))){au(r,e,n,ru()),is(r,t,n)}}function ns(e,t,r){var n=nu(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(as(e))os(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,r);if(a.hasEagerState=!0,a.eagerState=s,cn(s,i)){var c=t.interleaved;return null===c?(a.next=a,Ao(t)):(a.next=c.next,c.next=a),void(t.interleaved=a)}}catch(u){}null!==(r=To(e,t,a,n))&&(au(r,e,n,a=ru()),is(r,t,n))}}function as(e){var t=e.alternate;return e===vi||null!==t&&t===vi}function os(e,t){bi=gi=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function is(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,gt(e,r)}}var ss={readContext:Oo,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},cs={readContext:Oo,useCallback:function(e,t){return Oi().memoizedState=[e,void 0===t?null:t],e},useContext:Oo,useEffect:zi,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Wi(4194308,4,Gi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Wi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wi(4,2,e,t)},useMemo:function(e,t){var r=Oi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Oi();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rs.bind(null,vi,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Oi().memoizedState=e},useState:qi,useDebugValue:Qi,useDeferredValue:function(e){return Oi().memoizedState=e},useTransition:function(){var e=qi(!1),t=e[0];return e=es.bind(null,e[1]),Oi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=vi,a=Oi();if(oo){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===Cc)throw Error(i(349));0!==(30&mi)||Di(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,zi(Ni.bind(null,n,o,e),[e]),n.flags|=2048,Li(9,Fi.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Oi(),t=Cc.identifierPrefix;if(oo){var r=Xa;t=":"+t+"R"+(r=(Ya&~(1<<32-st(Ya)-1)).toString(32)+r),0<(r=wi++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=ki++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Oo,useCallback:Yi,useContext:Oo,useEffect:Vi,useImperativeHandle:Ji,useInsertionEffect:Ki,useLayoutEffect:Hi,useMemo:Xi,useReducer:Ti,useRef:$i,useState:function(){return Ti(Ai)},useDebugValue:Qi,useDeferredValue:function(e){return Zi(Pi(),_i.memoizedState,e)},useTransition:function(){return[Ti(Ai)[0],Pi().memoizedState]},useMutableSource:Ri,useSyncExternalStore:Ii,useId:ts,unstable_isNewReconciler:!1},ls={readContext:Oo,useCallback:Yi,useContext:Oo,useEffect:Vi,useImperativeHandle:Ji,useInsertionEffect:Ki,useLayoutEffect:Hi,useMemo:Xi,useReducer:Ci,useRef:$i,useState:function(){return Ci(Ai)},useDebugValue:Qi,useDeferredValue:function(e){var t=Pi();return null===_i?t.memoizedState=e:Zi(t,_i.memoizedState,e)},useTransition:function(){return[Ci(Ai)[0],Pi().memoizedState]},useMutableSource:Ri,useSyncExternalStore:Ii,useId:ts,unstable_isNewReconciler:!1};function fs(e,t){try{var r="",n=t;do{r+=W(n),n=n.return}while(n);var a=r}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ps(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ms(e,t,r){(r=Fo(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Kc||(Kc=!0,Hc=n),ps(0,t)},r}function vs(e,t,r){(r=Fo(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ps(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){ps(0,t),"function"!==typeof n&&(null===Gc?Gc=new Set([this]):Gc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function _s(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new hs;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Ou.bind(null,e,t,r),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Fo(-1,1)).tag=2,No(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bs=w.ReactCurrentOwner,ws=!1;function ks(e,t,r,n){t.child=null===e?Zo(t,null,r,n):Xo(t,e.child,r,n)}function xs(e,t,r,n,a){r=r.render;var o=t.ref;return So(t,a),n=Ei(e,t,r,n,o,a),r=Si(),null===e||ws?(oo&&r&&to(t),t.flags|=1,ks(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ks(e,t,a))}function js(e,t,r,n,a){if(null===e){var o=r.type;return"function"!==typeof o||Du(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Nu(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Es(e,t,o,n,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((r=null!==(r=r.compare)?r:un)(i,n)&&e.ref===t.ref)return Ks(e,t,a)}return t.flags|=1,(e=Fu(o,n)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,r,n,a){if(null!==e){var o=e.memoizedProps;if(un(o,n)&&e.ref===t.ref){if(ws=!1,t.pendingProps=n=o,0===(e.lanes&a))return t.lanes=e.lanes,Ks(e,t,a);0!==(131072&e.flags)&&(ws=!0)}}return Ps(e,t,r,n,a)}function Ss(e,t,r){var n=t.pendingProps,a=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oa(Fc,Dc),Dc|=r;else{if(0===(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oa(Fc,Dc),Dc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==o?o.baseLanes:r,Oa(Fc,Dc),Dc|=n}else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,Oa(Fc,Dc),Dc|=n;return ks(e,t,a,r),t.child}function Os(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ps(e,t,r,n,a){var o=Ia(r)?Ca:Aa.current;return o=Ra(t,o),So(t,a),r=Ei(e,t,r,n,o,a),n=Si(),null===e||ws?(oo&&n&&to(t),t.flags|=1,ks(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ks(e,t,a))}function As(e,t,r,n,a){if(Ia(r)){var o=!0;Ma(t)}else o=!1;if(So(t,a),null===t.stateNode)Vs(e,t),Vo(t,r,n),Ho(t,r,n,a),n=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var c=i.context,u=r.contextType;"object"===typeof u&&null!==u?u=Oo(u):u=Ra(t,u=Ia(r)?Ca:Aa.current);var l=r.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof i.getSnapshotBeforeUpdate;f||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==n||c!==u)&&Ko(t,i,n,u),Ro=!1;var d=t.memoizedState;i.state=d,qo(t,n,i,a),c=t.memoizedState,s!==n||d!==c||Ta.current||Ro?("function"===typeof l&&(Wo(t,r,l,n),c=t.memoizedState),(s=Ro||zo(t,r,s,n,d,c,u))?(f||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Do(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:yo(t.type,s),i.props=u,f=t.pendingProps,d=i.context,"object"===typeof(c=r.contextType)&&null!==c?c=Oo(c):c=Ra(t,c=Ia(r)?Ca:Aa.current);var p=r.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==f||d!==c)&&Ko(t,i,n,c),Ro=!1,d=t.memoizedState,i.state=d,qo(t,n,i,a);var h=t.memoizedState;s!==f||d!==h||Ta.current||Ro?("function"===typeof p&&(Wo(t,r,p,n),h=t.memoizedState),(u=Ro||zo(t,r,u,n,d,h,c)||!1)?(l||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,h,c),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,h,c)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),i.props=n,i.state=h,i.context=c,n=u):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return Ts(e,t,r,n,o,a)}function Ts(e,t,r,n,a,o){Os(e,t);var i=0!==(128&t.flags);if(!n&&!i)return a&&Ua(t,r,!1),Ks(e,t,o);n=t.stateNode,bs.current=t;var s=i&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):ks(e,t,s,o),t.memoizedState=n.state,a&&Ua(t,r,!0),t.child}function Cs(e){var t=e.stateNode;t.pendingContext?Fa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fa(0,t.context,!1),oi(e,t.containerInfo)}function Rs(e,t,r,n,a){return mo(),vo(a),t.flags|=256,ks(e,t,r,n),t.child}var Is,Ds,Fs,Ns,Ms={dehydrated:null,treeContext:null,retryLane:0};function Us(e){return{baseLanes:e,cachePool:null,transitions:null}}function qs(e,t,r){var n,a=t.pendingProps,o=ui.current,s=!1,c=0!==(128&t.flags);if((n=c)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Oa(ui,1&o),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=a.children,e=a.fallback,s?(a=t.mode,s=t.child,c={mode:"hidden",children:c},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=c):s=Uu(c,a,0,null),e=Mu(e,a,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Us(r),t.memoizedState=Ms,e):Ls(t,c));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,a,o,s){if(r)return 256&t.flags?(t.flags&=-257,$s(e,t,s,n=ds(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Uu({mode:"visible",children:n.children},a,0,null),(o=Mu(o,a,s,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&Xo(t,e.child,null,s),t.child.memoizedState=Us(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return $s(e,t,s,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var c=n.dgst;return n=c,$s(e,t,s,n=ds(o=Error(i(419)),n,void 0))}if(c=0!==(s&e.childLanes),ws||c){if(null!==(n=Cc)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Co(e,a),au(n,e,a,-1))}return _u(),$s(e,t,s,n=ds(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Au.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ao=la(a.nextSibling),no=t,oo=!0,io=null,null!==e&&(Ga[Ja++]=Ya,Ga[Ja++]=Xa,Ga[Ja++]=Qa,Ya=e.id,Xa=e.overflow,Qa=t),t=Ls(t,n.children),t.flags|=4096,t)}(e,t,c,a,n,o,r);if(s){s=a.fallback,c=t.mode,n=(o=e.child).sibling;var u={mode:"hidden",children:a.children};return 0===(1&c)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null):(a=Fu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==n?s=Fu(n,s):(s=Mu(s,c,r,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,c=null===(c=e.child.memoizedState)?Us(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~r,t.memoizedState=Ms,a}return e=(s=e.child).sibling,a=Fu(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Ls(e,t){return(t=Uu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $s(e,t,r,n){return null!==n&&vo(n),Xo(t,e.child,null,r),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ws(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Eo(e.return,t,r)}function Bs(e,t,r,n,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function zs(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(ks(e,t,n.children,r),0!==(2&(n=ui.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ws(e,r,t);else if(19===e.tag)Ws(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oa(ui,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===li(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Bs(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===li(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Bs(t,!0,r,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Uc|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Fu(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Fu(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Hs(e,t){if(!oo)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Js(e,t,r){var n=t.pendingProps;switch(ro(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ia(t.type)&&Da(),Gs(t),null;case 3:return n=t.stateNode,ii(),Sa(Ta),Sa(Aa),di(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==io&&(cu(io),io=null))),Ds(e,t),Gs(t),null;case 5:ci(t);var a=ai(ni.current);if(r=t.type,null!==e&&null!=t.stateNode)Fs(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(i(166));return Gs(t),null}if(e=ai(ti.current),po(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[pa]=t,n[ha]=o,e=0!==(1&t.mode),r){case"dialog":Ln("cancel",n),Ln("close",n);break;case"iframe":case"object":case"embed":Ln("load",n);break;case"video":case"audio":for(a=0;a<Nn.length;a++)Ln(Nn[a],n);break;case"source":Ln("error",n);break;case"img":case"image":case"link":Ln("error",n),Ln("load",n);break;case"details":Ln("toggle",n);break;case"input":Y(n,o),Ln("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ln("invalid",n);break;case"textarea":oe(n,o),Ln("invalid",n)}for(var s in ge(r,o),a=null,o)if(o.hasOwnProperty(s)){var u=o[s];"children"===s?"string"===typeof u?n.textContent!==u&&(!0!==o.suppressHydrationWarning&&Zn(n.textContent,u,e),a=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Zn(n.textContent,u,e),a=["children",""+u]):c.hasOwnProperty(s)&&null!=u&&"onScroll"===s&&Ln("scroll",n)}switch(r){case"input":H(n),ee(n,o,!0);break;case"textarea":H(n),se(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=ea)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{s=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ce(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),"select"===r&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[pa]=t,e[ha]=n,Is(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(r,n),r){case"dialog":Ln("cancel",e),Ln("close",e),a=n;break;case"iframe":case"object":case"embed":Ln("load",e),a=n;break;case"video":case"audio":for(a=0;a<Nn.length;a++)Ln(Nn[a],e);a=n;break;case"source":Ln("error",e),a=n;break;case"img":case"image":case"link":Ln("error",e),Ln("load",e),a=n;break;case"details":Ln("toggle",e),a=n;break;case"input":Y(e,n),a=Q(e,n),Ln("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=U({},n,{value:void 0}),Ln("invalid",e);break;case"textarea":oe(e,n),a=ae(e,n),Ln("invalid",e)}for(o in ge(r,a),u=a)if(u.hasOwnProperty(o)){var l=u[o];"style"===o?_e(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===o?"string"===typeof l?("textarea"!==r||""!==l)&&pe(e,l):"number"===typeof l&&pe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(c.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ln("scroll",e):null!=l&&b(e,o,l,s))}switch(r){case"input":H(e),ee(e,n,!1);break;case"textarea":H(e),se(e);break;case"option":null!=n.value&&e.setAttribute("value",""+V(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?ne(e,!!n.multiple,o,!1):null!=n.defaultValue&&ne(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=ea)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(r=ai(ni.current),ai(ti.current),po(t)){if(n=t.stateNode,r=t.memoizedProps,n[pa]=t,(o=n.nodeValue!==r)&&null!==(e=no))switch(e.tag){case 3:Zn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zn(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[pa]=t,t.stateNode=n}return Gs(t),null;case 13:if(Sa(ui),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(oo&&null!==ao&&0!==(1&t.mode)&&0===(128&t.flags))ho(),mo(),t.flags|=98560,o=!1;else if(o=po(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[pa]=t}else mo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==io&&(cu(io),io=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ui.current)?0===Nc&&(Nc=3):_u())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return ii(),Ds(e,t),null===e&&Bn(t.stateNode.containerInfo),Gs(t),null;case 10:return jo(t.type._context),Gs(t),null;case 19:if(Sa(ui),null===(o=t.memoizedState))return Gs(t),null;if(n=0!==(128&t.flags),null===(s=o.rendering))if(n)Hs(o,!1);else{if(0!==Nc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=li(e))){for(t.flags|=128,Hs(o,!1),null!==(n=s.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oa(ui,1&ui.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zc&&(t.flags|=128,n=!0,Hs(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=li(s))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!oo)return Gs(t),null}else 2*Xe()-o.renderingStartTime>zc&&1073741824!==r&&(t.flags|=128,n=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(r=o.last)?r.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,r=ui.current,Oa(ui,n?1&r|2:1&r),t):(Gs(t),null);case 22:case 23:return pu(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Dc)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Qs(e,t){switch(ro(t),t.tag){case 1:return Ia(t.type)&&Da(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ii(),Sa(Ta),Sa(Aa),di(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ci(t),null;case 13:if(Sa(ui),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));mo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(ui),null;case 4:return ii(),null;case 10:return jo(t.type._context),null;case 22:case 23:return pu(),null;default:return null}}Is=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ds=function(){},Fs=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ai(ti.current);var o,i=null;switch(r){case"input":a=Q(e,a),n=Q(e,n),i=[];break;case"select":a=U({},a,{value:void 0}),n=U({},n,{value:void 0}),i=[];break;case"textarea":a=ae(e,a),n=ae(e,n),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=ea)}for(l in ge(r,n),r=null,a)if(!n.hasOwnProperty(l)&&a.hasOwnProperty(l)&&null!=a[l])if("style"===l){var s=a[l];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(c.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in n){var u=n[l];if(s=null!=a?a[l]:void 0,n.hasOwnProperty(l)&&u!==s&&(null!=u||null!=s))if("style"===l)if(s){for(o in s)!s.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&s[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(l,r)),r=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(i=i||[]).push(l,u)):"children"===l?"string"!==typeof u&&"number"!==typeof u||(i=i||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(c.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&Ln("scroll",e),i||s===u||(i=[])):(i=i||[]).push(l,u))}r&&(i=i||[]).push("style",r);var l=i;(t.updateQueue=l)&&(t.flags|=4)}},Ns=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ys=!1,Xs=!1,Zs="function"===typeof WeakSet?WeakSet:Set,ec=null;function tc(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Su(e,t,n)}else r.current=null}function rc(e,t,r){try{r()}catch(n){Su(e,t,n)}}var nc=!1;function ac(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&rc(t,r,o)}a=a.next}while(a!==n)}}function oc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ic(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function sc(e){var t=e.alternate;null!==t&&(e.alternate=null,sc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[ha],delete t[va],delete t[_a],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cc(e){return 5===e.tag||3===e.tag||4===e.tag}function uc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||cc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=ea));else if(4!==n&&null!==(e=e.child))for(lc(e,t,r),e=e.sibling;null!==e;)lc(e,t,r),e=e.sibling}function fc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(fc(e,t,r),e=e.sibling;null!==e;)fc(e,t,r),e=e.sibling}var dc=null,pc=!1;function hc(e,t,r){for(r=r.child;null!==r;)mc(e,t,r),r=r.sibling}function mc(e,t,r){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,r)}catch(s){}switch(r.tag){case 5:Xs||tc(r,t);case 6:var n=dc,a=pc;dc=null,hc(e,t,r),pc=a,null!==(dc=n)&&(pc?(e=dc,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):dc.removeChild(r.stateNode));break;case 18:null!==dc&&(pc?(e=dc,r=r.stateNode,8===e.nodeType?ua(e.parentNode,r):1===e.nodeType&&ua(e,r),Bt(e)):ua(dc,r.stateNode));break;case 4:n=dc,a=pc,dc=r.stateNode.containerInfo,pc=!0,hc(e,t,r),dc=n,pc=a;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&rc(r,t,i),a=a.next}while(a!==n)}hc(e,t,r);break;case 1:if(!Xs&&(tc(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Su(r,t,s)}hc(e,t,r);break;case 21:hc(e,t,r);break;case 22:1&r.mode?(Xs=(n=Xs)||null!==r.memoizedState,hc(e,t,r),Xs=n):hc(e,t,r);break;default:hc(e,t,r)}}function vc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Zs),t.forEach((function(t){var n=Tu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function _c(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:dc=c.stateNode,pc=!1;break e;case 3:case 4:dc=c.stateNode.containerInfo,pc=!0;break e}c=c.return}if(null===dc)throw Error(i(160));mc(o,s,a),dc=null,pc=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(l){Su(a,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yc(t,e),t=t.sibling}function yc(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_c(t,e),gc(e),4&n){try{ac(3,e,e.return),oc(3,e)}catch(v){Su(e,e.return,v)}try{ac(5,e,e.return)}catch(v){Su(e,e.return,v)}}break;case 1:_c(t,e),gc(e),512&n&&null!==r&&tc(r,r.return);break;case 5:if(_c(t,e),gc(e),512&n&&null!==r&&tc(r,r.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(v){Su(e,e.return,v)}}if(4&n&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==r?r.memoizedProps:o,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===o.type&&null!=o.name&&X(a,o),be(c,s);var l=be(c,o);for(s=0;s<u.length;s+=2){var f=u[s],d=u[s+1];"style"===f?_e(a,d):"dangerouslySetInnerHTML"===f?de(a,d):"children"===f?pe(a,d):b(a,f,d,l)}switch(c){case"input":Z(a,o);break;case"textarea":ie(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ne(a,!!o.multiple,h,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[ha]=o}catch(v){Su(e,e.return,v)}}break;case 6:if(_c(t,e),gc(e),4&n){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){Su(e,e.return,v)}}break;case 3:if(_c(t,e),gc(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(v){Su(e,e.return,v)}break;case 4:default:_c(t,e),gc(e);break;case 13:_c(t,e),gc(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Bc=Xe())),4&n&&vc(e);break;case 22:if(f=null!==r&&null!==r.memoizedState,1&e.mode?(Xs=(l=Xs)||f,_c(t,e),Xs=l):_c(t,e),gc(e),8192&n){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(ec=e,f=e.child;null!==f;){for(d=ec=f;null!==ec;){switch(h=(p=ec).child,p.tag){case 0:case 11:case 14:case 15:ac(4,p,p.return);break;case 1:tc(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){n=p,r=p.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Su(n,r,v)}}break;case 5:tc(p,p.return);break;case 22:if(null!==p.memoizedState){xc(d);continue}}null!==h?(h.return=p,ec=h):xc(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{a=d.stateNode,l?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(c=d.stateNode,s=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,c.style.display=ve("display",s))}catch(v){Su(e,e.return,v)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(v){Su(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_c(t,e),gc(e),4&n&&vc(e);case 21:}}function gc(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(cc(r)){var n=r;break e}r=r.return}throw Error(i(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(pe(a,""),n.flags&=-33),fc(e,uc(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;lc(e,uc(e),o);break;default:throw Error(i(161))}}catch(s){Su(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bc(e,t,r){ec=e,wc(e,t,r)}function wc(e,t,r){for(var n=0!==(1&e.mode);null!==ec;){var a=ec,o=a.child;if(22===a.tag&&n){var i=null!==a.memoizedState||Ys;if(!i){var s=a.alternate,c=null!==s&&null!==s.memoizedState||Xs;s=Ys;var u=Xs;if(Ys=i,(Xs=c)&&!u)for(ec=a;null!==ec;)c=(i=ec).child,22===i.tag&&null!==i.memoizedState?jc(a):null!==c?(c.return=i,ec=c):jc(a);for(;null!==o;)ec=o,wc(o,t,r),o=o.sibling;ec=a,Ys=s,Xs=u}kc(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,ec=o):kc(e)}}function kc(e){for(;null!==ec;){var t=ec;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||oc(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Xs)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:yo(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Lo(t,o,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Lo(t,s,r)}break;case 5:var c=t.stateNode;if(null===r&&4&t.flags){r=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(i(163))}Xs||512&t.flags&&ic(t)}catch(p){Su(t,t.return,p)}}if(t===e){ec=null;break}if(null!==(r=t.sibling)){r.return=t.return,ec=r;break}ec=t.return}}function xc(e){for(;null!==ec;){var t=ec;if(t===e){ec=null;break}var r=t.sibling;if(null!==r){r.return=t.return,ec=r;break}ec=t.return}}function jc(e){for(;null!==ec;){var t=ec;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{oc(4,t)}catch(c){Su(t,r,c)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(c){Su(t,a,c)}}var o=t.return;try{ic(t)}catch(c){Su(t,o,c)}break;case 5:var i=t.return;try{ic(t)}catch(c){Su(t,i,c)}}}catch(c){Su(t,t.return,c)}if(t===e){ec=null;break}var s=t.sibling;if(null!==s){s.return=t.return,ec=s;break}ec=t.return}}var Ec,Sc=Math.ceil,Oc=w.ReactCurrentDispatcher,Pc=w.ReactCurrentOwner,Ac=w.ReactCurrentBatchConfig,Tc=0,Cc=null,Rc=null,Ic=0,Dc=0,Fc=Ea(0),Nc=0,Mc=null,Uc=0,qc=0,Lc=0,$c=null,Wc=null,Bc=0,zc=1/0,Vc=null,Kc=!1,Hc=null,Gc=null,Jc=!1,Qc=null,Yc=0,Xc=0,Zc=null,eu=-1,tu=0;function ru(){return 0!==(6&Tc)?Xe():-1!==eu?eu:eu=Xe()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Tc)&&0!==Ic?Ic&-Ic:null!==_o.transition?(0===tu&&(tu=vt()),tu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function au(e,t,r,n){if(50<Xc)throw Xc=0,Zc=null,Error(i(185));yt(e,r,n),0!==(2&Tc)&&e===Cc||(e===Cc&&(0===(2&Tc)&&(qc|=r),4===Nc&&uu(e,Ic)),ou(e,n),1===r&&0===Tc&&0===(1&t.mode)&&(zc=Xe()+500,La&&Ba()))}function ou(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-st(o),s=1<<i,c=a[i];-1===c?0!==(s&r)&&0===(s&n)||(a[i]=ht(s,t)):c<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var n=pt(e,e===Cc?Ic:0);if(0===n)null!==r&&Je(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Je(r),1===t)0===e.tag?function(e){La=!0,Wa(e)}(lu.bind(null,e)):Wa(lu.bind(null,e)),sa((function(){0===(6&Tc)&&Ba()})),r=null;else{switch(wt(n)){case 1:r=et;break;case 4:r=tt;break;case 16:default:r=rt;break;case 536870912:r=at}r=Cu(r,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function iu(e,t){if(eu=-1,tu=0,0!==(6&Tc))throw Error(i(327));var r=e.callbackNode;if(ju()&&e.callbackNode!==r)return null;var n=pt(e,e===Cc?Ic:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=yu(e,n);else{t=n;var a=Tc;Tc|=2;var o=vu();for(Cc===e&&Ic===t||(Vc=null,zc=Xe()+500,hu(e,t));;)try{bu();break}catch(c){mu(e,c)}xo(),Oc.current=o,Tc=a,null!==Rc?t=0:(Cc=null,Ic=0,t=Nc)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(n=a,t=su(e,a))),1===t)throw r=Mc,hu(e,0),uu(e,n),ou(e,Xe()),r;if(6===t)uu(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!cn(o(),a))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=yu(e,n))&&(0!==(o=mt(e))&&(n=o,t=su(e,o))),1===t))throw r=Mc,hu(e,0),uu(e,n),ou(e,Xe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(i(345));case 2:case 5:xu(e,Wc,Vc);break;case 3:if(uu(e,n),(130023424&n)===n&&10<(t=Bc+500-Xe())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){ru(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=aa(xu.bind(null,e,Wc,Vc),t);break}xu(e,Wc,Vc);break;case 4:if(uu(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-st(n);o=1<<s,(s=t[s])>a&&(a=s),n&=~o}if(n=a,10<(n=(120>(n=Xe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sc(n/1960))-n)){e.timeoutHandle=aa(xu.bind(null,e,Wc,Vc),n);break}xu(e,Wc,Vc);break;default:throw Error(i(329))}}}return ou(e,Xe()),e.callbackNode===r?iu.bind(null,e):null}function su(e,t){var r=$c;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=yu(e,t))&&(t=Wc,Wc=r,null!==t&&cu(t)),e}function cu(e){null===Wc?Wc=e:Wc.push.apply(Wc,e)}function uu(e,t){for(t&=~Lc,t&=~qc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function lu(e){if(0!==(6&Tc))throw Error(i(327));ju();var t=pt(e,0);if(0===(1&t))return ou(e,Xe()),null;var r=yu(e,t);if(0!==e.tag&&2===r){var n=mt(e);0!==n&&(t=n,r=su(e,n))}if(1===r)throw r=Mc,hu(e,0),uu(e,t),ou(e,Xe()),r;if(6===r)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Wc,Vc),ou(e,Xe()),null}function fu(e,t){var r=Tc;Tc|=1;try{return e(t)}finally{0===(Tc=r)&&(zc=Xe()+500,La&&Ba())}}function du(e){null!==Qc&&0===Qc.tag&&0===(6&Tc)&&ju();var t=Tc;Tc|=1;var r=Ac.transition,n=bt;try{if(Ac.transition=null,bt=1,e)return e()}finally{bt=n,Ac.transition=r,0===(6&(Tc=t))&&Ba()}}function pu(){Dc=Fc.current,Sa(Fc)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,oa(r)),null!==Rc)for(r=Rc.return;null!==r;){var n=r;switch(ro(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Da();break;case 3:ii(),Sa(Ta),Sa(Aa),di();break;case 5:ci(n);break;case 4:ii();break;case 13:case 19:Sa(ui);break;case 10:jo(n.type._context);break;case 22:case 23:pu()}r=r.return}if(Cc=e,Rc=e=Fu(e.current,null),Ic=Dc=t,Nc=0,Mc=null,Lc=qc=Uc=0,Wc=$c=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(n=(r=Po[t]).interleaved)){r.interleaved=null;var a=n.next,o=r.pending;if(null!==o){var i=o.next;o.next=a,n.next=i}r.pending=n}Po=null}return e}function mu(e,t){for(;;){var r=Rc;try{if(xo(),pi.current=ss,gi){for(var n=vi.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}gi=!1}if(mi=0,yi=_i=vi=null,bi=!1,wi=0,Pc.current=null,null===r||null===r.return){Nc=1,Mc=t,Rc=null;break}e:{var o=e,s=r.return,c=r,u=t;if(t=Ic,c.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u,f=c,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=ys(s);if(null!==h){h.flags&=-257,gs(h,s,c,0,t),1&h.mode&&_s(o,l,t),u=l;var m=(t=h).updateQueue;if(null===m){var v=new Set;v.add(u),t.updateQueue=v}else m.add(u);break e}if(0===(1&t)){_s(o,l,t),_u();break e}u=Error(i(426))}else if(oo&&1&c.mode){var _=ys(s);if(null!==_){0===(65536&_.flags)&&(_.flags|=256),gs(_,s,c,0,t),vo(fs(u,c));break e}}o=u=fs(u,c),4!==Nc&&(Nc=2),null===$c?$c=[o]:$c.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Uo(o,ms(0,u,t));break e;case 1:c=u;var y=o.type,g=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==g&&"function"===typeof g.componentDidCatch&&(null===Gc||!Gc.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t,Uo(o,vs(o,c,t));break e}}o=o.return}while(null!==o)}ku(r)}catch(b){t=b,Rc===r&&null!==r&&(Rc=r=r.return);continue}break}}function vu(){var e=Oc.current;return Oc.current=ss,null===e?ss:e}function _u(){0!==Nc&&3!==Nc&&2!==Nc||(Nc=4),null===Cc||0===(268435455&Uc)&&0===(268435455&qc)||uu(Cc,Ic)}function yu(t,r){var n=Tc;Tc|=2;var a=vu();for(Cc===t&&Ic===r||(Vc=null,hu(t,r));;)try{gu();break}catch(e){mu(t,e)}if(xo(),Tc=n,Oc.current=a,null!==Rc)throw Error(i(261));return Cc=null,Ic=0,Nc}function gu(){for(;null!==Rc;)wu(Rc)}function bu(){for(;null!==Rc&&!Qe();)wu(Rc)}function wu(e){var t=Ec(e.alternate,e,Dc);e.memoizedProps=e.pendingProps,null===t?ku(e):Rc=t,Pc.current=null}function ku(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Js(r,t,Dc)))return void(Rc=r)}else{if(null!==(r=Qs(r,t)))return r.flags&=32767,void(Rc=r);if(null===e)return Nc=6,void(Rc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rc=t);Rc=t=e}while(null!==t);0===Nc&&(Nc=5)}function xu(e,t,r){var n=bt,a=Ac.transition;try{Ac.transition=null,bt=1,function(e,t,r,n){do{ju()}while(null!==Qc);if(0!==(6&Tc))throw Error(i(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-st(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}(e,o),e===Cc&&(Rc=Cc=null,Ic=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Jc||(Jc=!0,Cu(rt,(function(){return ju(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=Ac.transition,Ac.transition=null;var s=bt;bt=1;var c=Tc;Tc|=4,Pc.current=null,function(e,t){if(ta=Vt,hn(e=pn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(w){r=null;break e}var s=0,c=-1,u=-1,l=0,f=0,d=e,p=null;t:for(;;){for(var h;d!==r||0!==a&&3!==d.nodeType||(c=s+a),d!==o||0!==n&&3!==d.nodeType||(u=s+n),3===d.nodeType&&(s+=d.nodeValue.length),null!==(h=d.firstChild);)p=d,d=h;for(;;){if(d===e)break t;if(p===r&&++l===a&&(c=s),p===o&&++f===n&&(u=s),null!==(h=d.nextSibling))break;p=(d=p).parentNode}d=h}r=-1===c||-1===u?null:{start:c,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(ra={focusedElem:e,selectionRange:r},Vt=!1,ec=t;null!==ec;)if(e=(t=ec).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,ec=e;else for(;null!==ec;){t=ec;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,_=m.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:yo(t.type,v),_);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(w){Su(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,ec=e;break}ec=t.return}m=nc,nc=!1}(e,r),yc(r,e),mn(ra),Vt=!!ta,ra=ta=null,e.current=r,bc(r,e,a),Ye(),Tc=c,bt=s,Ac.transition=o}else e.current=r;if(Jc&&(Jc=!1,Qc=e,Yc=a),o=e.pendingLanes,0===o&&(Gc=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),ou(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Kc)throw Kc=!1,e=Hc,Hc=null,e;0!==(1&Yc)&&0!==e.tag&&ju(),o=e.pendingLanes,0!==(1&o)?e===Zc?Xc++:(Xc=0,Zc=e):Xc=0,Ba()}(e,t,r,n)}finally{Ac.transition=a,bt=n}return null}function ju(){if(null!==Qc){var e=wt(Yc),t=Ac.transition,r=bt;try{if(Ac.transition=null,bt=16>e?16:e,null===Qc)var n=!1;else{if(e=Qc,Qc=null,Yc=0,0!==(6&Tc))throw Error(i(331));var a=Tc;for(Tc|=4,ec=e.current;null!==ec;){var o=ec,s=o.child;if(0!==(16&ec.flags)){var c=o.deletions;if(null!==c){for(var u=0;u<c.length;u++){var l=c[u];for(ec=l;null!==ec;){var f=ec;switch(f.tag){case 0:case 11:case 15:ac(8,f,o)}var d=f.child;if(null!==d)d.return=f,ec=d;else for(;null!==ec;){var p=(f=ec).sibling,h=f.return;if(sc(f),f===l){ec=null;break}if(null!==p){p.return=h,ec=p;break}ec=h}}}var m=o.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(null!==v)}}ec=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,ec=s;else e:for(;null!==ec;){if(0!==(2048&(o=ec).flags))switch(o.tag){case 0:case 11:case 15:ac(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,ec=y;break e}ec=o.return}}var g=e.current;for(ec=g;null!==ec;){var b=(s=ec).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,ec=b;else e:for(s=g;null!==ec;){if(0!==(2048&(c=ec).flags))try{switch(c.tag){case 0:case 11:case 15:oc(9,c)}}catch(k){Su(c,c.return,k)}if(c===s){ec=null;break e}var w=c.sibling;if(null!==w){w.return=c.return,ec=w;break e}ec=c.return}}if(Tc=a,Ba(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(k){}n=!0}return n}finally{bt=r,Ac.transition=t}}return!1}function Eu(e,t,r){e=No(e,t=ms(0,t=fs(r,t),1),1),t=ru(),null!==e&&(yt(e,1,t),ou(e,t))}function Su(e,t,r){if(3===e.tag)Eu(e,e,r);else for(;null!==t;){if(3===t.tag){Eu(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Gc||!Gc.has(n))){t=No(t,e=vs(t,e=fs(r,e),1),1),e=ru(),null!==t&&(yt(t,1,e),ou(t,e));break}}t=t.return}}function Ou(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ru(),e.pingedLanes|=e.suspendedLanes&r,Cc===e&&(Ic&r)===r&&(4===Nc||3===Nc&&(130023424&Ic)===Ic&&500>Xe()-Bc?hu(e,0):Lc|=r),ou(e,t)}function Pu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ft,0===(130023424&(ft<<=1))&&(ft=4194304)));var r=ru();null!==(e=Co(e,t))&&(yt(e,t,r),ou(e,r))}function Au(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Pu(e,r)}function Tu(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(i(314))}null!==n&&n.delete(t),Pu(e,r)}function Cu(e,t){return Ge(e,t)}function Ru(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Iu(e,t,r,n){return new Ru(e,t,r,n)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fu(e,t){var r=e.alternate;return null===r?((r=Iu(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Nu(e,t,r,n,a,o){var s=2;if(n=e,"function"===typeof e)Du(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case j:return Mu(r.children,a,o,t);case E:s=8,a|=8;break;case S:return(e=Iu(12,r,t,2|a)).elementType=S,e.lanes=o,e;case T:return(e=Iu(13,r,t,a)).elementType=T,e.lanes=o,e;case C:return(e=Iu(19,r,t,a)).elementType=C,e.lanes=o,e;case D:return Uu(r,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case P:s=9;break e;case A:s=11;break e;case R:s=14;break e;case I:s=16,n=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Iu(s,r,t,a)).elementType=e,t.type=n,t.lanes=o,t}function Mu(e,t,r,n){return(e=Iu(7,e,n,t)).lanes=r,e}function Uu(e,t,r,n){return(e=Iu(22,e,n,t)).elementType=D,e.lanes=r,e.stateNode={isHidden:!1},e}function qu(e,t,r){return(e=Iu(6,e,null,t)).lanes=r,e}function Lu(e,t,r){return(t=Iu(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_t(0),this.expirationTimes=_t(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_t(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Wu(e,t,r,n,a,o,i,s,c){return e=new $u(e,t,r,s,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Iu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Io(o),e}function Bu(e){if(!e)return Pa;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ia(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var r=e.type;if(Ia(r))return Na(e,r,t)}return t}function zu(e,t,r,n,a,o,i,s,c){return(e=Wu(r,n,!0,e,0,o,0,s,c)).context=Bu(null),r=e.current,(o=Fo(n=ru(),a=nu(r))).callback=void 0!==t&&null!==t?t:null,No(r,o,a),e.current.lanes=a,yt(e,a,n),ou(e,n),e}function Vu(e,t,r,n){var a=t.current,o=ru(),i=nu(a);return r=Bu(r),null===t.context?t.context=r:t.pendingContext=r,(t=Fo(o,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=No(a,t,i))&&(au(e,a,i,o),Mo(e,a,i)),i}function Ku(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Gu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}Ec=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)ws=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return ws=!1,function(e,t,r){switch(t.tag){case 3:Cs(t),mo();break;case 5:si(t);break;case 1:Ia(t.type)&&Ma(t);break;case 4:oi(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Oa(go,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Oa(ui,1&ui.current),t.flags|=128,null):0!==(r&t.child.childLanes)?qs(e,t,r):(Oa(ui,1&ui.current),null!==(e=Ks(e,t,r))?e.sibling:null);Oa(ui,1&ui.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return zs(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Oa(ui,ui.current),n)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,r)}return Ks(e,t,r)}(e,t,r);ws=0!==(131072&e.flags)}else ws=!1,oo&&0!==(1048576&t.flags)&&eo(t,Ha,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vs(e,t),e=t.pendingProps;var a=Ra(t,Aa.current);So(t,r),a=Ei(null,t,n,e,a,r);var o=Si();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ia(n)?(o=!0,Ma(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Io(t),a.updater=Bo,t.stateNode=a,a._reactInternals=t,Ho(t,n,e,r),t=Ts(null,t,n,!0,o,r)):(t.tag=0,oo&&o&&to(t),ks(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Du(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(n),e=yo(n,e),a){case 0:t=Ps(null,t,n,e,r);break e;case 1:t=As(null,t,n,e,r);break e;case 11:t=xs(null,t,n,e,r);break e;case 14:t=js(null,t,n,yo(n.type,e),r);break e}throw Error(i(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Ps(e,t,n,a=t.elementType===n?a:yo(n,a),r);case 1:return n=t.type,a=t.pendingProps,As(e,t,n,a=t.elementType===n?a:yo(n,a),r);case 3:e:{if(Cs(t),null===e)throw Error(i(387));n=t.pendingProps,a=(o=t.memoizedState).element,Do(e,t),qo(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,n,r,a=fs(Error(i(423)),t));break e}if(n!==a){t=Rs(e,t,n,r,a=fs(Error(i(424)),t));break e}for(ao=la(t.stateNode.containerInfo.firstChild),no=t,oo=!0,io=null,r=Zo(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(mo(),n===a){t=Ks(e,t,r);break e}ks(e,t,n,r)}t=t.child}return t;case 5:return si(t),null===e&&lo(t),n=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,na(n,a)?s=null:null!==o&&na(n,o)&&(t.flags|=32),Os(e,t),ks(e,t,s,r),t.child;case 6:return null===e&&lo(t),null;case 13:return qs(e,t,r);case 4:return oi(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Xo(t,null,n,r):ks(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,xs(e,t,n,a=t.elementType===n?a:yo(n,a),r);case 7:return ks(e,t,t.pendingProps,r),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Oa(go,n._currentValue),n._currentValue=s,null!==o)if(cn(o.value,s)){if(o.children===a.children&&!Ta.current){t=Ks(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var c=o.dependencies;if(null!==c){s=o.child;for(var u=c.firstContext;null!==u;){if(u.context===n){if(1===o.tag){(u=Fo(-1,r&-r)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?u.next=u:(u.next=f.next,f.next=u),l.pending=u}}o.lanes|=r,null!==(u=o.alternate)&&(u.lanes|=r),Eo(o.return,r,t),c.lanes|=r;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=r,null!==(c=s.alternate)&&(c.lanes|=r),Eo(s,r,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ks(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,So(t,r),n=n(a=Oo(a)),t.flags|=1,ks(e,t,n,r),t.child;case 14:return a=yo(n=t.type,t.pendingProps),js(e,t,n,a=yo(n.type,a),r);case 15:return Es(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:yo(n,a),Vs(e,t),t.tag=1,Ia(n)?(e=!0,Ma(t)):e=!1,So(t,r),Vo(t,n,a),Ho(t,n,a,r),Ts(null,t,n,!0,e,r);case 19:return zs(e,t,r);case 22:return Ss(e,t,r)}throw Error(i(156,t.tag))};var Ju="function"===typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function el(){}function tl(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if("function"===typeof a){var s=a;a=function(){var e=Ku(i);s.call(e)}}Vu(t,i,e,a)}else i=function(e,t,r,n,a){if(a){if("function"===typeof n){var o=n;n=function(){var e=Ku(i);o.call(e)}}var i=zu(t,n,e,0,null,!1,0,"",el);return e._reactRootContainer=i,e[ma]=i.current,Bn(8===e.nodeType?e.parentNode:e),du(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var s=n;n=function(){var e=Ku(c);s.call(e)}}var c=Wu(e,0,!1,null,0,!1,0,"",el);return e._reactRootContainer=c,e[ma]=c.current,Bn(8===e.nodeType?e.parentNode:e),du((function(){Vu(t,c,r,n)})),c}(r,t,e,a,n);return Ku(i)}Yu.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vu(e,t,null,null)},Yu.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){Vu(null,e,null,null)})),t[ma]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dt.length&&0!==t&&t<Dt[r].priority;r++);Dt.splice(r,0,e),0===r&&Ut(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(gt(t,1|r),ou(t,Xe()),0===(6&Tc)&&(zc=Xe()+500,Ba()))}break;case 13:du((function(){var t=Co(e,1);if(null!==t){var r=ru();au(t,e,1,r)}})),Gu(e,1)}},xt=function(e){if(13===e.tag){var t=Co(e,134217728);if(null!==t)au(t,e,134217728,ru());Gu(e,134217728)}},jt=function(e){if(13===e.tag){var t=nu(e),r=Co(e,t);if(null!==r)au(r,e,t,ru());Gu(e,t)}},Et=function(){return bt},St=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},xe=function(e,t,r){switch(t){case"input":if(Z(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ka(n);if(!a)throw Error(i(90));G(n),Z(n,a)}}}break;case"textarea":ie(e,r);break;case"select":null!=(t=r.value)&&ne(e,!!r.multiple,t,!1)}},Ae=fu,Te=du;var rl={usingClientEntryPoint:!1,Events:[ba,wa,ka,Oe,Pe,fu]},nl={findFiberByHostInstance:ga,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},al={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ol.isDisabled&&ol.supportsFiber)try{ot=ol.inject(al),it=ol}catch(fe){}}r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rl,r.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(i(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},r.createRoot=function(e,t){if(!Xu(e))throw Error(i(299));var r=!1,n="",a=Ju;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Wu(e,1,!1,null,0,r,0,n,a),e[ma]=t.current,Bn(8===e.nodeType?e.parentNode:e),new Qu(t)},r.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},r.flushSync=function(e){return du(e)},r.hydrate=function(e,t,r){if(!Zu(t))throw Error(i(200));return tl(null,e,t,!0,r)},r.hydrateRoot=function(e,t,r){if(!Xu(e))throw Error(i(405));var n=null!=r&&r.hydratedSources||null,a=!1,o="",s=Ju;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=zu(t,null,e,1,null!=r?r:null,a,0,o,s),e[ma]=t.current,Bn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Yu(t)},r.render=function(e,t,r){if(!Zu(t))throw Error(i(200));return tl(null,e,t,!1,r)},r.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(i(40));return!!e._reactRootContainer&&(du((function(){tl(null,null,e,!1,(function(){e._reactRootContainer=null,e[ma]=null}))})),!0)},r.unstable_batchedUpdates=fu,r.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zu(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return tl(e,t,r,!1,n)},r.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,r){"use strict";var n=r(54164);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},54164:function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(34463)},47311:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=function(e){var t=e.className,r=e.onClick,n=e.disabled;return a.default.createElement("div",{className:"row"},a.default.createElement("p",{className:"col-xs-3 col-xs-offset-9 text-right ".concat(t)},a.default.createElement(o.default,{type:"info",icon:"plus",className:"btn-add col-xs-12",tabIndex:"0",onClick:r,disabled:n})))};var a=n(r(72791)),o=n(r(95081))},8248:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=function(e){var t=e.errors;return a.default.createElement("div",{className:"panel panel-danger errors"},a.default.createElement("div",{className:"panel-heading"},a.default.createElement("h3",{className:"panel-title"},"Errors")),a.default.createElement("ul",{className:"list-group"},t.map((function(e,t){return a.default.createElement("li",{key:t,className:"list-group-item text-danger"},e.stack)}))))};var a=n(r(72791))},69213:function(e,t,r){"use strict";var n=r(17343),a=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(91044)),i=a(r(26243)),s=a(r(78149)),c=a(r(63207)),u=a(r(16508)),l=a(r(54998)),f=a(r(76942)),d=a(r(54959)),p=a(r(89653)),h=a(r(83174)),m=a(r(36861)),v=n(r(72791)),_=(a(r(52007)),a(r(36460))),y=a(r(26181)),g=a(r(66364)),b=a(r(8248)),w=r(86031),k=n(r(3067)),x=function(e){function t(e){var r;return(0,u.default)(this,t),r=(0,f.default)(this,(0,d.default)(t).call(this,e)),(0,m.default)((0,p.default)(r),"getUsedFormData",(function(e,t){if(0===t.length&&"object"!==(0,c.default)(e))return e;var r=(0,_.default)(e,t);return(0,s.default)(e)?(0,i.default)(r).map((function(e){return r[e]})):r})),(0,m.default)((0,p.default)(r),"getFieldNames",(function(e,t){return function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""];return(0,i.default)(r).forEach((function(o){if("object"===(0,c.default)(r[o])){var i=a.map((function(e){return"".concat(e,".").concat(o)}));e(r[o],n,i)}else"$name"===o&&""!==r[o]&&a.forEach((function(e){e=e.replace(/^\./,"");var r=(0,y.default)(t,e);("object"!==(0,c.default)(r)||(0,g.default)(r))&&n.push(e)}))})),n}(e)})),(0,m.default)((0,p.default)(r),"onChange",(function(e,t){((0,w.isObject)(e)||(0,s.default)(e))&&(e=r.getStateFromProps(r.props,e).formData);var n=!r.props.noValidate&&r.props.liveValidate,a={formData:e},o=e;if(!0===r.props.omitExtraData&&!0===r.props.liveOmit){var i=(0,w.retrieveSchema)(r.state.schema,r.state.schema.definitions,e),c=(0,w.toPathSchema)(i,"",r.state.schema.definitions,e),u=r.getFieldNames(c,e);a={formData:o=r.getUsedFormData(e,u)}}if(n){var l=r.validate(o);a={formData:o,errors:l.errors,errorSchema:l.errorSchema}}else!r.props.noValidate&&t&&(a={formData:o,errorSchema:t,errors:(0,k.toErrorList)(t)});(0,w.setState)((0,p.default)(r),a,(function(){r.props.onChange&&r.props.onChange(r.state)}))})),(0,m.default)((0,p.default)(r),"onBlur",(function(){var e;r.props.onBlur&&(e=r.props).onBlur.apply(e,arguments)})),(0,m.default)((0,p.default)(r),"onFocus",(function(){var e;r.props.onFocus&&(e=r.props).onFocus.apply(e,arguments)})),(0,m.default)((0,p.default)(r),"onSubmit",(function(e){if(e.preventDefault(),e.target===e.currentTarget){e.persist();var t=r.state.formData;if(!0===r.props.omitExtraData){var n=(0,w.retrieveSchema)(r.state.schema,r.state.schema.definitions,t),a=(0,w.toPathSchema)(n,"",r.state.schema.definitions,t),s=r.getFieldNames(a,t);t=r.getUsedFormData(t,s)}if(!r.props.noValidate){var c=r.validate(t),u=c.errors,l=c.errorSchema;if((0,i.default)(u).length>0)return void(0,w.setState)((0,p.default)(r),{errors:u,errorSchema:l},(function(){r.props.onError?r.props.onError(u):console.error("Form validation failed",u)}))}r.setState({formData:t,errors:[],errorSchema:{}},(function(){r.props.onSubmit&&r.props.onSubmit((0,o.default)({},r.state,{formData:t,status:"submitted"}),e)}))}})),r.state=r.getStateFromProps(e,e.formData),r.props.onChange&&!(0,w.deepEquals)(r.state.formData,r.props.formData)&&r.props.onChange(r.state),r.formElement=null,r}return(0,h.default)(t,e),(0,l.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.getStateFromProps(e,e.formData);(0,w.deepEquals)(t.formData,e.formData)||(0,w.deepEquals)(t.formData,this.state.formData)||!this.props.onChange||this.props.onChange(t),this.setState(t)}},{key:"getStateFromProps",value:function(e,t){var r=this.state||{},n="schema"in e?e.schema:this.props.schema,a="uiSchema"in e?e.uiSchema:this.props.uiSchema,o="undefined"!==typeof t,i=e.liveValidate||this.props.liveValidate,s=o&&!e.noValidate&&i,c=n.definitions,u=(0,w.getDefaultFormState)(n,t,c),l=(0,w.retrieveSchema)(n,c,u),f=e.customFormats,d=e.additionalMetaSchemas,p=s?this.validate(u,n,d,f):{errors:r.errors||[],errorSchema:r.errorSchema||{}},h=p.errors,m=p.errorSchema;return{schema:n,uiSchema:a,idSchema:(0,w.toIdSchema)(l,a["ui:rootFieldId"],c,u,e.idPrefix),formData:u,edit:o,errors:h,errorSchema:m,additionalMetaSchemas:d}}},{key:"shouldComponentUpdate",value:function(e,t){return(0,w.shouldRender)(this,e,t)}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.schema,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props.additionalMetaSchemas,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.props.customFormats,a=this.props,o=a.validate,i=a.transformErrors,s=this.getRegistry().definitions,c=(0,w.retrieveSchema)(t,s,e);return(0,k.default)(e,c,o,i,r,n)}},{key:"renderErrors",value:function(){var e=this.state,t=e.errors,r=e.errorSchema,n=e.schema,a=e.uiSchema,o=this.props,i=o.ErrorList,s=o.showErrorList,c=o.formContext;return t.length&&0!=s?v.default.createElement(i,{errors:t,errorSchema:r,schema:n,uiSchema:a,formContext:c}):null}},{key:"getRegistry",value:function(){var e=(0,w.getDefaultRegistry)(),t=e.fields,r=e.widgets;return{fields:(0,o.default)({},t,this.props.fields),widgets:(0,o.default)({},r,this.props.widgets),ArrayFieldTemplate:this.props.ArrayFieldTemplate,ObjectFieldTemplate:this.props.ObjectFieldTemplate,FieldTemplate:this.props.FieldTemplate,definitions:this.props.schema.definitions||{},formContext:this.props.formContext||{}}}},{key:"submit",value:function(){this.formElement&&this.formElement.dispatchEvent(new Event("submit",{cancelable:!0}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.safeRenderCompletion,a=t.id,o=t.idPrefix,i=t.className,s=t.tagName,c=t.name,u=t.method,l=t.target,f=t.action,d=t.autocomplete,p=t.enctype,h=t.acceptcharset,m=t.noHtml5Validate,_=t.disabled,y=t.formContext,g=this.state,b=g.schema,w=g.uiSchema,k=g.formData,x=g.errorSchema,j=g.idSchema,E=this.getRegistry(),S=E.fields.SchemaField,O=s||"form";return v.default.createElement(O,{className:i||"rjsf",id:a,name:c,method:u,target:l,action:f,autoComplete:d,encType:p,acceptCharset:h,noValidate:m,onSubmit:this.onSubmit,ref:function(t){e.formElement=t}},this.renderErrors(),v.default.createElement(S,{schema:b,uiSchema:w,errorSchema:x,idSchema:j,idPrefix:o,formContext:y,formData:k,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:E,safeRenderCompletion:n,disabled:_}),r||v.default.createElement("div",null,v.default.createElement("button",{type:"submit",className:"btn btn-info"},"Submit")))}}]),t}(v.Component);t.default=x,(0,m.default)(x,"defaultProps",{uiSchema:{},noValidate:!1,liveValidate:!1,disabled:!1,safeRenderCompletion:!1,noHtml5Validate:!1,ErrorList:b.default,omitExtraData:!1})},95081:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=function(e){var t=e.type,r=void 0===t?"default":t,n=e.icon,s=e.className,c=(0,o.default)(e,["type","icon","className"]);return i.default.createElement("button",(0,a.default)({type:"button",className:"btn btn-".concat(r," ").concat(s)},c),i.default.createElement("i",{className:"glyphicon glyphicon-".concat(n)}))};var a=n(r(66660)),o=n(r(94774)),i=n(r(72791))},80262:function(e,t,r){"use strict";var n=r(17343),a=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(26243)),i=a(r(94774)),s=a(r(91044)),c=a(r(79529)),u=a(r(23420)),l=a(r(16508)),f=a(r(54998)),d=a(r(76942)),p=a(r(54959)),h=a(r(89653)),m=a(r(83174)),v=a(r(36861)),_=a(r(78149)),y=a(r(47311)),g=a(r(95081)),b=n(r(72791)),w=r(23688),k=a(r(88691)),x=(n(r(52753)),a(r(422))),j=r(86031),E=a(r(6429));function S(e){var t=e.TitleField,r=e.idSchema,n=e.title,a=e.required;if(!n)return null;var o="".concat(r.$id,"__title");return b.default.createElement(t,{id:o,title:n,required:a})}function O(e){var t=e.DescriptionField,r=e.idSchema,n=e.description;if(!n)return null;var a="".concat(r.$id,"__description");return b.default.createElement(t,{id:a,description:n})}function P(e){var t={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return b.default.createElement("div",{key:e.key,className:e.className},b.default.createElement("div",{className:e.hasToolbar?"col-xs-9":"col-xs-12"},e.children),e.hasToolbar&&b.default.createElement("div",{className:"col-xs-3 array-item-toolbox"},b.default.createElement("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"}},(e.hasMoveUp||e.hasMoveDown)&&b.default.createElement(g.default,{icon:"arrow-up",className:"array-item-move-up",tabIndex:"-1",style:t,disabled:e.disabled||e.readonly||!e.hasMoveUp,onClick:e.onReorderClick(e.index,e.index-1)}),(e.hasMoveUp||e.hasMoveDown)&&b.default.createElement(g.default,{icon:"arrow-down",className:"array-item-move-down",tabIndex:"-1",style:t,disabled:e.disabled||e.readonly||!e.hasMoveDown,onClick:e.onReorderClick(e.index,e.index+1)}),e.hasRemove&&b.default.createElement(g.default,{type:"danger",icon:"remove",className:"array-item-remove",tabIndex:"-1",style:t,disabled:e.disabled||e.readonly,onClick:e.onDropIndexClick(e.index)}))))}function A(e){return b.default.createElement("fieldset",{className:e.className,id:e.idSchema.$id},b.default.createElement(S,{key:"array-field-title-".concat(e.idSchema.$id),TitleField:e.TitleField,idSchema:e.idSchema,title:e.uiSchema["ui:title"]||e.title,required:e.required}),(e.uiSchema["ui:description"]||e.schema.description)&&b.default.createElement("div",{className:"field-description",key:"field-description-".concat(e.idSchema.$id)},e.uiSchema["ui:description"]||e.schema.description),b.default.createElement("div",{className:"row array-item-list",key:"array-item-list-".concat(e.idSchema.$id)},e.items&&e.items.map(P)),e.canAdd&&b.default.createElement(y.default,{className:"array-item-add",onClick:e.onAddClick,disabled:e.disabled||e.readonly}))}function T(e){return b.default.createElement("fieldset",{className:e.className,id:e.idSchema.$id},b.default.createElement(S,{key:"array-field-title-".concat(e.idSchema.$id),TitleField:e.TitleField,idSchema:e.idSchema,title:e.uiSchema["ui:title"]||e.title,required:e.required}),(e.uiSchema["ui:description"]||e.schema.description)&&b.default.createElement(O,{key:"array-field-description-".concat(e.idSchema.$id),DescriptionField:e.DescriptionField,idSchema:e.idSchema,description:e.uiSchema["ui:description"]||e.schema.description}),b.default.createElement("div",{className:"row array-item-list",key:"array-item-list-".concat(e.idSchema.$id)},e.items&&e.items.map((function(e){return P(e)}))),e.canAdd&&b.default.createElement(y.default,{className:"array-item-add",onClick:e.onAddClick,disabled:e.disabled||e.readonly}))}function C(){return E.default.generate()}function R(e){return(0,_.default)(e)?e.map((function(e){return{key:C(),item:e}})):[]}function I(e){return e.map((function(e){return e.item}))}var D=function(e){function t(e){var r;(0,l.default)(this,t),r=(0,d.default)(this,(0,p.default)(t).call(this,e)),(0,v.default)((0,h.default)(r),"_getNewFormDataRow",(function(){var e=r.props,t=e.schema,n=e.registry,a=(void 0===n?(0,j.getDefaultRegistry)():n).definitions,o=t.items;return(0,j.isFixedItems)(t)&&(0,j.allowAdditionalItems)(t)&&(o=t.additionalItems),(0,j.getDefaultFormState)(o,void 0,a)})),(0,v.default)((0,h.default)(r),"onAddClick",(function(e){e.preventDefault();var t=r.props.onChange,n={key:C(),item:r._getNewFormDataRow()},a=[].concat((0,u.default)(r.state.keyedFormData),[n]);r.setState({keyedFormData:a},(function(){return t(I(a))}))})),(0,v.default)((0,h.default)(r),"onAddIndexClick",(function(e){return function(t){t&&t.preventDefault();var n=r.props.onChange,a={key:C(),item:r._getNewFormDataRow()},o=(0,u.default)(r.state.keyedFormData);o.splice(e,0,a),r.setState({keyedFormData:o},(function(){return n(I(o))}))}})),(0,v.default)((0,h.default)(r),"onDropIndexClick",(function(e){return function(t){t&&t.preventDefault();var n,a=r.props.onChange,o=r.state.keyedFormData;if(r.props.errorSchema){n={};var i=r.props.errorSchema;for(var s in i)(s=(0,c.default)(s))<e?n[s]=i[s]:s>e&&(n[s-1]=i[s])}var u=o.filter((function(t,r){return r!==e}));r.setState({keyedFormData:u},(function(){return a(I(u),n)}))}})),(0,v.default)((0,h.default)(r),"onReorderClick",(function(e,t){return function(n){n&&(n.preventDefault(),n.target.blur());var a,o=r.props.onChange;if(r.props.errorSchema){a={};var i=r.props.errorSchema;for(var s in i)s==e?a[t]=i[e]:s==t?a[e]=i[t]:a[s]=i[s]}var c=r.state.keyedFormData;var u=function(){var r=c.slice();return r.splice(e,1),r.splice(t,0,c[e]),r}();r.setState({keyedFormData:u},(function(){return o(I(u),a)}))}})),(0,v.default)((0,h.default)(r),"onChangeForIndex",(function(e){return function(t,n){var a=r.props,o=a.formData;(0,a.onChange)(o.map((function(r,n){return e===n?"undefined"===typeof t?null:t:r})),n&&r.props.errorSchema&&(0,s.default)({},r.props.errorSchema,(0,v.default)({},e,n)))}})),(0,v.default)((0,h.default)(r),"onSelectChange",(function(e){r.props.onChange(e)}));var n=R(e.formData);return r.state={keyedFormData:n},r}return(0,m.default)(t,e),(0,f.default)(t,[{key:"isItemRequired",value:function(e){return(0,_.default)(e.type)?!(0,k.default)(e.type,"null"):"null"!==e.type}},{key:"canAddItem",value:function(e){var t=this.props,r=t.schema,n=t.uiSchema,a=(0,j.getUiOptions)(n).addable;return!1!==a&&(a=void 0===r.maxItems||e.length<r.maxItems),a}},{key:"render",value:function(){var e=this.props,t=e.schema,r=e.uiSchema,n=e.idSchema,a=e.registry,o=(void 0===a?(0,j.getDefaultRegistry)():a).definitions;return t.hasOwnProperty("items")?(0,j.isFixedItems)(t)?this.renderFixedArray():(0,j.isFilesArray)(t,r,o)?this.renderFiles():(0,j.isMultiSelect)(t,o)?this.renderMultiSelect():this.renderNormalArray():b.default.createElement(x.default,{schema:t,idSchema:n,reason:"Missing items definition"})}},{key:"renderNormalArray",value:function(){var e=this,t=this.props,r=t.schema,n=t.uiSchema,a=t.formData,o=t.errorSchema,i=t.idSchema,s=t.name,c=t.required,u=t.disabled,l=t.readonly,f=t.autofocus,d=t.registry,p=void 0===d?(0,j.getDefaultRegistry)():d,h=t.onBlur,m=t.onFocus,v=t.idPrefix,_=t.rawErrors,y=void 0===r.title?s:r.title,g=p.ArrayFieldTemplate,w=p.definitions,k=p.fields,x=p.formContext,E=k.TitleField,S=k.DescriptionField,O=(0,j.retrieveSchema)(r.items,w),P={canAdd:this.canAddItem(a),items:this.state.keyedFormData.map((function(t,s){var c=t.key,u=t.item,l=(0,j.retrieveSchema)(r.items,w,u),d=o?o[s]:void 0,p=i.$id+"_"+s,_=(0,j.toIdSchema)(l,p,w,u,v);return e.renderArrayFieldItem({key:c,index:s,canMoveUp:s>0,canMoveDown:s<a.length-1,itemSchema:l,itemIdSchema:_,itemErrorSchema:d,itemData:u,itemUiSchema:n.items,autofocus:f&&0===s,onBlur:h,onFocus:m})})),className:"field field-array field-array-of-".concat(O.type),DescriptionField:S,disabled:u,idSchema:i,uiSchema:n,onAddClick:this.onAddClick,readonly:l,required:c,schema:r,title:y,TitleField:E,formContext:x,formData:a,rawErrors:_,registry:p},A=n["ui:ArrayFieldTemplate"]||g||T;return b.default.createElement(A,P)}},{key:"renderMultiSelect",value:function(){var e=this.props,t=e.schema,r=e.idSchema,n=e.uiSchema,a=e.formData,o=e.disabled,c=e.readonly,u=e.required,l=e.label,f=e.placeholder,d=e.autofocus,p=e.onBlur,h=e.onFocus,m=e.registry,v=void 0===m?(0,j.getDefaultRegistry)():m,_=e.rawErrors,y=this.props.formData,g=v.widgets,w=v.definitions,k=v.formContext,x=(0,j.retrieveSchema)(t.items,w,a),E=(0,j.optionsList)(x),S=(0,s.default)({},(0,j.getUiOptions)(n),{enumOptions:E}),O=S.widget,P=void 0===O?"select":O,A=(0,i.default)(S,["widget"]),T=(0,j.getWidget)(t,P,g);return b.default.createElement(T,{id:r&&r.$id,multiple:!0,onChange:this.onSelectChange,onBlur:p,onFocus:h,options:A,schema:t,registry:v,value:y,disabled:o,readonly:c,required:u,label:l,placeholder:f,formContext:k,autofocus:d,rawErrors:_})}},{key:"renderFiles",value:function(){var e=this.props,t=e.schema,r=e.uiSchema,n=e.idSchema,a=e.name,o=e.disabled,s=e.readonly,c=e.autofocus,u=e.onBlur,l=e.onFocus,f=e.registry,d=void 0===f?(0,j.getDefaultRegistry)():f,p=e.rawErrors,h=t.title||a,m=this.props.formData,v=d.widgets,_=d.formContext,y=(0,j.getUiOptions)(r),g=y.widget,w=void 0===g?"files":g,k=(0,i.default)(y,["widget"]),x=(0,j.getWidget)(t,w,v);return b.default.createElement(x,{options:k,id:n&&n.$id,multiple:!0,onChange:this.onSelectChange,onBlur:u,onFocus:l,schema:t,title:h,value:m,disabled:o,readonly:s,formContext:_,autofocus:c,rawErrors:p})}},{key:"renderFixedArray",value:function(){var e=this,t=this.props,r=t.schema,n=t.uiSchema,a=t.formData,o=t.errorSchema,i=t.idPrefix,s=t.idSchema,c=t.name,u=t.required,l=t.disabled,f=t.readonly,d=t.autofocus,p=t.registry,h=void 0===p?(0,j.getDefaultRegistry)():p,m=t.onBlur,v=t.onFocus,y=t.rawErrors,g=r.title||c,w=this.props.formData,k=h.ArrayFieldTemplate,x=h.definitions,E=h.fields,S=h.formContext,O=E.TitleField,P=r.items.map((function(e,t){return(0,j.retrieveSchema)(e,x,a[t])})),T=(0,j.allowAdditionalItems)(r)?(0,j.retrieveSchema)(r.additionalItems,x,a):null;(!w||w.length<P.length)&&(w=(w=w||[]).concat(new Array(P.length-w.length)));var C={canAdd:this.canAddItem(w)&&T,className:"field field-array field-array-fixed-items",disabled:l,idSchema:s,formData:a,items:this.state.keyedFormData.map((function(t,a){var c=t.key,u=t.item,l=a>=P.length,f=l?(0,j.retrieveSchema)(r.additionalItems,x,u):P[a],p=s.$id+"_"+a,h=(0,j.toIdSchema)(f,p,x,u,i),y=l?n.additionalItems||{}:(0,_.default)(n.items)?n.items[a]:n.items||{},g=o?o[a]:void 0;return e.renderArrayFieldItem({key:c,index:a,canRemove:l,canMoveUp:a>=P.length+1,canMoveDown:l&&a<w.length-1,itemSchema:f,itemData:u,itemUiSchema:y,itemIdSchema:h,itemErrorSchema:g,autofocus:d&&0===a,onBlur:m,onFocus:v})})),onAddClick:this.onAddClick,readonly:f,required:u,schema:r,uiSchema:n,title:g,TitleField:O,formContext:S,rawErrors:y},R=n["ui:ArrayFieldTemplate"]||k||A;return b.default.createElement(R,C)}},{key:"renderArrayFieldItem",value:function(e){var t=e.key,r=e.index,n=e.canRemove,a=void 0===n||n,i=e.canMoveUp,c=void 0===i||i,u=e.canMoveDown,l=void 0===u||u,f=e.itemSchema,d=e.itemData,p=e.itemUiSchema,h=e.itemIdSchema,m=e.itemErrorSchema,v=e.autofocus,_=e.onBlur,y=e.onFocus,g=e.rawErrors,w=this.props,k=w.disabled,x=w.readonly,E=w.uiSchema,S=w.registry,O=(void 0===S?(0,j.getDefaultRegistry)():S).fields.SchemaField,P=(0,s.default)({orderable:!0,removable:!0},E["ui:options"]),A=P.orderable,T={moveUp:A&&c,moveDown:A&&l,remove:P.removable&&a};return T.toolbar=(0,o.default)(T).some((function(e){return T[e]})),{children:b.default.createElement(O,{schema:f,uiSchema:p,formData:d,errorSchema:m,idSchema:h,required:this.isItemRequired(f),onChange:this.onChangeForIndex(r),onBlur:_,onFocus:y,registry:this.props.registry,disabled:this.props.disabled,readonly:this.props.readonly,autofocus:v,rawErrors:g}),className:"array-item",disabled:k,hasToolbar:T.toolbar,hasMoveUp:T.moveUp,hasMoveDown:T.moveDown,hasRemove:T.remove,index:r,key:t,onAddIndexClick:this.onAddIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:x}}},{key:"itemTitle",get:function(){var e=this.props.schema;return e.items.title||e.items.description||"Item"}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.formData,n=t.keyedFormData;return{keyedFormData:r.length===n.length?n.map((function(e,t){return{key:e.key,item:r[t]}})):R(r)}}}]),t}(b.Component);(0,v.default)(D,"defaultProps",{uiSchema:{},formData:[],idSchema:{},required:!1,disabled:!1,readonly:!1,autofocus:!1}),(0,w.polyfill)(D);var F=D;t.default=F},46533:function(e,t,r){"use strict";var n=r(17343),a=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(91044)),i=a(r(78149)),s=a(r(94774)),c=a(r(72791)),u=(n(r(52753)),r(86031));function l(e){var t,r=e.schema,n=e.name,a=e.uiSchema,l=e.idSchema,f=e.formData,d=e.registry,p=void 0===d?(0,u.getDefaultRegistry)():d,h=e.required,m=e.disabled,v=e.readonly,_=e.autofocus,y=e.onChange,g=e.onFocus,b=e.onBlur,w=e.rawErrors,k=r.title,x=p.widgets,j=p.formContext,E=(0,u.getUiOptions)(a),S=E.widget,O=void 0===S?"checkbox":S,P=(0,s.default)(E,["widget"]),A=(0,u.getWidget)(r,O,x);return t=(0,i.default)(r.oneOf)?(0,u.optionsList)({oneOf:r.oneOf.map((function(e){return(0,o.default)({},e,{title:e.title||(!0===e.const?"yes":"no")})}))}):(0,u.optionsList)({enum:r.enum||[!0,!1],enumNames:r.enumNames||(r.enum&&!1===r.enum[0]?["no","yes"]:["yes","no"])}),c.default.createElement(A,{options:(0,o.default)({},P,{enumOptions:t}),schema:r,id:l&&l.$id,onChange:y,onFocus:g,onBlur:b,label:void 0===k?n:k,value:f,required:h,disabled:m,readonly:v,registry:p,formContext:j,autofocus:_,rawErrors:w})}l.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};var f=l;t.default=f},97142:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(72791));n(r(52007));var o=function(e){var t=e.id,r=e.description;return r?"string"===typeof r?a.default.createElement("p",{id:t,className:"field-description"},r):a.default.createElement("div",{id:t,className:"field-description"},r):null};t.default=o},49213:function(e,t,r){"use strict";var n=r(17343),a=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(66660)),i=a(r(94774)),s=a(r(16490)),c=a(r(18428)),u=a(r(79529)),l=a(r(16508)),f=a(r(54998)),d=a(r(76942)),p=a(r(54959)),h=a(r(89653)),m=a(r(83174)),v=a(r(36861)),_=n(r(72791)),y=(a(r(52007)),n(r(52753)),r(86031)),g=function(e){function t(e){var r;(0,l.default)(this,t),r=(0,d.default)(this,(0,p.default)(t).call(this,e)),(0,v.default)((0,h.default)(r),"onOptionChange",(function(e){var t=(0,u.default)(e,10),n=r.props,a=n.formData,o=n.onChange,i=n.options,l=n.registry.definitions,f=(0,y.retrieveSchema)(i[t],l,a),d=void 0;if("object"===(0,y.guessType)(a)&&("object"===f.type||f.properties)){d=(0,c.default)({},a);var p=i.slice();p.splice(t,1);var h=!0,m=!1,v=void 0;try{for(var _,g=(0,s.default)(p);!(h=(_=g.next()).done);h=!0){var b=_.value;if(b.properties)for(var w in b.properties)d.hasOwnProperty(w)&&delete d[w]}}catch(k){m=!0,v=k}finally{try{h||null==g.return||g.return()}finally{if(m)throw v}}}o((0,y.getDefaultFormState)(i[t],d,l)),r.setState({selectedOption:(0,u.default)(e,10)})}));var n=r.props,a=n.formData,o=n.options;return r.state={selectedOption:r.getMatchingOption(a,o)},r}return(0,m.default)(t,e),(0,f.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.getMatchingOption(e.formData,e.options);t!==this.state.selectedOption&&this.setState({selectedOption:t})}},{key:"getMatchingOption",value:function(e,t){var r=this.props.registry.definitions,n=(0,y.getMatchingOption)(e,t,r);return 0!==n?n:this&&this.state?this.state.selectedOption:0}},{key:"render",value:function(){var e,t=this.props,r=t.baseType,n=t.disabled,a=t.errorSchema,s=t.formData,u=t.idPrefix,l=t.idSchema,f=t.onBlur,d=t.onChange,p=t.onFocus,h=t.options,m=t.registry,v=t.safeRenderCompletion,g=t.uiSchema,b=m.fields.SchemaField,w=m.widgets,k=this.state.selectedOption,x=(0,y.getUiOptions)(g),j=x.widget,E=void 0===j?"select":j,S=(0,i.default)(x,["widget"]),O=(0,y.getWidget)({type:"number"},E,w),P=h[k]||null;P&&(e=P.type?P:(0,c.default)({},P,{type:r}));var A=h.map((function(e,t){return{label:e.title||"Option ".concat(t+1),value:t}}));return _.default.createElement("div",{className:"panel panel-default panel-body"},_.default.createElement("div",{className:"form-group"},_.default.createElement(O,(0,o.default)({id:"".concat(l.$id,"_anyof_select"),schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:f,onFocus:p,value:k,options:{enumOptions:A}},S))),null!==P&&_.default.createElement(b,{schema:e,uiSchema:g,errorSchema:a,idSchema:l,idPrefix:u,formData:s,onChange:d,onBlur:f,onFocus:p,registry:m,safeRenderCompletion:v,disabled:n}))}}]),t}(_.Component);g.defaultProps={disabled:!1,errorSchema:{},idSchema:{},uiSchema:{}};var b=g;t.default=b},46733:function(e,t,r){"use strict";var n=r(17343),a=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(16508)),i=a(r(54998)),s=a(r(76942)),c=a(r(54959)),u=a(r(83174)),l=r(72791),f=(n(r(52753)),function(e){function t(){return(0,o.default)(this,t),(0,s.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){void 0===this.props.formData&&this.props.onChange(null)}},{key:"render",value:function(){return null}}]),t}(l.Component));var d=f;t.default=d},35553:function(e,t,r){"use strict";var n=r(17343),a=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(66660)),i=a(r(94774)),s=a(r(16508)),c=a(r(54998)),u=a(r(76942)),l=a(r(54959)),f=a(r(89653)),d=a(r(83174)),p=a(r(36861)),h=a(r(72791)),m=(n(r(52753)),r(86031)),v=/\.([0-9]*0)*$/,_=/[0.]0*$/,y=function(e){function t(e){var r;return(0,s.default)(this,t),r=(0,u.default)(this,(0,l.default)(t).call(this,e)),(0,p.default)((0,f.default)(r),"handleChange",(function(e){r.setState({lastValue:e}),"."==="".concat(e).charAt(0)&&(e="0".concat(e));var t="string"===typeof e&&e.match(v)?(0,m.asNumber)(e.replace(_,"")):(0,m.asNumber)(e);r.props.onChange(t)})),r.state={lastValue:e.value},r}return(0,d.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props.registry.fields.StringField,t=this.props,r=t.formData,n=(0,i.default)(t,["formData"]),a=this.state.lastValue,s=r;if("string"===typeof a&&"number"===typeof s){var c=new RegExp("".concat(s).replace(".","\\.")+"\\.?0*$");a.match(c)&&(s=a)}return h.default.createElement(e,(0,o.default)({},n,{formData:s,onChange:this.handleChange}))}}]),t}(h.default.Component);y.defaultProps={uiSchema:{}};var g=y;t.default=g},13417:function(e,t,r){"use strict";var n=r(17343),a=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(66660)),i=a(r(8450)),s=a(r(78149)),c=a(r(18428)),u=a(r(23420)),l=a(r(91044)),f=a(r(16508)),d=a(r(54998)),p=a(r(76942)),h=a(r(54959)),m=a(r(89653)),v=a(r(83174)),_=a(r(36861)),y=a(r(26243)),g=a(r(47311)),b=n(r(72791)),w=(n(r(52753)),r(86031));function k(e){var t=e.TitleField,r=e.DescriptionField;return b.default.createElement("fieldset",{id:e.idSchema.$id},(e.uiSchema["ui:title"]||e.title)&&b.default.createElement(t,{id:"".concat(e.idSchema.$id,"__title"),title:e.title||e.uiSchema["ui:title"],required:e.required,formContext:e.formContext}),e.description&&b.default.createElement(r,{id:"".concat(e.idSchema.$id,"__description"),description:e.description,formContext:e.formContext}),e.properties.map((function(e){return e.content})),function(){var t=e.formData,r=e.schema,n=e.uiSchema;if(!r.additionalProperties)return!1;var a=(0,w.getUiOptions)(n).expandable;return!1===a?a:void 0===r.maxProperties||(0,y.default)(t).length<r.maxProperties}()&&b.default.createElement(g.default,{className:"object-property-expand",onClick:e.onAddClick(e.schema),disabled:e.disabled||e.readonly}))}var x=function(e){function t(){var e,r;(0,f.default)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=(0,p.default)(this,(e=(0,h.default)(t)).call.apply(e,[this].concat(a))),(0,_.default)((0,m.default)(r),"state",{wasPropertyKeyModified:!1,additionalProperties:{}}),(0,_.default)((0,m.default)(r),"onPropertyChange",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,a){!n&&t&&(n="");var o=(0,l.default)({},r.props.formData,(0,_.default)({},e,n));r.props.onChange(o,a&&r.props.errorSchema&&(0,l.default)({},r.props.errorSchema,(0,_.default)({},e,a)))}})),(0,_.default)((0,m.default)(r),"onDropPropertyClick",(function(e){return function(t){t.preventDefault();var n=r.props,a=n.onChange,o=n.formData,i=(0,l.default)({},o);delete i[e],a(i)}})),(0,_.default)((0,m.default)(r),"getAvailableKey",(function(e,t){for(var r=0,n=e;t.hasOwnProperty(n);)n="".concat(e,"-").concat(++r);return n})),(0,_.default)((0,m.default)(r),"onKeyChange",(function(e){return function(t,n){if(e!==t){t=r.getAvailableKey(t,r.props.formData);var a=(0,l.default)({},r.props.formData),o=(0,_.default)({},e,t),i=(0,y.default)(a).map((function(e){var t=o[e]||e;return(0,_.default)({},t,a[e])})),s=c.default.apply(Object,[{}].concat((0,u.default)(i)));r.setState({wasPropertyKeyModified:!0}),r.props.onChange(s,n&&r.props.errorSchema&&(0,l.default)({},r.props.errorSchema,(0,_.default)({},t,n)))}}})),(0,_.default)((0,m.default)(r),"handleAddClick",(function(e){return function(){var t=e.additionalProperties.type,n=(0,l.default)({},r.props.formData);if(e.additionalProperties.hasOwnProperty("$ref")){var a=r.props.registry,o=void 0===a?(0,w.getDefaultRegistry)():a;t=(0,w.retrieveSchema)({$ref:e.additionalProperties.$ref},o.definitions,r.props.formData).type}n[r.getAvailableKey("newKey",n)]=r.getDefaultValue(t),r.props.onChange(n)}})),r}return(0,v.default)(t,e),(0,d.default)(t,[{key:"isRequired",value:function(e){var t=this.props.schema;return(0,s.default)(t.required)&&-1!==t.required.indexOf(e)}},{key:"getDefaultValue",value:function(e){switch(e){case"string":default:return"New Value";case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{}}}},{key:"render",value:function(){var e,t=this,r=this.props,n=r.uiSchema,a=r.formData,s=r.errorSchema,c=r.idSchema,u=r.name,l=r.required,f=r.disabled,d=r.readonly,p=r.idPrefix,h=r.onBlur,m=r.onFocus,v=r.registry,_=void 0===v?(0,w.getDefaultRegistry)():v,g=_.definitions,x=_.fields,j=_.formContext,E=x.SchemaField,S=x.TitleField,O=x.DescriptionField,P=(0,w.retrieveSchema)(this.props.schema,g,a);e=this.state.wasPropertyKeyModified||void 0===P.title?u:P.title;var A,T=n["ui:description"]||P.description;try{var C=(0,y.default)(P.properties||{});A=(0,w.orderProperties)(C,n["ui:order"])}catch(D){return b.default.createElement("div",null,b.default.createElement("p",{className:"config-error",style:{color:"red"}},"Invalid ",u||"root"," object field configuration:",b.default.createElement("em",null,D.message),"."),b.default.createElement("pre",null,(0,i.default)(P)))}var R=n["ui:ObjectFieldTemplate"]||_.ObjectFieldTemplate||k,I={title:n["ui:title"]||e,description:T,TitleField:S,DescriptionField:O,properties:A.map((function(e){var r=P.properties[e].hasOwnProperty(w.ADDITIONAL_PROPERTY_FLAG);return{content:b.default.createElement(E,{key:e,name:e,required:t.isRequired(e),schema:P.properties[e],uiSchema:r?n.additionalProperties:n[e],errorSchema:s[e],idSchema:c[e],idPrefix:p,formData:(a||{})[e],wasPropertyKeyModified:t.state.wasPropertyKeyModified,onKeyChange:t.onKeyChange(e),onChange:t.onPropertyChange(e,r),onBlur:h,onFocus:m,registry:_,disabled:f,readonly:d,onDropPropertyClick:t.onDropPropertyClick}),name:e,readonly:d,disabled:f,required:l}})),readonly:d,disabled:f,required:l,idSchema:c,uiSchema:n,schema:P,formData:a,formContext:j};return b.default.createElement(R,(0,o.default)({},I,{onAddClick:this.handleAddClick}))}}]),t}(b.Component);(0,_.default)(x,"defaultProps",{uiSchema:{},formData:{},errorSchema:{},idSchema:{},required:!1,disabled:!1,readonly:!1});var j=x;t.default=j},74430:function(e,t,r){"use strict";var n=r(17343),a=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(16508)),i=a(r(54998)),s=a(r(76942)),c=a(r(54959)),u=a(r(83174)),l=a(r(66660)),f=a(r(91044)),d=a(r(94774)),p=a(r(26243)),h=r(86031),m=a(r(95081)),v=a(r(72791)),_=(a(r(52007)),n(r(52753)),a(r(422))),y="*",g={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function b(e){var t=e.label,r=e.required,n=e.id;return t?v.default.createElement("label",{className:"control-label",htmlFor:n},t,r&&v.default.createElement("span",{className:"required"},y)):null}function w(e){var t=e.id,r=e.label,n=e.onChange;return v.default.createElement("input",{className:"form-control",type:"text",id:t,onBlur:function(e){return n(e.target.value)},defaultValue:r})}function k(e){var t=e.help;return t?"string"===typeof t?v.default.createElement("p",{className:"help-block"},t):v.default.createElement("div",{className:"help-block"},t):null}function x(e){var t=e.errors,r=void 0===t?[]:t;return 0===r.length?null:v.default.createElement("div",null,v.default.createElement("ul",{className:"error-detail bs-callout bs-callout-info"},r.filter((function(e){return!!e})).map((function(e,t){return v.default.createElement("li",{className:"text-danger",key:t},e)}))))}function j(e){var t=e.id,r=e.label,n=e.children,a=e.errors,o=e.help,i=e.description,s=e.hidden,c=e.required,u=e.displayLabel;return s?v.default.createElement("div",{className:"hidden"},n):v.default.createElement(E,e,u&&v.default.createElement(b,{label:r,required:c,id:t}),u&&i?i:null,n,a,o)}function E(e){var t=e.id,r=e.classNames,n=e.disabled,a=e.label,o=e.onKeyChange,i=e.onDropPropertyClick,s=e.readonly,c=e.required,u=e.schema,l="".concat(a," Key");return u.hasOwnProperty(h.ADDITIONAL_PROPERTY_FLAG)?v.default.createElement("div",{className:r},v.default.createElement("div",{className:"row"},v.default.createElement("div",{className:"col-xs-5 form-additional"},v.default.createElement("div",{className:"form-group"},v.default.createElement(b,{label:l,required:c,id:"".concat(t,"-key")}),v.default.createElement(w,{label:a,required:c,id:"".concat(t,"-key"),onChange:o}))),v.default.createElement("div",{className:"form-additional form-group col-xs-5"},e.children),v.default.createElement("div",{className:"col-xs-2"},v.default.createElement(m.default,{type:"danger",icon:"remove",className:"array-item-remove btn-block",tabIndex:"-1",style:{border:"0"},disabled:n||s,onClick:i(a)})))):v.default.createElement("div",{className:r},e.children)}function S(e){var t=e.uiSchema,r=e.formData,n=e.errorSchema,a=e.idPrefix,o=e.name,i=e.onKeyChange,s=e.onDropPropertyClick,c=e.required,u=e.registry,m=void 0===u?(0,h.getDefaultRegistry)():u,y=e.wasPropertyKeyModified,b=void 0!==y&&y,w=m.definitions,E=m.fields,S=m.formContext,O=t["ui:FieldTemplate"]||m.FieldTemplate||j,P=e.idSchema,A=(0,h.retrieveSchema)(e.schema,w,r),T=function(e,t,r,n){var a=t["ui:field"];if("function"===typeof a)return a;if("string"===typeof a&&a in n)return n[a];var o=g[(0,h.getSchemaType)(e)];return o||!e.anyOf&&!e.oneOf?o in n?n[o]:function(){return v.default.createElement(_.default,{schema:e,idSchema:r,reason:"Unknown field type ".concat(e.type)})}:function(){return null}}(A,t,P=(0,h.mergeObjects)((0,h.toIdSchema)(A,null,w,r,a),P),E),C=E.DescriptionField,R=Boolean(e.disabled||t["ui:disabled"]),I=Boolean(e.readonly||t["ui:readonly"]||e.schema.readOnly||A.readOnly),D=Boolean(e.autofocus||t["ui:autofocus"]);if(0===(0,p.default)(A).length)return null;var F=(0,h.getUiOptions)(t).label,N=void 0===F||F;"array"===A.type&&(N=(0,h.isMultiSelect)(A,w)||(0,h.isFilesArray)(A,t,w)),"object"===A.type&&(N=!1),"boolean"!==A.type||t["ui:widget"]||(N=!1),t["ui:field"]&&(N=!1);var M,U=n.__errors,q=(0,d.default)(n,["__errors"]),L=v.default.createElement(T,(0,l.default)({},e,{idSchema:P,schema:A,uiSchema:(0,f.default)({},t,{classNames:void 0}),disabled:R,readonly:I,autofocus:D,errorSchema:q,formContext:S,rawErrors:U})),$=A.type,W=P.$id;M=b?o:t["ui:title"]||e.schema.title||A.title||o;var B=t["ui:description"]||e.schema.description||A.description,z=U,V=t["ui:help"],K="hidden"===t["ui:widget"],H=["form-group","field","field-".concat($),z&&z.length>0?"field-error has-error has-danger":"",t.classNames].join(" ").trim(),G={description:v.default.createElement(C,{id:W+"__description",description:B,formContext:S}),rawDescription:B,help:v.default.createElement(k,{help:V}),rawHelp:"string"===typeof V?V:void 0,errors:v.default.createElement(x,{errors:z}),rawErrors:z,id:W,label:M,hidden:K,onKeyChange:i,onDropPropertyClick:s,required:c,disabled:R,readonly:I,displayLabel:N,classNames:H,formContext:S,fields:E,schema:A,uiSchema:t},J=m.fields.AnyOfField,Q=m.fields.OneOfField;return v.default.createElement(O,G,L,A.anyOf&&!(0,h.isSelect)(A)&&v.default.createElement(J,{disabled:R,errorSchema:n,formData:r,idPrefix:a,idSchema:P,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:A.anyOf,baseType:A.type,registry:m,safeRenderCompletion:e.safeRenderCompletion,schema:A,uiSchema:t}),A.oneOf&&!(0,h.isSelect)(A)&&v.default.createElement(Q,{disabled:R,errorSchema:n,formData:r,idPrefix:a,idSchema:P,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,options:A.oneOf,baseType:A.type,registry:m,safeRenderCompletion:e.safeRenderCompletion,schema:A,uiSchema:t}))}j.defaultProps={hidden:!1,readonly:!1,required:!1,displayLabel:!0};var O=function(e){function t(){return(0,o.default)(this,t),(0,s.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,i.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(0,h.deepEquals)((0,f.default)({},this.props,{idSchema:void 0}),(0,f.default)({},e,{idSchema:void 0}))}},{key:"render",value:function(){return S(this.props)}}]),t}(v.default.Component);O.defaultProps={uiSchema:{},errorSchema:{},idSchema:{},disabled:!1,readonly:!1,autofocus:!1};var P=O;t.default=P},36186:function(e,t,r){"use strict";var n=r(17343),a=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(91044)),i=a(r(94774)),s=a(r(72791)),c=(n(r(52753)),r(86031));function u(e){var t=e.schema,r=e.name,n=e.uiSchema,a=e.idSchema,u=e.formData,l=e.required,f=e.disabled,d=e.readonly,p=e.autofocus,h=e.onChange,m=e.onBlur,v=e.onFocus,_=e.registry,y=void 0===_?(0,c.getDefaultRegistry)():_,g=e.rawErrors,b=t.title,w=t.format,k=y.widgets,x=y.formContext,j=(0,c.isSelect)(t)&&(0,c.optionsList)(t),E=j?"select":"text";w&&(0,c.hasWidget)(t,w,k)&&(E=w);var S=(0,c.getUiOptions)(n),O=S.widget,P=void 0===O?E:O,A=S.placeholder,T=void 0===A?"":A,C=(0,i.default)(S,["widget","placeholder"]),R=(0,c.getWidget)(t,P,k);return s.default.createElement(R,{options:(0,o.default)({},C,{enumOptions:j}),schema:t,id:a&&a.$id,label:void 0===b?r:b,value:u,onChange:h,onBlur:m,onFocus:v,required:l,disabled:f,readonly:d,formContext:x,autofocus:p,registry:y,placeholder:T,rawErrors:g})}u.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1};var l=u;t.default=l},41119:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(72791));n(r(52007));var o=function(e){var t=e.id,r=e.title,n=e.required;return a.default.createElement("legend",{id:t},r,n&&a.default.createElement("span",{className:"required"},"*"))};t.default=o},422:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(8450)),o=n(r(72791));n(r(52007));var i=function(e){var t=e.schema,r=e.idSchema,n=e.reason;return o.default.createElement("div",{className:"unsupported-field"},o.default.createElement("p",null,"Unsupported field schema",r&&r.$id&&o.default.createElement("span",null," for"," field ",o.default.createElement("code",null,r.$id)),n&&o.default.createElement("em",null,": ",n),"."),t&&o.default.createElement("pre",null,(0,a.default)(t,null,2)))};t.default=i},29761:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(80262)),o=n(r(46533)),i=n(r(97142)),s=n(r(49213)),c=n(r(35553)),u=n(r(13417)),l=n(r(74430)),f=n(r(36186)),d=n(r(41119)),p=n(r(46733)),h=n(r(422)),m={AnyOfField:s.default,ArrayField:a.default,BooleanField:o.default,DescriptionField:i.default,NumberField:c.default,ObjectField:u.default,OneOfField:s.default,SchemaField:l.default,StringField:f.default,TitleField:d.default,NullField:p.default,UnsupportedField:h.default};t.default=m},81598:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(91044)),o=n(r(66660)),i=n(r(72791)),s=(n(r(52007)),n(r(40566)));function c(e){var t=e.registry.widgets.AltDateWidget;return i.default.createElement(t,(0,o.default)({time:!0},e))}c.defaultProps=(0,a.default)({},s.default.defaultProps,{time:!0});var u=c;t.default=u},40566:function(e,t,r){"use strict";var n=r(17343),a=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(66660)),i=a(r(16508)),s=a(r(54998)),c=a(r(76942)),u=a(r(54959)),l=a(r(89653)),f=a(r(83174)),d=a(r(36861)),p=a(r(26243)),h=n(r(72791)),m=(a(r(52007)),r(86031));function v(e,t){for(var r=[],n=e;n<=t;n++)r.push({value:n,label:(0,m.pad)(n,2)});return r}function _(e){var t=e.type,r=e.range,n=e.value,a=e.select,o=e.rootId,i=e.disabled,s=e.readonly,c=e.autofocus,u=e.registry,l=e.onBlur,f=o+"_"+t,d=u.widgets.SelectWidget;return h.default.createElement(d,{schema:{type:"integer"},id:f,className:"form-control",options:{enumOptions:v(r[0],r[1])},placeholder:t,value:n,disabled:i,readonly:s,autofocus:c,onChange:function(e){return a(t,e)},onBlur:l})}var y=function(e){function t(e){var r;return(0,i.default)(this,t),r=(0,c.default)(this,(0,u.default)(t).call(this,e)),(0,d.default)((0,l.default)(r),"onChange",(function(e,t){r.setState((0,d.default)({},e,"undefined"===typeof t?-1:t),(function(){var e;e=r.state,(0,p.default)(e).every((function(t){return-1!==e[t]}))&&r.props.onChange((0,m.toDateString)(r.state,r.props.time))}))})),(0,d.default)((0,l.default)(r),"setNow",(function(e){e.preventDefault();var t=r.props,n=t.time,a=t.disabled,o=t.readonly,i=t.onChange;if(!a&&!o){var s=(0,m.parseDateString)((new Date).toJSON(),n);r.setState(s,(function(){return i((0,m.toDateString)(r.state,n))}))}})),(0,d.default)((0,l.default)(r),"clear",(function(e){e.preventDefault();var t=r.props,n=t.time,a=t.disabled,o=t.readonly,i=t.onChange;a||o||r.setState((0,m.parseDateString)("",n),(function(){return i(void 0)}))})),r.state=(0,m.parseDateString)(e.value,e.time),r}return(0,f.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState((0,m.parseDateString)(e.value,e.time))}},{key:"shouldComponentUpdate",value:function(e,t){return(0,m.shouldRender)(this,e,t)}},{key:"render",value:function(){var e=this,t=this.props,r=t.id,n=t.disabled,a=t.readonly,i=t.autofocus,s=t.registry,c=t.onBlur,u=t.options;return h.default.createElement("ul",{className:"list-inline"},this.dateElementProps.map((function(t,u){return h.default.createElement("li",{key:u},h.default.createElement(_,(0,o.default)({rootId:r,select:e.onChange},t,{disabled:n,readonly:a,registry:s,onBlur:c,autofocus:i&&0===u})))})),("undefined"===u.hideNowButton||!u.hideNowButton)&&h.default.createElement("li",null,h.default.createElement("a",{href:"#",className:"btn btn-info btn-now",onClick:this.setNow},"Now")),("undefined"===u.hideClearButton||!u.hideClearButton)&&h.default.createElement("li",null,h.default.createElement("a",{href:"#",className:"btn btn-warning btn-clear",onClick:this.clear},"Clear")))}},{key:"dateElementProps",get:function(){var e=this.props,t=e.time,r=e.options,n=this.state,a=n.year,o=n.month,i=n.day,s=n.hour,c=n.minute,u=n.second,l=[{type:"year",range:r.yearsRange,value:a},{type:"month",range:[1,12],value:o},{type:"day",range:[1,31],value:i}];return t&&l.push({type:"hour",range:[0,23],value:s},{type:"minute",range:[0,59],value:c},{type:"second",range:[0,59],value:u}),l}}]),t}(h.Component);(0,d.default)(y,"defaultProps",{time:!1,disabled:!1,readonly:!1,autofocus:!1,options:{yearsRange:[1900,(new Date).getFullYear()+2]}});var g=y;t.default=g},14799:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(66660)),o=n(r(94774)),i=n(r(8450)),s=n(r(72791));n(r(52007));function c(e){if(!e.id)throw console.log("No id for",e),new Error("no id for props ".concat((0,i.default)(e)));var t=e.value,r=e.readonly,n=e.disabled,c=e.autofocus,u=e.onBlur,l=e.onFocus,f=e.options,d=e.schema,p=(e.formContext,e.registry,e.rawErrors,(0,o.default)(e,["value","readonly","disabled","autofocus","onBlur","onFocus","options","schema","formContext","registry","rawErrors"]));f.inputType?p.type=f.inputType:p.type||("number"===d.type?(p.type="number",p.step="any"):"integer"===d.type?(p.type="number",p.step="1"):p.type="text"),d.multipleOf&&(p.step=d.multipleOf),"undefined"!==typeof d.minimum&&(p.min=d.minimum),"undefined"!==typeof d.maximum&&(p.max=d.maximum);return s.default.createElement("input",(0,a.default)({className:"form-control",readOnly:r,disabled:n,autoFocus:c,value:null==t?"":t},p,{onChange:function(t){var r=t.target.value;return e.onChange(""===r?f.emptyValue:r)},onBlur:u&&function(e){return u(p.id,e.target.value)},onFocus:l&&function(e){return l(p.id,e.target.value)}}))}c.defaultProps={required:!1,disabled:!1,readonly:!1,autofocus:!1};var u=c;t.default=u},53600:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(72791)),o=(n(r(52007)),n(r(97142)));function i(e){return!!e.const||(!(!e.enum||1!==e.enum.length||!0!==e.enum[0])||(e.anyOf&&1===e.anyOf.length?i(e.anyOf[0]):e.oneOf&&1===e.oneOf.length?i(e.oneOf[0]):e.allOf?e.allOf.some(i):void 0))}function s(e){var t=e.schema,r=e.id,n=e.value,s=e.disabled,c=e.readonly,u=e.label,l=e.autofocus,f=e.onBlur,d=e.onFocus,p=e.onChange,h=i(t);return a.default.createElement("div",{className:"checkbox ".concat(s||c?"disabled":"")},t.description&&a.default.createElement(o.default,{description:t.description}),a.default.createElement("label",null,a.default.createElement("input",{type:"checkbox",id:r,checked:"undefined"!==typeof n&&n,required:h,disabled:s||c,autoFocus:l,onChange:function(e){return p(e.target.checked)},onBlur:f&&function(e){return f(r,e.target.checked)},onFocus:d&&function(e){return d(r,e.target.checked)}}),a.default.createElement("span",null,u)))}s.defaultProps={autofocus:!1};var c=s;t.default=c},23320:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(72791));n(r(52007));function o(e){var t=e.id,r=e.disabled,n=e.options,o=e.value,i=e.autofocus,s=e.readonly,c=e.onChange,u=n.enumOptions,l=n.enumDisabled,f=n.inline;return a.default.createElement("div",{className:"checkboxes",id:t},u.map((function(e,n){var d=-1!==o.indexOf(e.value),p=l&&-1!=l.indexOf(e.value),h=r||p||s?"disabled":"",m=a.default.createElement("span",null,a.default.createElement("input",{type:"checkbox",id:"".concat(t,"_").concat(n),checked:d,disabled:r||p||s,autoFocus:i&&0===n,onChange:function(t){var r=u.map((function(e){return e.value}));t.target.checked?c(function(e,t,r){var n=r.indexOf(e);return t.slice(0,n).concat(e,t.slice(n)).sort((function(e,t){return r.indexOf(e)>r.indexOf(t)}))}(e.value,o,r)):c(function(e,t){return t.filter((function(t){return t!==e}))}(e.value,o))}}),a.default.createElement("span",null,e.label));return f?a.default.createElement("label",{key:n,className:"checkbox-inline ".concat(h)},m):a.default.createElement("div",{key:n,className:"checkbox ".concat(h)},a.default.createElement("label",null,m))})))}o.defaultProps={autofocus:!1,options:{inline:!1}};var i=o;t.default=i},11385:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(66660)),o=n(r(72791));n(r(52007));var i=function(e){var t=e.disabled,r=e.readonly,n=e.registry.widgets.BaseInput;return o.default.createElement(n,(0,a.default)({type:"color"},e,{disabled:t||r}))};t.default=i},47565:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.utcToLocal=s,t.localToUTC=c,t.default=void 0;var a=n(r(66660)),o=n(r(72791)),i=(n(r(52007)),r(86031));function s(e){if(!e)return"";var t=new Date(e),r=(0,i.pad)(t.getFullYear(),4),n=(0,i.pad)(t.getMonth()+1,2),a=(0,i.pad)(t.getDate(),2),o=(0,i.pad)(t.getHours(),2),s=(0,i.pad)(t.getMinutes(),2),c=(0,i.pad)(t.getSeconds(),2),u=(0,i.pad)(t.getMilliseconds(),3);return"".concat(r,"-").concat(n,"-").concat(a,"T").concat(o,":").concat(s,":").concat(c,".").concat(u)}function c(e){if(e)return new Date(e).toJSON()}var u=function(e){var t=e.value,r=e.onChange,n=e.registry.widgets.BaseInput;return o.default.createElement(n,(0,a.default)({type:"datetime-local"},e,{value:s(t),onChange:function(e){return r(c(e))}}))};t.default=u},52250:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(66660)),o=n(r(72791));n(r(52007));var i=function(e){var t=e.onChange,r=e.registry.widgets.BaseInput;return o.default.createElement(r,(0,a.default)({type:"date"},e,{onChange:function(e){return t(e||void 0)}}))};t.default=i},26101:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(66660)),o=n(r(72791));n(r(52007));var i=function(e){var t=e.registry.widgets.BaseInput;return o.default.createElement(t,(0,a.default)({type:"email"},e))};t.default=i},97158:function(e,t,r){"use strict";var n=r(17343),a=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(78149)),i=a(r(16508)),s=a(r(54998)),c=a(r(76942)),u=a(r(54959)),l=a(r(89653)),f=a(r(83174)),d=a(r(36861)),p=a(r(73473)),h=n(r(72791)),m=(a(r(52007)),r(86031));function v(e,t){return e.replace(";base64",";name=".concat(encodeURIComponent(t),";base64"))}function _(e){var t=e.name,r=e.size,n=e.type;return new p.default((function(a,o){var i=new window.FileReader;i.onerror=o,i.onload=function(e){a({dataURL:v(e.target.result,t),name:t,size:r,type:n})},i.readAsDataURL(e)}))}function y(e){var t=e.filesInfo;return 0===t.length?null:h.default.createElement("ul",{className:"file-info"},t.map((function(e,t){var r=e.name,n=e.size,a=e.type;return h.default.createElement("li",{key:t},h.default.createElement("strong",null,r)," (",a,", ",n," bytes)")})))}var g=function(e){function t(e){var r;(0,i.default)(this,t),r=(0,c.default)(this,(0,u.default)(t).call(this,e)),(0,d.default)((0,l.default)(r),"onChange",(function(e){var t,n=r.props,a=n.multiple,o=n.onChange;(t=e.target.files,p.default.all([].map.call(t,_))).then((function(e){var t={values:e.map((function(e){return e.dataURL})),filesInfo:e};r.setState(t,(function(){o(a?t.values:t.values[0])}))}))}));var n,a=e.value,s=(0,o.default)(a)?a:[a];return r.state={values:s,filesInfo:(n=s,n.filter((function(e){return"undefined"!==typeof e})).map((function(e){var t=(0,m.dataURItoBlob)(e),r=t.blob;return{name:t.name,size:r.size,type:r.type}})))},r}return(0,f.default)(t,e),(0,s.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return(0,m.shouldRender)(this,e,t)}},{key:"render",value:function(){var e=this,t=this.props,r=t.multiple,n=t.id,a=t.readonly,o=t.disabled,i=t.autofocus,s=t.options,c=this.state.filesInfo;return h.default.createElement("div",null,h.default.createElement("p",null,h.default.createElement("input",{ref:function(t){return e.inputRef=t},id:n,type:"file",disabled:a||o,onChange:this.onChange,defaultValue:"",autoFocus:i,multiple:r,accept:s.accept})),h.default.createElement(y,{filesInfo:c}))}}]),t}(h.Component);g.defaultProps={autofocus:!1};var b=g;t.default=b},91619:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(72791));n(r(52007));var o=function(e){var t=e.id,r=e.value;return a.default.createElement("input",{type:"hidden",id:t,value:"undefined"===typeof r?"":r})};t.default=o},74936:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(66660)),o=n(r(72791));n(r(52007));var i=function(e){var t=e.registry.widgets.BaseInput;return o.default.createElement(t,(0,a.default)({type:"password"},e))};t.default=i},92885:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(72791));n(r(52007));function o(e){var t=e.options,r=e.value,n=e.required,o=e.disabled,i=e.readonly,s=e.autofocus,c=e.onBlur,u=e.onFocus,l=e.onChange,f=e.id,d=Math.random().toString(),p=t.enumOptions,h=t.enumDisabled,m=t.inline;return a.default.createElement("div",{className:"field-radio-group",id:f},p.map((function(e,t){var p=e.value===r,v=h&&-1!=h.indexOf(e.value),_=o||v||i?"disabled":"",y=a.default.createElement("span",null,a.default.createElement("input",{type:"radio",checked:p,name:d,required:n,value:e.value,disabled:o||v||i,autoFocus:s&&0===t,onChange:function(t){return l(e.value)},onBlur:c&&function(e){return c(f,e.target.value)},onFocus:u&&function(e){return u(f,e.target.value)}}),a.default.createElement("span",null,e.label));return m?a.default.createElement("label",{key:t,className:"radio-inline ".concat(_)},y):a.default.createElement("div",{key:t,className:"radio ".concat(_)},a.default.createElement("label",null,y))})))}o.defaultProps={autofocus:!1};var i=o;t.default=i},81405:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(66660)),o=n(r(72791)),i=(n(r(52007)),r(86031));var s=function(e){var t=e.schema,r=e.value,n=e.registry.widgets.BaseInput;return o.default.createElement("div",{className:"field-range-wrapper"},o.default.createElement(n,(0,a.default)({type:"range"},e,(0,i.rangeSpec)(t))),o.default.createElement("span",{className:"range-view"},r))};t.default=s},16176:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(90487)),o=n(r(72791)),i=(n(r(52007)),r(86031)),s=new a.default(["number","integer"]);function c(e,t){var r=e.type,n=e.items;if(""!==t){if("array"===r&&n&&s.has(n.type))return t.map(i.asNumber);if("boolean"===r)return"true"===t;if("number"===r)return(0,i.asNumber)(t);if(e.enum){if(e.enum.every((function(e){return"number"===(0,i.guessType)(e)})))return(0,i.asNumber)(t);if(e.enum.every((function(e){return"boolean"===(0,i.guessType)(e)})))return"true"===t}return t}}function u(e,t){return t?[].slice.call(e.target.options).filter((function(e){return e.selected})).map((function(e){return e.value})):e.target.value}function l(e){var t=e.schema,r=e.id,n=e.options,a=e.value,i=e.required,s=e.disabled,l=e.readonly,f=e.multiple,d=e.autofocus,p=e.onChange,h=e.onBlur,m=e.onFocus,v=e.placeholder,_=n.enumOptions,y=n.enumDisabled,g=f?[]:"";return o.default.createElement("select",{id:r,multiple:f,className:"form-control",value:"undefined"===typeof a?g:a,required:i,disabled:s||l,autoFocus:d,onBlur:h&&function(e){var n=u(e,f);h(r,c(t,n))},onFocus:m&&function(e){var n=u(e,f);m(r,c(t,n))},onChange:function(e){var r=u(e,f);p(c(t,r))}},!f&&void 0===t.default&&o.default.createElement("option",{value:""},v),_.map((function(e,t){var r=e.value,n=e.label,a=y&&-1!=y.indexOf(r);return o.default.createElement("option",{key:t,value:r,disabled:a},n)})))}l.defaultProps={autofocus:!1};var f=l;t.default=f},36187:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(72791));n(r(52007));var o=function(e){var t=e.registry.widgets.BaseInput;return a.default.createElement(t,e)};t.default=o},51587:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(72791));n(r(52007));function o(e){var t=e.id,r=e.options,n=e.placeholder,o=e.value,i=e.required,s=e.disabled,c=e.readonly,u=e.autofocus,l=e.onChange,f=e.onBlur,d=e.onFocus;return a.default.createElement("textarea",{id:t,className:"form-control",value:"undefined"===typeof o?"":o,placeholder:n,required:i,disabled:s,readOnly:c,autoFocus:u,rows:r.rows,onBlur:f&&function(e){return f(t,e.target.value)},onFocus:d&&function(e){return d(t,e.target.value)},onChange:function(e){var t=e.target.value;return l(""===t?r.emptyValue:t)}})}o.defaultProps={autofocus:!1,options:{}};var i=o;t.default=i},36274:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(66660)),o=n(r(72791));n(r(52007));var i=function(e){var t=e.registry.widgets.BaseInput;return o.default.createElement(t,(0,a.default)({type:"url"},e))};t.default=i},48702:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(66660)),o=n(r(72791)),i=(n(r(52007)),r(86031));var s=function(e){var t=e.registry.widgets.BaseInput;return o.default.createElement(t,(0,a.default)({type:"number"},e,(0,i.rangeSpec)(e.schema)))};t.default=s},15593:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(40566)),o=n(r(81598)),i=n(r(14799)),s=n(r(53600)),c=n(r(23320)),u=n(r(11385)),l=n(r(52250)),f=n(r(47565)),d=n(r(26101)),p=n(r(97158)),h=n(r(91619)),m=n(r(74936)),v=n(r(92885)),_=n(r(81405)),y=n(r(16176)),g=n(r(51587)),b=n(r(36187)),w=n(r(36274)),k=n(r(48702)),x={BaseInput:i.default,PasswordWidget:m.default,RadioWidget:v.default,UpDownWidget:k.default,RangeWidget:_.default,SelectWidget:y.default,TextWidget:b.default,DateWidget:l.default,DateTimeWidget:f.default,AltDateWidget:a.default,AltDateTimeWidget:o.default,EmailWidget:d.default,URLWidget:w.default,TextareaWidget:g.default,HiddenWidget:h.default,ColorWidget:u.default,FileWidget:p.default,CheckboxWidget:s.default,CheckboxesWidget:c.default};t.default=x},38531:function(e,t,r){"use strict";var n=r(82569),a=r(26771);a(t,"__esModule",{value:!0}),a(t,"withTheme",{enumerable:!0,get:function(){return i.default}}),t.default=void 0;var o=n(r(69213)),i=n(r(33194)),s=o.default;t.default=s},52753:function(e,t,r){"use strict";var n=r(82569);r(26771)(t,"__esModule",{value:!0}),t.fieldProps=t.registry=void 0;var a=n(r(52007)),o=a.default.shape({ArrayFieldTemplate:a.default.func,FieldTemplate:a.default.func,ObjectFieldTemplate:a.default.func,definitions:a.default.object.isRequired,fields:a.default.objectOf(a.default.func).isRequired,formContext:a.default.object.isRequired,widgets:a.default.objectOf(a.default.oneOfType([a.default.func,a.default.object])).isRequired});t.registry=o;var i={autofocus:a.default.bool,disabled:a.default.bool,errorSchema:a.default.object,formData:a.default.any,idSchema:a.default.object,onBlur:a.default.func,onChange:a.default.func.isRequired,onFocus:a.default.func,rawErrors:a.default.arrayOf(a.default.string),readonly:a.default.bool,registry:o.isRequired,required:a.default.bool,schema:a.default.object.isRequired,uiSchema:a.default.shape({"ui:options":a.default.shape({addable:a.default.bool,orderable:a.default.bool,removable:a.default.bool})})};t.fieldProps=i},86031:function(t,r,n){"use strict";var a=n(17343),o=n(82569);n(26771)(r,"__esModule",{value:!0}),r.getDefaultRegistry=function(){return{fields:n(29761).default,widgets:n(15593).default,definitions:{},formContext:{}}},r.getSchemaType=O,r.getWidget=P,r.hasWidget=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return P(t,r,n),!0}catch(e){if(e.message&&(e.message.startsWith("No widget")||e.message.startsWith("Unsupported widget")))return!1;throw e}},r.getDefaultFormState=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!T(e))throw new Error("Invalid schema: "+e);var a=A(W(e,r,t),e.default,r,t,n);if("undefined"===typeof t)return a;if(T(t))return C(a,t);if(0===t)return t;return t||a},r.getUiOptions=function(e){return(0,m.default)(e).filter((function(e){return 0===e.indexOf("ui:")})).reduce((function(t,r){var n=e[r];return"ui:widget"===r&&T(n)?(console.warn("Setting options via ui:widget object is deprecated, use ui:options instead"),(0,y.default)({},t,n.options||{},{widget:n.component})):"ui:options"===r&&T(n)?(0,y.default)({},t,n):(0,y.default)({},t,(0,p.default)({},r.substring(3),n))}),{})},r.isObject=T,r.mergeObjects=C,r.asNumber=function(e){if(""===e)return;if(null===e)return null;if(/\.$/.test(e))return e;if(/\.0$/.test(e))return e;var t=Number(e),r="number"===typeof t&&!(0,f.default)(t);if(/\.\d*0$/.test(e))return e;return r?t:e},r.orderProperties=function(e,t){if(!(0,h.default)(t))return e;var r=function(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})},n=function(e){return e.length>1?"properties '".concat(e.join("', '"),"'"):"property '".concat(e[0],"'")},a=r(e),o=t.filter((function(e){return"*"!==e&&!a[e]}));o.length&&console.warn("uiSchema order list contains extraneous ".concat(n(o)));var i=t.filter((function(e){return"*"===e||a[e]})),s=r(i),c=e.filter((function(e){return!s[e]})),u=i.indexOf("*");if(-1===u){if(c.length)throw new Error("uiSchema order list does not contain ".concat(n(c)));return i}if(u!==i.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");var f=(0,l.default)(i);return f.splice.apply(f,[u,1].concat((0,l.default)(c))),f},r.isConstant=R,r.toConstant=I,r.isSelect=D,r.isMultiSelect=F,r.isFilesArray=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("files"===t["ui:widget"])return!0;if(e.items){var n=W(e.items,r);return"string"===n.type&&"data-url"===n.format}return!1},r.isFixedItems=N,r.allowAdditionalItems=function(e){!0===e.additionalItems&&console.warn("additionalItems=true is currently not supported");return T(e.additionalItems)},r.optionsList=function(e){return e.enum?e.enum.map((function(t,r){return{label:e.enumNames&&e.enumNames[r]||String(t),value:t}})):(e.oneOf||e.anyOf).map((function(e,t){var r=I(e);return{label:e.title||String(r),value:r}}))},r.stubExistingAdditionalProperties=q,r.resolveSchema=L,r.retrieveSchema=W,r.deepEquals=J,r.shouldRender=function(e,t,r){var n=e.props,a=e.state;return!J(n,t)||!J(a,r)},r.toIdSchema=function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"root",i={$id:r||o};if("$ref"in t||"dependencies"in t){var s=W(t,n,a);return e(s,r,n,a,o)}if("items"in t&&!t.items.$ref)return e(t.items,r,n,a,o);if("object"!==t.type)return i;for(var c in t.properties||{}){var u=t.properties[c],l=i.$id+"_"+c;i[c]=e(u,l,n,(a||{})[c],o)}return i},r.toPathSchema=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={$name:r.replace(/^\./,"")};if("$ref"in t||"dependencies"in t){var i=W(t,n,a);return e(i,r,n,a)}if(t.hasOwnProperty("items")&&(0,h.default)(a))a.forEach((function(a,i){o[i]=e(t.items,"".concat(r,".").concat(i),n,a)}));else if(t.hasOwnProperty("properties"))for(var s in t.properties)o[s]=e(t.properties[s],"".concat(r,".").concat(s),n,(a||{})[s]);return o},r.parseDateString=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return{year:-1,month:-1,day:-1,hour:t?-1:0,minute:t?-1:0,second:t?-1:0};var r=new Date(e);if((0,f.default)(r.getTime()))throw new Error("Unable to parse date "+e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:t?r.getUTCHours():0,minute:t?r.getUTCMinutes():0,second:t?r.getUTCSeconds():0}},r.toDateString=function(e){var t=e.year,r=e.month,n=e.day,a=e.hour,o=void 0===a?0:a,i=e.minute,s=void 0===i?0:i,c=e.second,u=void 0===c?0:c,l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=Date.UTC(t,r-1,n,o,s,u),d=new Date(f).toJSON();return l?d:d.slice(0,10)},r.pad=function(e,t){var r=String(e);for(;r.length<t;)r="0"+r;return r},r.setState=function(e,t,r){e.props.safeRenderCompletion?e.setState(t,r):(e.setState(t),setTimeout(r,0))},r.dataURItoBlob=function(e){var t,r=e.split(","),n=r[0].split(";"),a=n[0].replace("data:",""),o=n.filter((function(e){return"name"===e.split("=")[0]}));t=1!==o.length?"unknown":o[0].split("=")[1];for(var i=atob(r[1]),s=[],c=0;c<i.length;c++)s.push(i.charCodeAt(c));return{blob:new window.Blob([new Uint8Array(s)],{type:a}),name:t}},r.rangeSpec=function(e){var t={};e.multipleOf&&(t.step=e.multipleOf);(e.minimum||0===e.minimum)&&(t.min=e.minimum);(e.maximum||0===e.maximum)&&(t.max=e.maximum);return t},r.getMatchingOption=Q,r.guessType=r.ADDITIONAL_PROPERTY_FLAG=void 0;var i=o(n(64233)),s=o(n(90487)),c=o(n(27921)),u=o(n(16490)),l=o(n(23420)),f=o(n(7520)),d=o(n(18428)),p=o(n(36861)),h=o(n(78149)),m=o(n(26243)),v=o(n(63207)),_=o(n(66660)),y=o(n(91044)),g=o(n(94774)),b=o(n(72791)),w=a(n(80102)),k=o(n(69153)),x=a(n(3067));function j(e){var t=function(e,t){if("object"!==(0,v.default)(e)||null===e)return e;var r=e[i.default];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==(0,v.default)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,v.default)(t)?t:String(t)}var E="__additional_property";r.ADDITIONAL_PROPERTY_FLAG=E;var S={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function O(e){var t=e.type;return!t&&e.const?U(e.const):!t&&e.enum?"string":t||!e.properties&&!e.additionalProperties?t instanceof Array&&2===t.length&&t.includes("null")?t.find((function(e){return"null"!==e})):t:"object"}function P(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=O(e);if("function"===typeof t||w.isForwardRef(t))return function(e){if(!e.MergedWidget){var t=e.defaultProps&&e.defaultProps.options||{};e.MergedWidget=function(r){var n=r.options,a=void 0===n?{}:n,o=(0,g.default)(r,["options"]);return b.default.createElement(e,(0,_.default)({options:(0,y.default)({},t,a)},o))}}return e.MergedWidget}(t);if("string"!==typeof t)throw new Error("Unsupported widget definition: ".concat((0,v.default)(t)));if(r.hasOwnProperty(t))return P(e,r[t],r);if(!S.hasOwnProperty(n))throw new Error('No widget for type "'.concat(n,'"'));if(S[n].hasOwnProperty(t))return P(e,r[S[n][t]],r);throw new Error('No widget "'.concat(t,'" for type "').concat(n,'"'))}function A(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=T(n)?n:{},i=t;if(T(i)&&T(e.default))i=C(i,e.default);else if("default"in e)i=e.default;else{if("$ref"in e)return A(M(e.$ref,r),i,r,o,a);if("dependencies"in e)return A(B(e,r,o),i,r,o,a);N(e)?i=e.items.map((function(e){return A(e,void 0,r,o,a)})):"oneOf"in e?e=e.oneOf[Q(void 0,e.oneOf,r)]:"anyOf"in e&&(e=e.anyOf[Q(void 0,e.anyOf,r)])}switch("undefined"===typeof i&&(i=e.default),O(e)){case"object":return(0,m.default)(e.properties||{}).reduce((function(t,n){var s=A(e.properties[n],(i||{})[n],r,(o||{})[n],a);return(a||void 0!==s)&&(t[n]=s),t}),{});case"array":if(e.minItems){if(F(e,r))return i||[];var s=i?i.length:0;if(e.minItems>s){var c=i||[],u=(0,h.default)(e.items)?e.additionalItems:e.items,l=(0,k.default)(new Array(e.minItems-s),A(u,u.defaults,r));return c.concat(l)}}}return i}function T(e){return!("undefined"!==typeof File&&e instanceof File)&&("object"===(0,v.default)(e)&&null!==e&&!(0,h.default)(e))}function C(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,d.default)({},e);return(0,m.default)(t).reduce((function(n,a){var o=e?e[a]:{},i=t[a];return e&&e.hasOwnProperty(a)&&T(i)?n[a]=C(o,i,r):r&&(0,h.default)(o)&&(0,h.default)(i)?n[a]=o.concat(i):n[a]=i,n}),n)}function R(e){return(0,h.default)(e.enum)&&1===e.enum.length||e.hasOwnProperty("const")}function I(e){if((0,h.default)(e.enum)&&1===e.enum.length)return e.enum[0];if(e.hasOwnProperty("const"))return e.const;throw new Error("schema cannot be inferred as a constant")}function D(e){var t=W(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=t.oneOf||t.anyOf;return!!(0,h.default)(t.enum)||!!(0,h.default)(r)&&r.every((function(e){return R(e)}))}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!(!e.uniqueItems||!e.items)&&D(e.items,t)}function N(e){return(0,h.default)(e.items)&&e.items.length>0&&e.items.every((function(e){return T(e)}))}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=/^#\/definitions\/(.*)$/.exec(e);if(r&&r[1]){var n=r[1].split("/"),a=t,o=!0,i=!1,s=void 0;try{for(var c,l=(0,u.default)(n);!(o=(c=l.next()).done);o=!0){var f=c.value;for(f=f.replace(/~1/g,"/").replace(/~0/g,"~");a.hasOwnProperty("$ref");)a=M(a.$ref,t);if(!a.hasOwnProperty(f))throw new Error("Could not find a definition for ".concat(e,"."));a=a[f]}}catch(d){i=!0,s=d}finally{try{o||null==l.return||l.return()}finally{if(i)throw s}}return a}throw new Error("Could not find a definition for ".concat(e,"."))}var U=function(e){return(0,h.default)(e)?"array":"string"===typeof e?"string":null==e?"null":"boolean"===typeof e?"boolean":isNaN(e)?"object"===(0,v.default)(e)?"object":"string":"number"};function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=(0,y.default)({},e,{properties:(0,y.default)({},e.properties)}),(0,m.default)(r).forEach((function(n){var a;e.properties.hasOwnProperty(n)||(a=e.additionalProperties.hasOwnProperty("$ref")?W({$ref:e.additionalProperties.$ref},t,r):e.additionalProperties.hasOwnProperty("type")?(0,y.default)({},e.additionalProperties):{type:U(r[n])},e.properties[n]=a,e.properties[n][E]=!0)})),e}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.hasOwnProperty("$ref")?$(e,t,r):e.hasOwnProperty("dependencies")?W(B(e,t,r),t,r):e}function $(e,t,r){var n=M(e.$ref,t),a=(e.$ref,(0,g.default)(e,["$ref"]));return W((0,y.default)({},n,a),t,r)}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=L(e,t,r);return n.hasOwnProperty("additionalProperties")&&!1!==n.additionalProperties?q(n,t,r):n}function B(e,t,r){var n=e.dependencies,a=void 0===n?{}:n,o=(0,g.default)(e,["dependencies"]);return"oneOf"in o?o=o.oneOf[Q(r,o.oneOf,t)]:"anyOf"in o&&(o=o.anyOf[Q(r,o.anyOf,t)]),z(a,o,t,r)}function z(e,t,r,n){for(var a in e)if(void 0!==n[a]&&(!t.properties||a in t.properties)){var o=e[a],i=(0,g.default)(e,[a].map(j));return(0,h.default)(o)?t=V(t,o):T(o)&&(t=K(t,r,n,a,o)),z(i,t,r,n)}return t}function V(e,t){if(!t)return e;var r=(0,h.default)(e.required)?(0,c.default)(new s.default([].concat((0,l.default)(e.required),(0,l.default)(t)))):t;return(0,y.default)({},e,{required:r})}function K(e,t,r,n,a){var o=W(a,t,r),i=o.oneOf;if(e=H(e,(0,g.default)(o,["oneOf"])),void 0===i)return e;if(!(0,h.default)(i))throw new Error("invalid: it is some ".concat((0,v.default)(i)," instead of an array"));var s=i.map((function(e){return e.hasOwnProperty("$ref")?$(e,t,r):e}));return function(e,t,r,n,a){var o=a.filter((function(e){if(!e.properties)return!1;var t=e.properties[n];if(t){var a={type:"object",properties:(0,p.default)({},n,t)};return 0===(0,x.default)(r,a).errors.length}}));if(1!==o.length)return console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),e;var i=o[0],s=i.properties,c=(s[n],(0,g.default)(s,[n].map(j))),u=(0,y.default)({},i,{properties:c});return H(e,W(u,t,r))}(e,t,r,n,s)}function H(e,t){return C(e,t,!0)}function G(e){return"[object Arguments]"===Object.prototype.toString.call(e)}function J(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(e===t)return!0;if("function"===typeof e||"function"===typeof t)return!0;if("object"!==(0,v.default)(e)||"object"!==(0,v.default)(t))return!1;if(null===e||null===t)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp&&t instanceof RegExp)return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(G(e)||G(t)){if(!G(e)||!G(t))return!1;var a=Array.prototype.slice;return J(a.call(e),a.call(t),r,n)}if(e.constructor!==t.constructor)return!1;var o=(0,m.default)(e),i=(0,m.default)(t);if(0===o.length&&0===i.length)return!0;if(o.length!==i.length)return!1;for(var s,c=r.length;c--;)if(r[c]===e)return n[c]===t;r.push(e),n.push(t),o.sort(),i.sort();for(var u=o.length-1;u>=0;u--)if(o[u]!==i[u])return!1;for(var l=o.length-1;l>=0;l--)if(!J(e[s=o[l]],t[s],r,n))return!1;return r.pop(),n.pop(),!0}function Q(e,t,r){for(var n=0;n<t.length;n++){var a=(0,d.default)({definitions:r},t[n]);if(a.properties){var o={anyOf:(0,m.default)(a.properties).map((function(e){return{required:[e]}}))},i=void 0;if(a.anyOf){var s=(0,_.default)({},a);s.allOf?s.allOf=s.allOf.slice():s.allOf=[],s.allOf.push(o),i=s}else i=(0,d.default)({},a,o);if(delete i.required,(0,x.isValid)(i,e))return n}else if((0,x.isValid)(t[n],e))return n}return 0}r.guessType=U},3067:function(t,r,n){"use strict";var a=n(82569);n(26771)(r,"__esModule",{value:!0}),r.toErrorList=y,r.default=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},d=t.definitions;e=(0,p.getDefaultFormState)(t,e,d,!0);var w=!(0,p.deepEquals)(v,a),k=!(0,p.deepEquals)(m,i);(w||k)&&(h=_());a&&w&&(0,l.default)(a)&&(h.addMetaSchema(a),v=a);i&&k&&(0,p.isObject)(i)&&((0,c.default)(i).forEach((function(e){h.addFormat(e,i[e])})),m=i);var x=null;try{h.validate(t,e)}catch(A){x=A}var j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(null===e)return[];return e.map((function(e){var t=e.dataPath,r=e.keyword,n=e.message,a=e.params,o=e.schemaPath,i="".concat(t);return{name:r,property:i,message:n,params:a,stack:"".concat(i," ").concat(n).trim(),schemaPath:o}}))}(h.errors);h.errors=null;var E=x&&x.message&&"string"===typeof x.message&&x.message.includes("no schema with key or ref ");E&&(j=[].concat((0,o.default)(j),[{stack:x.message}]));"function"===typeof n&&(j=n(j));var S=function(e){if(!e.length)return{};return e.reduce((function(e,t){var r=t.property,n=t.message,a=(0,f.default)(r),o=e;a.length>0&&""===a[0]&&a.splice(0,1);var i=!0,s=!1,c=void 0;try{for(var d,p=(0,u.default)(a.slice(0));!(i=(d=p.next()).done);i=!0){var h=d.value;h in o||(o[h]={}),o=o[h]}}catch(A){s=!0,c=A}finally{try{i||null==p.return||p.return()}finally{if(s)throw c}}return(0,l.default)(o.__errors)?o.__errors=o.__errors.concat(n):n&&(o.__errors=[n]),e}),{})}(j);E&&(S=(0,s.default)({},S,{$schema:{__errors:[x.message]}}));if("function"!==typeof r)return{errors:j,errorSchema:S};var O=b(r(e,g(e))),P=(0,p.mergeObjects)(S,O,!0);return{errors:y(P),errorSchema:P}},r.isValid=function(t,r){try{return h.validate(t,r)}catch(e){return!1}};var o=a(n(23420)),i=a(n(36861)),s=a(n(91044)),c=a(n(26243)),u=a(n(16490)),l=a(n(78149)),f=a(n(40168)),d=a(n(85259)),p=n(86031),h=_(),m=null,v=null;function _(){var e=new d.default({errorDataPath:"property",allErrors:!0,multipleOfPrecision:8,schemaId:"auto",unknownFormats:"ignore"});return e.addFormat("data-url",/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/),e.addFormat("color",/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/),e}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root",r=[];return"__errors"in e&&(r=r.concat(e.__errors.map((function(e){return{stack:"".concat(t,": ").concat(e)}})))),(0,c.default)(e).reduce((function(t,r){return"__errors"!==r&&(t=t.concat(y(e[r],r))),t}),r)}function g(e){var t={__errors:[],addError:function(e){this.__errors.push(e)}};return(0,p.isObject)(e)?(0,c.default)(e).reduce((function(t,r){return(0,s.default)({},t,(0,i.default)({},r,g(e[r])))}),t):(0,l.default)(e)?e.reduce((function(e,t,r){return(0,s.default)({},e,(0,i.default)({},r,g(t)))}),t):t}function b(e){return(0,c.default)(e).reduce((function(t,r){return"addError"===r?t:"__errors"===r?(0,s.default)({},t,(0,i.default)({},r,e[r])):(0,s.default)({},t,(0,i.default)({},r,b(e[r])))}),{})}},33194:function(e,t,r){"use strict";var n=r(17343),a=r(82569);r(26771)(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(66660)),i=a(r(91044)),s=a(r(94774)),c=a(r(16508)),u=a(r(54998)),l=a(r(76942)),f=a(r(54959)),d=a(r(83174)),p=n(r(72791)),h=a(r(52007)),m=a(r(38531));function v(e){return function(t){function r(){return(0,c.default)(this,r),(0,l.default)(this,(0,f.default)(r).apply(this,arguments))}return(0,d.default)(r,t),(0,u.default)(r,[{key:"render",value:function(){var t=this.props,r=t.fields,n=t.widgets,a=(0,s.default)(t,["fields","widgets"]);return r=(0,i.default)({},e.fields,r),n=(0,i.default)({},e.widgets,n),p.default.createElement(m.default,(0,o.default)({},e,a,{fields:r,widgets:n}))}}]),r}(p.Component)}v.propTypes={widgets:h.default.object,fields:h.default.object};var _=v;t.default=_},69153:function(e,t,r){r(65846),e.exports=r(66064).Array.fill},88691:function(e,t,r){r(6002),e.exports=r(66064).Array.includes},24623:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},89183:function(e){e.exports=function(){}},40368:function(e,t,r){var n=r(67277);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},16326:function(e,t,r){"use strict";var n=r(94563),a=r(4655),o=r(30557);e.exports=function(e){for(var t=n(this),r=o(t.length),i=arguments.length,s=a(i>1?arguments[1]:void 0,r),c=i>2?arguments[2]:void 0,u=void 0===c?r:a(c,r);u>s;)t[s++]=e;return t}},47322:function(e,t,r){var n=r(29385),a=r(30557),o=r(4655);e.exports=function(e){return function(t,r,i){var s,c=n(t),u=a(c.length),l=o(i,u);if(e&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}}},61022:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},66064:function(e){var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},95817:function(e,t,r){var n=r(24623);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},77172:function(e){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},62275:function(e,t,r){e.exports=!r(21626)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},49532:function(e,t,r){var n=r(67277),a=r(90489).document,o=n(a)&&n(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},8724:function(e,t,r){var n=r(90489),a=r(66064),o=r(95817),i=r(20932),s=r(28126),c="prototype",u=function e(t,r,u){var l,f,d,p=t&e.F,h=t&e.G,m=t&e.S,v=t&e.P,_=t&e.B,y=t&e.W,g=h?a:a[r]||(a[r]={}),b=g[c],w=h?n:m?n[r]:(n[r]||{})[c];for(l in h&&(u=r),u)(f=!p&&w&&void 0!==w[l])&&s(g,l)||(d=f?w[l]:u[l],g[l]=h&&"function"!=typeof w[l]?u[l]:_&&f?o(d,n):y&&w[l]==d?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t[c]=e[c],t}(d):v&&"function"==typeof d?o(Function.call,d):d,v&&((g.virtual||(g.virtual={}))[l]=d,t&e.R&&b&&!b[l]&&i(b,l,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},21626:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},90489:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},28126:function(e){var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},20932:function(e,t,r){var n=r(42238),a=r(14008);e.exports=r(62275)?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},68206:function(e,t,r){e.exports=!r(62275)&&!r(21626)((function(){return 7!=Object.defineProperty(r(49532)("div"),"a",{get:function(){return 7}}).a}))},27229:function(e,t,r){var n=r(61022);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},67277:function(e){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},42238:function(t,r,n){var a=n(40368),o=n(68206),i=n(76286),s=Object.defineProperty;r.f=n(62275)?Object.defineProperty:function(t,r,n){if(a(t),r=i(r,!0),a(n),o)try{return s(t,r,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[r]=n.value),t}},14008:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4655:function(e,t,r){var n=r(98037),a=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?a(e+t,0):o(e,t)}},98037:function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},29385:function(e,t,r){var n=r(27229),a=r(77172);e.exports=function(e){return n(a(e))}},30557:function(e,t,r){var n=r(98037),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},94563:function(e,t,r){var n=r(77172);e.exports=function(e){return Object(n(e))}},76286:function(e,t,r){var n=r(67277);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},65846:function(e,t,r){var n=r(8724);n(n.P,"Array",{fill:r(16326)}),r(89183)("fill")},6002:function(e,t,r){"use strict";var n=r(8724),a=r(47322)(!0);n(n.P,"Array",{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r(89183)("includes")},38523:function(e,t){"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,l=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,_=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,g=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case l:case f:case o:case s:case i:case p:return e;default:switch(e=e&&e.$$typeof){case u:case d:case v:case m:case c:return e;default:return t}}case a:return t}}}function k(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=n,t.ForwardRef=d,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=a,t.Profiler=s,t.StrictMode=i,t.Suspense=p,t.isAsyncMode=function(e){return k(e)||w(e)===l},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===i||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===d||e.$$typeof===y||e.$$typeof===g||e.$$typeof===b||e.$$typeof===_)},t.typeOf=w},80102:function(e,t,r){"use strict";e.exports=r(38523)},23688:function(e,t,r){"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function a(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!==r&&void 0!==r?r:null}.bind(this))}function o(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var r=null,i=null,s=null;if("function"===typeof t.componentWillMount?r="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==i||null!==s){var c=e.displayName||e.name,u="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=a),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;l.call(this,e,t,n)}}return e}r.r(t),r.d(t,{polyfill:function(){return i}}),n.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},66374:function(e,t,r){"use strict";var n=r(72791),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,o={},u=null,l=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)i.call(t,n)&&!c.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:a,type:e,key:u,ref:l,props:o,_owner:s.current}}t.jsx=u},59117:function(e,t){"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function _(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||h}function y(){}function g(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||h}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=_.prototype;var b=g.prototype=new y;b.constructor=g,m(b,_.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,x={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,a)&&!j.hasOwnProperty(a)&&(o[a]=t[a]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(a in c=e.defaultProps)void 0===o[a]&&(o[a]=c[a]);return{$$typeof:r,type:e,key:i,ref:s,props:o,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var O=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case r:case n:c=!0}}if(c)return i=i(c=e),e=""===o?"."+P(c,0):o,w(i)?(a="",null!=e&&(a=e.replace(O,"$&/")+"/"),A(i,t,a,"",(function(e){return e}))):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(O,"$&/")+"/")+e)),t.push(i)),1;if(c=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var l=o+P(s=e[u],u);c+=A(s,t,a,l,i)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=A(s=s.value,t,a,l=o+P(s,u++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function T(e,t,r){if(null==e)return e;var n=[],a=0;return A(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function C(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},I={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:I,ReactCurrentOwner:x};t.Children={map:T,forEach:function(e,t,r){T(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=_,t.Fragment=a,t.Profiler=i,t.PureComponent=g,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)k.call(t,u)&&!j.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}return{$$typeof:r,type:e.type,key:o,ref:i,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,r){return R.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,r){return R.current.useReducer(e,t,r)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return R.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},72791:function(e,t,r){"use strict";e.exports=r(59117)},80184:function(e,t,r){"use strict";e.exports=r(66374)},36813:function(e,t){"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<o(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,i=a>>>1;n<i;){var s=2*(n+1)-1,c=e[s],u=s+1,l=e[u];if(0>o(c,r))u<a&&0>o(l,c)?(e[n]=l,e[u]=r,n=u):(e[n]=c,e[s]=r,n=s);else{if(!(u<a&&0>o(l,r)))break e;e[n]=l,e[u]=r,n=u}}}return t}function o(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var u=[],l=[],f=1,d=null,p=3,h=!1,m=!1,v=!1,_="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,g="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=n(l);null!==t;){if(null===t.callback)a(l);else{if(!(t.startTime<=e))break;a(l),t.sortIndex=t.expirationTime,r(u,t)}t=n(l)}}function w(e){if(v=!1,b(e),!m)if(null!==n(u))m=!0,I(k);else{var t=n(l);null!==t&&D(w,t.startTime-e)}}function k(e,r){m=!1,v&&(v=!1,y(S),S=-1),h=!0;var o=p;try{for(b(r),d=n(u);null!==d&&(!(d.expirationTime>r)||e&&!A());){var i=d.callback;if("function"===typeof i){d.callback=null,p=d.priorityLevel;var s=i(d.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?d.callback=s:d===n(u)&&a(u),b(r)}else a(u);d=n(u)}if(null!==d)var c=!0;else{var f=n(l);null!==f&&D(w,f.startTime-r),c=!1}return c}finally{d=null,p=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,j=!1,E=null,S=-1,O=5,P=-1;function A(){return!(t.unstable_now()-P<O)}function T(){if(null!==E){var e=t.unstable_now();P=e;var r=!0;try{r=E(!0,e)}finally{r?x():(j=!1,E=null)}}else j=!1}if("function"===typeof g)x=function(){g(T)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,R=C.port2;C.port1.onmessage=T,x=function(){R.postMessage(null)}}else x=function(){_(T,0)};function I(e){E=e,j||(j=!0,x())}function D(e,r){S=_((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,I(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,r(l,e),null===n(u)&&e===n(l)&&(v?(y(S),S=-1):v=!0,D(w,o-i))):(e.sortIndex=s,r(u,e),m||h||(m=!0,I(k))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},45296:function(e,t,r){"use strict";e.exports=r(36813)},6429:function(e,t,r){"use strict";e.exports=r(95274)},58857:function(e,t,r){"use strict";var n,a,o,i=r(75408),s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function c(){o=!1}function u(e){if(e){if(e!==n){if(e.length!==s.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,r){return t!==r.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+s.length+" unique characters. These characters were not unique: "+t.join(", "));n=e,c()}}else n!==s&&(n=s,c())}function l(){return o||(o=function(){n||u(s);for(var e,t=n.split(""),r=[],a=i.nextValue();t.length>0;)a=i.nextValue(),e=Math.floor(a*t.length),r.push(t.splice(e,1)[0]);return r.join("")}())}e.exports={get:function(){return n||s},characters:function(e){return u(e),n},seed:function(e){i.seed(e),a!==e&&(c(),a=e)},lookup:function(e){return l()[e]},shuffled:l}},27098:function(e,t,r){"use strict";var n,a,o=r(2226);r(58857);e.exports=function(e){var t="",r=Math.floor(.001*(Date.now()-1567752802062));return r===a?n++:(n=0,a=r),t+=o(7),t+=o(e),n>0&&(t+=o(n)),t+=o(r)}},2226:function(e,t,r){"use strict";var n=r(58857),a=r(49139),o=r(32483);e.exports=function(e){for(var t,r=0,i="";!t;)i+=o(a,n.get(),1),t=e<Math.pow(16,r+1),r++;return i}},95274:function(e,t,r){"use strict";var n=r(58857),a=r(27098),o=r(36046),i=r(45347)||0;function s(){return a(i)}e.exports=s,e.exports.generate=s,e.exports.seed=function(t){return n.seed(t),e.exports},e.exports.worker=function(t){return i=t,e.exports},e.exports.characters=function(e){return void 0!==e&&n.characters(e),n.shuffled()},e.exports.isValid=o},36046:function(e,t,r){"use strict";var n=r(58857);e.exports=function(e){return!(!e||"string"!==typeof e||e.length<6)&&!new RegExp("[^"+n.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e)}},49139:function(e){"use strict";var t,r="object"===typeof window&&(window.crypto||window.msCrypto);t=r&&r.getRandomValues?function(e){return r.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],r=0;r<e;r++)t.push(Math.floor(256*Math.random()));return t},e.exports=t},75408:function(e){"use strict";var t=1;e.exports={nextValue:function(){return(t=(9301*t+49297)%233280)/233280},seed:function(e){t=e}}},45347:function(e){"use strict";e.exports=0},32483:function(e){e.exports=function(e,t,r){for(var n=(2<<Math.log(t.length-1)/Math.LN2)-1,a=-~(1.6*n*r/t.length),o="";;)for(var i=e(a),s=a;s--;)if((o+=t[i[s]&n]||"").length===+r)return o}},60023:function(t,r){!function(t){"use strict";function r(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,a=1;a<n;++a)t[a]=t[a].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function a(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function o(e){return e.toUpperCase()}function i(e){return void 0!==e&&null!==e?e instanceof Array?e:"number"!==typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function s(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}function c(e){var t="[A-Za-z]",a="[0-9]",o=r(a,"[A-Fa-f]"),i=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=r("[\\:\\/\\?\\#\\[\\]\\@]",s),u=e?"[\\uE000-\\uF8FF]":"[]",l=r(t,a,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),f=n(t+r(t,a,"[\\+\\-\\.]")+"*"),d=n(n(i+"|"+r(l,s,"[\\:]"))+"*"),p=(n(n("25[0-5]")+"|"+n("2[0-4]"+a)+"|"+n("1"+a+a)+"|"+n("[1-9]"+a)+"|"+a),n(n("25[0-5]")+"|"+n("2[0-4]"+a)+"|"+n("1"+a+a)+"|"+n("0?[1-9]"+a)+"|0?0?"+a)),h=n(p+"\\."+p+"\\."+p+"\\."+p),m=n(o+"{1,4}"),v=n(n(m+"\\:"+m)+"|"+h),_=n(n(m+"\\:")+"{6}"+v),y=n("\\:\\:"+n(m+"\\:")+"{5}"+v),g=n(n(m)+"?\\:\\:"+n(m+"\\:")+"{4}"+v),b=n(n(n(m+"\\:")+"{0,1}"+m)+"?\\:\\:"+n(m+"\\:")+"{3}"+v),w=n(n(n(m+"\\:")+"{0,2}"+m)+"?\\:\\:"+n(m+"\\:")+"{2}"+v),k=n(n(n(m+"\\:")+"{0,3}"+m)+"?\\:\\:"+m+"\\:"+v),x=n(n(n(m+"\\:")+"{0,4}"+m)+"?\\:\\:"+v),j=n(n(n(m+"\\:")+"{0,5}"+m)+"?\\:\\:"+m),E=n(n(n(m+"\\:")+"{0,6}"+m)+"?\\:\\:"),S=n([_,y,g,b,w,k,x,j,E].join("|")),O=n(n(l+"|"+i)+"+"),P=(n(S+"\\%25"+O),n(S+n("\\%25|\\%(?!"+o+"{2})")+O)),A=n("[vV]"+o+"+\\."+r(l,s,"[\\:]")+"+"),T=n("\\["+n(P+"|"+S+"|"+A)+"\\]"),C=n(n(i+"|"+r(l,s))+"*"),R=n(T+"|"+h+"(?!"+C+")|"+C),I=n(a+"*"),D=n(n(d+"@")+"?"+R+n("\\:"+I)+"?"),F=n(i+"|"+r(l,s,"[\\:\\@]")),N=n(F+"*"),M=n(F+"+"),U=n(n(i+"|"+r(l,s,"[\\@]"))+"+"),q=n(n("\\/"+N)+"*"),L=n("\\/"+n(M+q)+"?"),$=n(U+q),W=n(M+q),B="(?!"+F+")",z=(n(q+"|"+L+"|"+$+"|"+W+"|"+B),n(n(F+"|"+r("[\\/\\?]",u))+"*")),V=n(n(F+"|[\\/\\?]")+"*"),K=n(n("\\/\\/"+D+q)+"|"+L+"|"+W+"|"+B),H=n(f+"\\:"+K+n("\\?"+z)+"?"+n("\\#"+V)+"?"),G=n(n("\\/\\/"+D+q)+"|"+L+"|"+$+"|"+B),J=n(G+n("\\?"+z)+"?"+n("\\#"+V)+"?");return n(H+"|"+J),n(f+"\\:"+K+n("\\?"+z)+"?"),n(n("\\/\\/("+n("("+d+")@")+"?("+R+")"+n("\\:("+I+")")+"?)")+"?("+q+"|"+L+"|"+W+"|"+B+")"),n("\\?("+z+")"),n("\\#("+V+")"),n(n("\\/\\/("+n("("+d+")@")+"?("+R+")"+n("\\:("+I+")")+"?)")+"?("+q+"|"+L+"|"+$+"|"+B+")"),n("\\?("+z+")"),n("\\#("+V+")"),n(n("\\/\\/("+n("("+d+")@")+"?("+R+")"+n("\\:("+I+")")+"?)")+"?("+q+"|"+L+"|"+W+"|"+B+")"),n("\\?("+z+")"),n("\\#("+V+")"),n("("+d+")@"),n("\\:("+I+")"),{NOT_SCHEME:new RegExp(r("[^]",t,a,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",l,s),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",l,s),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",l,s),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",l,s),"g"),NOT_QUERY:new RegExp(r("[^\\%]",l,s,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",l,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",l,s),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",l,c),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+h+")$"),IPV6ADDRESS:new RegExp("^\\[?("+S+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+O+")")+"?\\]?$")}}var u=c(!1),l=c(!0),f=function(){function e(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(c){a=!0,o=c}finally{try{!n&&s.return&&s.return()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},p=2147483647,h=36,m=1,v=26,_=38,y=700,g=72,b=128,w="-",k=/^xn--/,x=/[^\0-\x7E]/,j=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=h-m,O=Math.floor,P=String.fromCharCode;function A(e){throw new RangeError(E[e])}function T(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}function C(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+T((e=e.replace(j,".")).split("."),t).join(".")}function R(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&a)<<10)+(1023&o)+65536):(t.push(a),r--)}else t.push(a)}return t}var I=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:h},D=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},F=function(e,t,r){var n=0;for(e=r?O(e/y):e>>1,e+=O(e/t);e>S*v>>1;n+=h)e=O(e/S);return O(n+(S+1)*e/(e+_))},N=function(e){var t=[],r=e.length,n=0,a=b,o=g,i=e.lastIndexOf(w);i<0&&(i=0);for(var s=0;s<i;++s)e.charCodeAt(s)>=128&&A("not-basic"),t.push(e.charCodeAt(s));for(var c=i>0?i+1:0;c<r;){for(var u=n,l=1,f=h;;f+=h){c>=r&&A("invalid-input");var d=I(e.charCodeAt(c++));(d>=h||d>O((p-n)/l))&&A("overflow"),n+=d*l;var _=f<=o?m:f>=o+v?v:f-o;if(d<_)break;var y=h-_;l>O(p/y)&&A("overflow"),l*=y}var k=t.length+1;o=F(n-u,k,0==u),O(n/k)>p-a&&A("overflow"),a+=O(n/k),n%=k,t.splice(n++,0,a)}return String.fromCodePoint.apply(String,t)},M=function(e){var t=[],r=(e=R(e)).length,n=b,a=0,o=g,i=!0,s=!1,c=void 0;try{for(var u,l=e[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var f=u.value;f<128&&t.push(P(f))}}catch(K){s=!0,c=K}finally{try{!i&&l.return&&l.return()}finally{if(s)throw c}}var d=t.length,_=d;for(d&&t.push(w);_<r;){var y=p,k=!0,x=!1,j=void 0;try{for(var E,S=e[Symbol.iterator]();!(k=(E=S.next()).done);k=!0){var T=E.value;T>=n&&T<y&&(y=T)}}catch(K){x=!0,j=K}finally{try{!k&&S.return&&S.return()}finally{if(x)throw j}}var C=_+1;y-n>O((p-a)/C)&&A("overflow"),a+=(y-n)*C,n=y;var I=!0,N=!1,M=void 0;try{for(var U,q=e[Symbol.iterator]();!(I=(U=q.next()).done);I=!0){var L=U.value;if(L<n&&++a>p&&A("overflow"),L==n){for(var $=a,W=h;;W+=h){var B=W<=o?m:W>=o+v?v:W-o;if($<B)break;var z=$-B,V=h-B;t.push(P(D(B+z%V,0))),$=O(z/V)}t.push(P(D($,0))),o=F(a,C,_==d),a=0,++_}}}catch(K){N=!0,M=K}finally{try{!I&&q.return&&q.return()}finally{if(N)throw M}}++a,++n}return t.join("")},U=function(e){return C(e,(function(e){return k.test(e)?N(e.slice(4).toLowerCase()):e}))},q=function(e){return C(e,(function(e){return x.test(e)?"xn--"+M(e):e}))},L={version:"2.1.0",ucs2:{decode:R,encode:function(e){return String.fromCodePoint.apply(String,d(e))}},decode:N,encode:M,toASCII:q,toUnicode:U},$={};function W(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function B(e){for(var t="",r=0,n=e.length;r<n;){var a=parseInt(e.substr(r+1,2),16);if(a<128)t+=String.fromCharCode(a),r+=3;else if(a>=194&&a<224){if(n-r>=6){var o=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&a)<<6|63&o)}else t+=e.substr(r,6);r+=6}else if(a>=224){if(n-r>=9){var i=parseInt(e.substr(r+4,2),16),s=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&a)<<12|(63&i)<<6|63&s)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function z(e,t){function r(e){var r=B(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,W).replace(t.PCT_ENCODED,o)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,W).replace(t.PCT_ENCODED,o)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,W).replace(t.PCT_ENCODED,o)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,W).replace(t.PCT_ENCODED,o)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,W).replace(t.PCT_ENCODED,o)),e}function V(e){return e.replace(/^0*(.*)/,"$1")||"0"}function K(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=f(r,2)[1];return n?n.split(".").map(V).join("."):e}function H(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=f(r,3),a=n[1],o=n[2];if(a){for(var i=a.toLowerCase().split("::").reverse(),s=f(i,2),c=s[0],u=s[1],l=u?u.split(":").map(V):[],d=c.split(":").map(V),p=t.IPV4ADDRESS.test(d[d.length-1]),h=p?7:8,m=d.length-h,v=Array(h),_=0;_<h;++_)v[_]=l[_]||d[m+_]||"";p&&(v[h-1]=K(v[h-1],t));var y=v.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],g=void 0;if(y&&y.length>1){var b=v.slice(0,y.index),w=v.slice(y.index+y.length);g=b.join(":")+"::"+w.join(":")}else g=v.join(":");return o&&(g+="%"+o),g}return e}var G=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,J=void 0==="".match(/(){0}/)[1];function Q(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},a=!1!==r.iri?l:u;"suffix"===r.reference&&(t=(r.scheme?r.scheme+":":"")+"//"+t);var o=t.match(G);if(o){J?(n.scheme=o[1],n.userinfo=o[3],n.host=o[4],n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=o[7],n.fragment=o[8],isNaN(n.port)&&(n.port=o[5])):(n.scheme=o[1]||void 0,n.userinfo=-1!==t.indexOf("@")?o[3]:void 0,n.host=-1!==t.indexOf("//")?o[4]:void 0,n.port=parseInt(o[5],10),n.path=o[6]||"",n.query=-1!==t.indexOf("?")?o[7]:void 0,n.fragment=-1!==t.indexOf("#")?o[8]:void 0,isNaN(n.port)&&(n.port=t.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:void 0)),n.host&&(n.host=H(K(n.host,a),a)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",r.reference&&"suffix"!==r.reference&&r.reference!==n.reference&&(n.error=n.error||"URI is not a "+r.reference+" reference.");var i=$[(r.scheme||n.scheme||"").toLowerCase()];if(r.unicodeSupport||i&&i.unicodeSupport)z(n,a);else{if(n.host&&(r.domainHost||i&&i.domainHost))try{n.host=L.toASCII(n.host.replace(a.PCT_ENCODED,B).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}z(n,u)}i&&i.parse&&i.parse(n,r)}else n.error=n.error||"URI can not be parsed.";return n}function Y(e,t){var r=!1!==t.iri?l:u,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(H(K(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!==typeof e.port&&"string"!==typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}var X=/^\.\.?\//,Z=/^\/\.(\/|$)/,ee=/^\/\.\.(\/|$)/,te=/^\/?(?:.|\n)*?(?=\/|$)/;function re(e){for(var t=[];e.length;)if(e.match(X))e=e.replace(X,"");else if(e.match(Z))e=e.replace(Z,"/");else if(e.match(ee))e=e.replace(ee,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(te);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function ne(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.iri?l:u,a=[],o=$[(r.scheme||t.scheme||"").toLowerCase()];if(o&&o.serialize&&o.serialize(t,r),t.host)if(n.IPV6ADDRESS.test(t.host));else if(r.domainHost||o&&o.domainHost)try{t.host=r.iri?L.toUnicode(t.host):L.toASCII(t.host.replace(n.PCT_ENCODED,B).toLowerCase())}catch(e){t.error=t.error||"Host's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+e}z(t,n),"suffix"!==r.reference&&t.scheme&&(a.push(t.scheme),a.push(":"));var i=Y(t,r);if(void 0!==i&&("suffix"!==r.reference&&a.push("//"),a.push(i),t.path&&"/"!==t.path.charAt(0)&&a.push("/")),void 0!==t.path){var s=t.path;r.absolutePath||o&&o.absolutePath||(s=re(s)),void 0===i&&(s=s.replace(/^\/\//,"/%2F")),a.push(s)}return void 0!==t.query&&(a.push("?"),a.push(t.query)),void 0!==t.fragment&&(a.push("#"),a.push(t.fragment)),a.join("")}function ae(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=Q(ne(e,r),r),t=Q(ne(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=re(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=re(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=re(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=re(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function oe(e,t,r){var n=s({scheme:"null"},r);return ne(ae(Q(e,n),Q(t,n),n,!0),n)}function ie(e,t){return"string"===typeof e?e=ne(Q(e,t),t):"object"===a(e)&&(e=Q(ne(e,t),t)),e}function se(e,t,r){return"string"===typeof e?e=ne(Q(e,r),r):"object"===a(e)&&(e=ne(e,r)),"string"===typeof t?t=ne(Q(t,r),r):"object"===a(t)&&(t=ne(t,r)),e===t}function ce(e,t){return e&&e.toString().replace(t&&t.iri?l.ESCAPE:u.ESCAPE,W)}function ue(e,t){return e&&e.toString().replace(t&&t.iri?l.PCT_ENCODED:u.PCT_ENCODED,B)}var le={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},fe={scheme:"https",domainHost:le.domainHost,parse:le.parse,serialize:le.serialize};function de(e){return"boolean"===typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var pe={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=de(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(de(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"===typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),n=f(r,2),a=n[0],o=n[1];e.path=a&&"/"!==a?a:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},he={scheme:"wss",domainHost:pe.domainHost,parse:pe.parse,serialize:pe.serialize},me={},ve="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",_e="[0-9A-Fa-f]",ye=n(n("%[EFef]"+_e+"%"+_e+_e+"%"+_e+_e)+"|"+n("%[89A-Fa-f]"+_e+"%"+_e+_e)+"|"+n("%"+_e+_e)),ge="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",be=r("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),we="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ke=new RegExp(ve,"g"),xe=new RegExp(ye,"g"),je=new RegExp(r("[^]",ge,"[\\.]",'[\\"]',be),"g"),Ee=new RegExp(r("[^]",ve,we),"g"),Se=Ee;function Oe(e){var t=B(e);return t.match(ke)?t:e}var Pe={scheme:"mailto",parse:function(t,r){var n=t,a=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var o=!1,i={},s=n.query.split("&"),c=0,u=s.length;c<u;++c){var l=s[c].split("=");switch(l[0]){case"to":for(var f=l[1].split(","),d=0,p=f.length;d<p;++d)a.push(f[d]);break;case"subject":n.subject=ue(l[1],r);break;case"body":n.body=ue(l[1],r);break;default:o=!0,i[ue(l[0],r)]=ue(l[1],r)}}o&&(n.headers=i)}n.query=void 0;for(var h=0,m=a.length;h<m;++h){var v=a[h].split("@");if(v[0]=ue(v[0]),r.unicodeSupport)v[1]=ue(v[1],r).toLowerCase();else try{v[1]=L.toASCII(ue(v[1],r).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}a[h]=v.join("@")}return n},serialize:function(t,r){var n=t,a=i(t.to);if(a){for(var s=0,c=a.length;s<c;++s){var u=String(a[s]),l=u.lastIndexOf("@"),f=u.slice(0,l).replace(xe,Oe).replace(xe,o).replace(je,W),d=u.slice(l+1);try{d=r.iri?L.toUnicode(d):L.toASCII(ue(d,r).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+e}a[s]=f+"@"+d}n.path=a.join(",")}var p=t.headers=t.headers||{};t.subject&&(p.subject=t.subject),t.body&&(p.body=t.body);var h=[];for(var m in p)p[m]!==me[m]&&h.push(m.replace(xe,Oe).replace(xe,o).replace(Ee,W)+"="+p[m].replace(xe,Oe).replace(xe,o).replace(Se,W));return h.length&&(n.query=h.join("&")),n}},Ae=/^([^\:]+)\:(.*)/,Te={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(Ae),n=e;if(r){var a=t.scheme||n.scheme||"urn",o=r[1].toLowerCase(),i=r[2],s=a+":"+(t.nid||o),c=$[s];n.nid=o,n.nss=i,n.path=void 0,c&&(n=c.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,a=r+":"+(t.nid||n),o=$[a];o&&(e=o.serialize(e,t));var i=e,s=e.nss;return i.path=(n||t.nid)+":"+s,i}},Ce=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Re={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(Ce)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};$[le.scheme]=le,$[fe.scheme]=fe,$[pe.scheme]=pe,$[he.scheme]=he,$[Pe.scheme]=Pe,$[Te.scheme]=Te,$[Re.scheme]=Re,t.SCHEMES=$,t.pctEncChar=W,t.pctDecChars=B,t.parse=Q,t.removeDotSegments=re,t.serialize=ne,t.resolveComponents=ae,t.resolve=oe,t.normalize=ie,t.equal=se,t.escapeComponent=ce,t.unescapeComponent=ue,Object.defineProperty(t,"__esModule",{value:!0})}(r)},5081:function(e){"use strict";e.exports=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},3642:function(e){"use strict";e.exports=function(e){return"function"===typeof e}},96934:function(e,t,r){"use strict";var n=r(5081),a=r(451);e.exports=function(e){var t;if(!n(e))return!1;if(!(t=e.length))return!1;for(var r=0;r<t;r++)if(!a(e[r]))return!1;return!0}},451:function(e,t,r){"use strict";var n=r(32430);e.exports=function(e){return n(e)&&e%1===0}},32430:function(e){"use strict";e.exports=function(e){return("number"===typeof e||"[object Number]"===Object.prototype.toString.call(e))&&e.valueOf()===e.valueOf()}},27921:function(e,t,r){e.exports=r(50176)},78149:function(e,t,r){e.exports=r(70964)},16490:function(e,t,r){e.exports=r(2735)},8450:function(e,t,r){e.exports=r(23565)},7520:function(e,t,r){e.exports=r(68080)},18428:function(e,t,r){e.exports=r(68207)},26771:function(e,t,r){e.exports=r(82624)},26243:function(e,t,r){e.exports=r(15297)},79529:function(e,t,r){e.exports=r(16111)},73473:function(e,t,r){e.exports=r(89448)},90487:function(e,t,r){e.exports=r(98828)},64233:function(e,t,r){e.exports=r(90446)},53637:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},99584:function(e,t,r){var n=r(70964),a=r(53637);e.exports=function(e){if(n(e))return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},89653:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},16508:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},54998:function(e,t,r){var n=r(82624),a=r(80145);function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),n(e,a(o.key),o)}}e.exports=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),n(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},36861:function(e,t,r){var n=r(82624),a=r(80145);e.exports=function(e,t,r){return(t=a(t))in e?n(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},66660:function(e,t,r){var n=r(68207);function a(){return e.exports=a=n?n.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,a.apply(this,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},54959:function(e,t,r){var n=r(21900),a=r(87595);function o(t){return e.exports=o=n?a.bind():function(e){return e.__proto__||a(e)},e.exports.__esModule=!0,e.exports.default=e.exports,o(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},83174:function(e,t,r){var n=r(25380),a=r(82624),o=r(58791);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=n(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a(e,"prototype",{writable:!1}),t&&o(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},82569:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},17343:function(e,t,r){var n=r(63207).default,a=r(69488),o=r(82624),i=r(44221);function s(e){if("function"!==typeof a)return null;var t=new a,r=new a;return(s=function(e){return e?r:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var a={},c=o&&i;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var l=c?i(e,u):null;l&&(l.get||l.set)?o(a,u,l):a[u]=e[u]}return a.default=e,r&&r.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},88582:function(e,t,r){var n=r(71922),a=r(72974),o=r(50176);e.exports=function(e){if("undefined"!==typeof n&&null!=e[a]||null!=e["@@iterator"])return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},41075:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},91044:function(e,t,r){var n=r(15297),a=r(72818),o=r(44221),i=r(36861);e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},s=n(r);"function"===typeof a&&s.push.apply(s,a(r).filter((function(e){return o(r,e).enumerable}))),s.forEach((function(t){i(e,t,r[t])}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},94774:function(e,t,r){var n=r(72818),a=r(50914);e.exports=function(e,t){if(null==e)return{};var r,o,i=a(e,t);if(n){var s=n(e);for(o=0;o<s.length;o++)r=s[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},50914:function(e,t,r){var n=r(15297);e.exports=function(e,t){if(null==e)return{};var r,a,o={},i=n(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(o[r]=e[r]);return o},e.exports.__esModule=!0,e.exports.default=e.exports},76942:function(e,t,r){var n=r(63207).default,a=r(89653);e.exports=function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},58791:function(e,t,r){var n=r(21900);function a(t,r){return e.exports=a=n?n.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,a(t,r)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},23420:function(e,t,r){var n=r(99584),a=r(88582),o=r(22450),i=r(41075);e.exports=function(e){return n(e)||a(e)||o(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},95778:function(e,t,r){var n=r(90446),a=r(63207).default;e.exports=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[n];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},80145:function(e,t,r){var n=r(63207).default,a=r(95778);e.exports=function(e){var t=a(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},63207:function(e,t,r){var n=r(71922),a=r(72974);function o(t){return e.exports=o="function"==typeof n&&"symbol"==typeof a?function(e){return typeof e}:function(e){return e&&"function"==typeof n&&e.constructor===n&&e!==n.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,o(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},22450:function(e,t,r){var n=r(50176),a=r(53637);e.exports=function(e,t){if(e){if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?n(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},73897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},85372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},63405:function(e,t,r){var n=r(73897);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},66115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},17156:function(e){function t(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,a)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(a,o){var i=e.apply(r,n);function s(e){t(i,a,o,s,c,"next",e)}function c(e){t(i,a,o,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},56690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,r){var n=r(6015),a=r(69617);function o(t,r,i){return a()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,r){var a=[null];a.push.apply(a,t);var o=new(Function.bind.apply(e,a));return r&&n(o,r.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},89728:function(e,t,r){var n=r(64062);function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,n(a.key),a)}}e.exports=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},74704:function(e,t,r){var n=r(86116);e.exports=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}},e.exports.__esModule=!0,e.exports.default=e.exports},26389:function(e,t,r){var n=r(73808),a=r(69617),o=r(94993);e.exports=function(e){var t=a();return function(){var r,a=n(e);if(t){var i=n(this).constructor;r=Reflect.construct(a,arguments,i)}else r=a.apply(this,arguments);return o(this,r)}},e.exports.__esModule=!0,e.exports.default=e.exports},38416:function(e,t,r){var n=r(64062);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},41588:function(e,t,r){var n=r(1753);function a(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=a=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=a=function(e,t,r){var a=n(e,t);if(a){var o=Object.getOwnPropertyDescriptor(a,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),a.apply(this,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},73808:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},61655:function(e,t,r){var n=r(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},46035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},69617:function(t){t.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},79498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},68872:function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(l){u=!0,a=l}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},12218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},42281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},42122:function(e,t,r){var n=r(38416);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},70215:function(e,t,r){var n=r(7071);e.exports=function(e,t){if(null==e)return{};var r,a,o=n(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a},e.exports.__esModule=!0,e.exports.default=e.exports},94993:function(e,t,r){var n=r(18698).default,a=r(66115);e.exports=function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},17061:function(e,t,r){var n=r(18698).default;function a(){"use strict";e.exports=a=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,o=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(T){f=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),s=new P(n||[]);return i(o,"_invoke",{value:j(e,r,s)}),o}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(T){return{type:"throw",arg:T}}}t.wrap=d;var h={};function m(){}function v(){}function _(){}var y={};f(y,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(A([])));b&&b!==r&&o.call(b,c)&&(y=b);var w=_.prototype=m.prototype=Object.create(y);function k(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,i,s,c){var u=p(e[a],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==n(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var a;i(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}})}function j(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return{value:void 0,done:!0}}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=E(i,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=p(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function E(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=p(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e||""===e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}throw new TypeError(n(e)+" is not iterable")}return v.prototype=_,i(w,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:v,configurable:!0}),v.displayName=f(_,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,f(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},k(x.prototype),f(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new x(d(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(w),f(w,l,"Generator"),f(w,c,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;O(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},27424:function(e,t,r){var n=r(85372),a=r(68872),o=r(86116),i=r(12218);e.exports=function(e,t){return n(e)||a(e,t)||o(e,t)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,r){var n=r(73808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},59400:function(e){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,r){var n=r(63405),a=r(79498),o=r(86116),i=r(42281);e.exports=function(e){return n(e)||a(e)||o(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},95036:function(e,t,r){var n=r(18698).default;e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},64062:function(e,t,r){var n=r(18698).default,a=r(95036);e.exports=function(e){var t=a(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},18698:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},86116:function(e,t,r){var n=r(73897);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},33496:function(e,t,r){var n=r(73808),a=r(6015),o=r(46035),i=r(3515);function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return i(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},12621:function(e){"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},62095:function(e){"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},87099:function(e){"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},90074:function(e){"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},894:function(e){"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},6680:function(e){"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,r){return __webpack_require__.f[r](e,t),t}),[]))},__webpack_require__.u=function(e){return"static/js/"+e+".0476e479.chunk.js"},__webpack_require__.miniCssF=function(e){},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="imjoy-json-schema-form:";__webpack_require__.l=function(r,n,a,o){if(e[r])e[r].push(n);else{var i,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var l=c[u];if(l.getAttribute("src")==r||l.getAttribute("data-webpack")==t+a){i=l;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,__webpack_require__.nc&&i.setAttribute("nonce",__webpack_require__.nc),i.setAttribute("data-webpack",t+a),i.src=r),e[r]=[n];var f=function(t,n){i.onerror=i.onload=null,clearTimeout(d);var a=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),s&&document.head.appendChild(i)}}}(),__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},__webpack_require__.p="./",function(){var e={179:0};__webpack_require__.f.j=function(t,r){var n=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise((function(r,a){n=e[t]=[r,a]}));r.push(n[2]=a);var o=__webpack_require__.p+__webpack_require__.u(t),i=new Error;__webpack_require__.l(o,(function(r){if(__webpack_require__.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",i.name="ChunkLoadError",i.type=a,i.request=o,n[1](i)}}),"chunk-"+t,t)}};var t=function(t,r){var n,a,o=r[0],i=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(n in i)__webpack_require__.o(i,n)&&(__webpack_require__.m[n]=i[n]);if(s)s(__webpack_require__)}for(t&&t(r);c<o.length;c++)a=o[c],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkimjoy_json_schema_form=self.webpackChunkimjoy_json_schema_form||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var __webpack_exports__={};!function(){"use strict";var t=__webpack_require__(72791),r=__webpack_require__(1250);function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(l){u=!0,a=l}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=__webpack_require__(22973),s=__webpack_require__(38531),c=__webpack_require__.n(s);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function p(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function v(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var b="object"==typeof global&&global&&global.Object===Object&&global,w="object"==typeof self&&self&&self.Object===Object&&self,k=b||w||Function("return this")(),x=k.Symbol,j=Object.prototype,E=j.hasOwnProperty,S=j.toString,O=x?x.toStringTag:void 0;var P=function(t){var r=E.call(t,O),n=t[O];try{t[O]=void 0;var a=!0}catch(e){}var o=S.call(t);return a&&(r?t[O]=n:delete t[O]),o},A=Object.prototype.toString;var T=function(e){return A.call(e)},C=x?x.toStringTag:void 0;var R=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":C&&C in Object(e)?P(e):T(e)};var I=function(e,t){return function(r){return e(t(r))}},D=I(Object.getPrototypeOf,Object);var F=function(e){return null!=e&&"object"==typeof e},N=Function.prototype,M=Object.prototype,U=N.toString,q=M.hasOwnProperty,L=U.call(Object);var $=function(e){if(!F(e)||"[object Object]"!=R(e))return!1;var t=D(e);if(null===t)return!0;var r=q.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&U.call(r)==L},W=Array.isArray;var B=function(e){return"symbol"==typeof e||F(e)&&"[object Symbol]"==R(e)},z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V=/^\w*$/;var K=function(e,t){if(W(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!B(e))||(V.test(e)||!z.test(e)||null!=t&&e in Object(t))};var H=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var G=function(e){if(!H(e))return!1;var t=R(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},J=k["__core-js_shared__"],Q=function(){var e=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var Y=function(e){return!!Q&&Q in e},X=Function.prototype.toString;var Z=function(t){if(null!=t){try{return X.call(t)}catch(e){}try{return t+""}catch(e){}}return""},ee=/^\[object .+?Constructor\]$/,te=Function.prototype,re=Object.prototype,ne=te.toString,ae=re.hasOwnProperty,oe=RegExp("^"+ne.call(ae).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ie=function(e){return!(!H(e)||Y(e))&&(G(e)?oe:ee).test(Z(e))};var se=function(e,t){return null==e?void 0:e[t]};var ce=function(e,t){var r=se(e,t);return ie(r)?r:void 0},ue=ce(Object,"create");var le=function(){this.__data__=ue?ue(null):{},this.size=0};var fe=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},de=Object.prototype.hasOwnProperty;var pe=function(e){var t=this.__data__;if(ue){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return de.call(t,e)?t[e]:void 0},he=Object.prototype.hasOwnProperty;var me=function(e){var t=this.__data__;return ue?void 0!==t[e]:he.call(t,e)};var ve=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ue&&void 0===t?"__lodash_hash_undefined__":t,this};function _e(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_e.prototype.clear=le,_e.prototype.delete=fe,_e.prototype.get=pe,_e.prototype.has=me,_e.prototype.set=ve;var ye=_e;var ge=function(){this.__data__=[],this.size=0};var be=function(e,t){return e===t||e!==e&&t!==t};var we=function(e,t){for(var r=e.length;r--;)if(be(e[r][0],t))return r;return-1},ke=Array.prototype.splice;var xe=function(e){var t=this.__data__,r=we(t,e);return!(r<0)&&(r==t.length-1?t.pop():ke.call(t,r,1),--this.size,!0)};var je=function(e){var t=this.__data__,r=we(t,e);return r<0?void 0:t[r][1]};var Ee=function(e){return we(this.__data__,e)>-1};var Se=function(e,t){var r=this.__data__,n=we(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function Oe(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Oe.prototype.clear=ge,Oe.prototype.delete=xe,Oe.prototype.get=je,Oe.prototype.has=Ee,Oe.prototype.set=Se;var Pe=Oe,Ae=ce(k,"Map");var Te=function(){this.size=0,this.__data__={hash:new ye,map:new(Ae||Pe),string:new ye}};var Ce=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Re=function(e,t){var r=e.__data__;return Ce(t)?r["string"==typeof t?"string":"hash"]:r.map};var Ie=function(e){var t=Re(this,e).delete(e);return this.size-=t?1:0,t};var De=function(e){return Re(this,e).get(e)};var Fe=function(e){return Re(this,e).has(e)};var Ne=function(e,t){var r=Re(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Me(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Me.prototype.clear=Te,Me.prototype.delete=Ie,Me.prototype.get=De,Me.prototype.has=Fe,Me.prototype.set=Ne;var Ue=Me;function qe(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(qe.Cache||Ue),r}qe.Cache=Ue;var Le=qe;var $e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,We=/\\(\\)?/g,Be=function(e){var t=Le(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($e,(function(e,r,n,a){t.push(n?a.replace(We,"$1"):r||e)})),t}));var ze=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a},Ve=x?x.prototype:void 0,Ke=Ve?Ve.toString:void 0;var He=function e(t){if("string"==typeof t)return t;if(W(t))return ze(t,e)+"";if(B(t))return Ke?Ke.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r};var Ge=function(e){return null==e?"":He(e)};var Je=function(e,t){return W(e)?e:K(e,t)?[e]:Be(Ge(e))};var Qe=function(e){if("string"==typeof e||B(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var Ye=function(e,t){for(var r=0,n=(t=Je(t,e)).length;null!=e&&r<n;)e=e[Qe(t[r++])];return r&&r==n?e:void 0};var Xe=function(e,t,r){var n=null==e?void 0:Ye(e,t);return void 0===n?r:n},Ze=Object.prototype;var et=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ze)},tt=I(Object.keys,Object),rt=Object.prototype.hasOwnProperty;var nt=function(e){if(!et(e))return tt(e);var t=[];for(var r in Object(e))rt.call(e,r)&&"constructor"!=r&&t.push(r);return t},at=ce(k,"DataView"),ot=ce(k,"Promise"),it=ce(k,"Set"),st=ce(k,"WeakMap"),ct="[object Map]",ut="[object Promise]",lt="[object Set]",ft="[object WeakMap]",dt="[object DataView]",pt=Z(at),ht=Z(Ae),mt=Z(ot),vt=Z(it),_t=Z(st),yt=R;(at&&yt(new at(new ArrayBuffer(1)))!=dt||Ae&&yt(new Ae)!=ct||ot&&yt(ot.resolve())!=ut||it&&yt(new it)!=lt||st&&yt(new st)!=ft)&&(yt=function(e){var t=R(e),r="[object Object]"==t?e.constructor:void 0,n=r?Z(r):"";if(n)switch(n){case pt:return dt;case ht:return ct;case mt:return ut;case vt:return lt;case _t:return ft}return t});var gt=yt;var bt=function(e){return F(e)&&"[object Arguments]"==R(e)},wt=Object.prototype,kt=wt.hasOwnProperty,xt=wt.propertyIsEnumerable,jt=bt(function(){return arguments}())?bt:function(e){return F(e)&&kt.call(e,"callee")&&!xt.call(e,"callee")},Et=jt;var St=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Ot=function(e){return null!=e&&St(e.length)&&!G(e)};var Pt=function(){return!1},At="object"==typeof exports&&exports&&!exports.nodeType&&exports,Tt=At&&"object"==typeof module&&module&&!module.nodeType&&module,Ct=Tt&&Tt.exports===At?k.Buffer:void 0,Rt=(Ct?Ct.isBuffer:void 0)||Pt,It={};It["[object Float32Array]"]=It["[object Float64Array]"]=It["[object Int8Array]"]=It["[object Int16Array]"]=It["[object Int32Array]"]=It["[object Uint8Array]"]=It["[object Uint8ClampedArray]"]=It["[object Uint16Array]"]=It["[object Uint32Array]"]=!0,It["[object Arguments]"]=It["[object Array]"]=It["[object ArrayBuffer]"]=It["[object Boolean]"]=It["[object DataView]"]=It["[object Date]"]=It["[object Error]"]=It["[object Function]"]=It["[object Map]"]=It["[object Number]"]=It["[object Object]"]=It["[object RegExp]"]=It["[object Set]"]=It["[object String]"]=It["[object WeakMap]"]=!1;var Dt=function(e){return F(e)&&St(e.length)&&!!It[R(e)]};var Ft=function(e){return function(t){return e(t)}},Nt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Mt=Nt&&"object"==typeof module&&module&&!module.nodeType&&module,Ut=Mt&&Mt.exports===Nt&&b.process,qt=function(){try{var t=Mt&&Mt.require&&Mt.require("util").types;return t||Ut&&Ut.binding&&Ut.binding("util")}catch(e){}}(),Lt=qt&&qt.isTypedArray,$t=Lt?Ft(Lt):Dt,Wt=Object.prototype.hasOwnProperty;var Bt=function(e){if(null==e)return!0;if(Ot(e)&&(W(e)||"string"==typeof e||"function"==typeof e.splice||Rt(e)||$t(e)||Et(e)))return!e.length;var t=gt(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(et(e))return!nt(e).length;for(var r in e)if(Wt.call(e,r))return!1;return!0},zt=__webpack_require__(67712);var Vt=function(){this.__data__=new Pe,this.size=0};var Kt=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var Ht=function(e){return this.__data__.get(e)};var Gt=function(e){return this.__data__.has(e)};var Jt=function(e,t){var r=this.__data__;if(r instanceof Pe){var n=r.__data__;if(!Ae||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ue(n)}return r.set(e,t),this.size=r.size,this};function Qt(e){var t=this.__data__=new Pe(e);this.size=t.size}Qt.prototype.clear=Vt,Qt.prototype.delete=Kt,Qt.prototype.get=Ht,Qt.prototype.has=Gt,Qt.prototype.set=Jt;var Yt=Qt;var Xt=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},Zt=function(){try{var t=ce(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();var er=function(e,t,r){"__proto__"==t&&Zt?Zt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},tr=Object.prototype.hasOwnProperty;var rr=function(e,t,r){var n=e[t];tr.call(e,t)&&be(n,r)&&(void 0!==r||t in e)||er(e,t,r)};var nr=function(e,t,r,n){var a=!r;r||(r={});for(var o=-1,i=t.length;++o<i;){var s=t[o],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),a?er(r,s,c):rr(r,s,c)}return r};var ar=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},or=/^(?:0|[1-9]\d*)$/;var ir=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&or.test(e))&&e>-1&&e%1==0&&e<t},sr=Object.prototype.hasOwnProperty;var cr=function(e,t){var r=W(e),n=!r&&Et(e),a=!r&&!n&&Rt(e),o=!r&&!n&&!a&&$t(e),i=r||n||a||o,s=i?ar(e.length,String):[],c=s.length;for(var u in e)!t&&!sr.call(e,u)||i&&("length"==u||a&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ir(u,c))||s.push(u);return s};var ur=function(e){return Ot(e)?cr(e):nt(e)};var lr=function(e,t){return e&&nr(t,ur(t),e)};var fr=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},dr=Object.prototype.hasOwnProperty;var pr=function(e){if(!H(e))return fr(e);var t=et(e),r=[];for(var n in e)("constructor"!=n||!t&&dr.call(e,n))&&r.push(n);return r};var hr=function(e){return Ot(e)?cr(e,!0):pr(e)};var mr=function(e,t){return e&&nr(t,hr(t),e)},vr="object"==typeof exports&&exports&&!exports.nodeType&&exports,_r=vr&&"object"==typeof module&&module&&!module.nodeType&&module,yr=_r&&_r.exports===vr?k.Buffer:void 0,gr=yr?yr.allocUnsafe:void 0;var br=function(e,t){if(t)return e.slice();var r=e.length,n=gr?gr(r):new e.constructor(r);return e.copy(n),n};var wr=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t};var kr=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o};var xr=function(){return[]},jr=Object.prototype.propertyIsEnumerable,Er=Object.getOwnPropertySymbols,Sr=Er?function(e){return null==e?[]:(e=Object(e),kr(Er(e),(function(t){return jr.call(e,t)})))}:xr;var Or=function(e,t){return nr(e,Sr(e),t)};var Pr=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e},Ar=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Pr(t,Sr(e)),e=D(e);return t}:xr;var Tr=function(e,t){return nr(e,Ar(e),t)};var Cr=function(e,t,r){var n=t(e);return W(e)?n:Pr(n,r(e))};var Rr=function(e){return Cr(e,ur,Sr)};var Ir=function(e){return Cr(e,hr,Ar)},Dr=Object.prototype.hasOwnProperty;var Fr=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Dr.call(e,"index")&&(r.index=e.index,r.input=e.input),r},Nr=k.Uint8Array;var Mr=function(e){var t=new e.constructor(e.byteLength);return new Nr(t).set(new Nr(e)),t};var Ur=function(e,t){var r=t?Mr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},qr=/\w*$/;var Lr=function(e){var t=new e.constructor(e.source,qr.exec(e));return t.lastIndex=e.lastIndex,t},$r=x?x.prototype:void 0,Wr=$r?$r.valueOf:void 0;var Br=function(e){return Wr?Object(Wr.call(e)):{}};var zr=function(e,t){var r=t?Mr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)};var Vr=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return Mr(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return Ur(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return zr(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return Lr(e);case"[object Symbol]":return Br(e)}},Kr=Object.create,Hr=function(){function e(){}return function(t){if(!H(t))return{};if(Kr)return Kr(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();var Gr=function(e){return"function"!=typeof e.constructor||et(e)?{}:Hr(D(e))};var Jr=function(e){return F(e)&&"[object Map]"==gt(e)},Qr=qt&&qt.isMap,Yr=Qr?Ft(Qr):Jr;var Xr=function(e){return F(e)&&"[object Set]"==gt(e)},Zr=qt&&qt.isSet,en=Zr?Ft(Zr):Xr,tn="[object Arguments]",rn="[object Function]",nn="[object Object]",an={};an[tn]=an["[object Array]"]=an["[object ArrayBuffer]"]=an["[object DataView]"]=an["[object Boolean]"]=an["[object Date]"]=an["[object Float32Array]"]=an["[object Float64Array]"]=an["[object Int8Array]"]=an["[object Int16Array]"]=an["[object Int32Array]"]=an["[object Map]"]=an["[object Number]"]=an[nn]=an["[object RegExp]"]=an["[object Set]"]=an["[object String]"]=an["[object Symbol]"]=an["[object Uint8Array]"]=an["[object Uint8ClampedArray]"]=an["[object Uint16Array]"]=an["[object Uint32Array]"]=!0,an["[object Error]"]=an[rn]=an["[object WeakMap]"]=!1;var on=function e(t,r,n,a,o,i){var s,c=1&r,u=2&r,l=4&r;if(n&&(s=o?n(t,a,o,i):n(t)),void 0!==s)return s;if(!H(t))return t;var f=W(t);if(f){if(s=Fr(t),!c)return wr(t,s)}else{var d=gt(t),p=d==rn||"[object GeneratorFunction]"==d;if(Rt(t))return br(t,c);if(d==nn||d==tn||p&&!o){if(s=u||p?{}:Gr(t),!c)return u?Tr(t,mr(s,t)):Or(t,lr(s,t))}else{if(!an[d])return o?t:{};s=Vr(t,d,c)}}i||(i=new Yt);var h=i.get(t);if(h)return h;i.set(t,s),en(t)?t.forEach((function(a){s.add(e(a,r,n,a,t,i))})):Yr(t)&&t.forEach((function(a,o){s.set(o,e(a,r,n,o,t,i))}));var m=f?void 0:(l?u?Ir:Rr:u?hr:ur)(t);return Xt(m||t,(function(a,o){m&&(a=t[o=a]),rr(s,o,e(a,r,n,o,t,i))})),s};var sn=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var cn=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o};var un=function(e,t){return t.length<2?e:Ye(e,cn(t,0,-1))};var ln=function(e,t){return t=Je(t,e),null==(e=un(e,t))||delete e[Qe(sn(t))]};var fn=function(e){return $(e)?void 0:e},dn=x?x.isConcatSpreadable:void 0;var pn=function(e){return W(e)||Et(e)||!!(dn&&e&&e[dn])};var hn=function e(t,r,n,a,o){var i=-1,s=t.length;for(n||(n=pn),o||(o=[]);++i<s;){var c=t[i];r>0&&n(c)?r>1?e(c,r-1,n,a,o):Pr(o,c):a||(o[o.length]=c)}return o};var mn=function(e){return(null==e?0:e.length)?hn(e,1):[]};var vn=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},_n=Math.max;var yn=function(e,t,r){return t=_n(void 0===t?e.length-1:t,0),function(){for(var n=arguments,a=-1,o=_n(n.length-t,0),i=Array(o);++a<o;)i[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(i),vn(e,this,s)}};var gn=function(e){return function(){return e}};var bn=function(e){return e},wn=Zt?function(e,t){return Zt(e,"toString",{configurable:!0,enumerable:!1,value:gn(t),writable:!0})}:bn,kn=Date.now;var xn=function(e){var t=0,r=0;return function(){var n=kn(),a=16-(n-r);if(r=n,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},jn=xn(wn);var En=function(e){return jn(yn(e,void 0,mn),e+"")}((function(e,t){var r={};if(null==e)return r;var n=!1;t=ze(t,(function(t){return t=Je(t,e),n||(n=t.length>1),t})),nr(e,Ir(e),r),n&&(r=on(r,7,fn));for(var a=t.length;a--;)ln(r,t[a]);return r})),Sn=Object.prototype.hasOwnProperty;var On=function(e,t){return null!=e&&Sn.call(e,t)};var Pn=function(e,t,r){for(var n=-1,a=(t=Je(t,e)).length,o=!1;++n<a;){var i=Qe(t[n]);if(!(o=null!=e&&r(e,i)))break;e=e[i]}return o||++n!=a?o:!!(a=null==e?0:e.length)&&St(a)&&ir(i,a)&&(W(e)||Et(e))};var An=function(e,t){return null!=e&&Pn(e,t,On)};var Tn=function(e){return"string"==typeof e||!W(e)&&F(e)&&"[object String]"==R(e)};var Cn=function(e,t,r,n){var a=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++a]);++a<o;)r=t(r,e[a],a,e);return r};var Rn=function(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var c=i[e?s:++a];if(!1===r(o[c],c,o))break}return t}},In=Rn();var Dn=function(e,t){return e&&In(e,t,ur)};var Fn=function(e,t){return function(r,n){if(null==r)return r;if(!Ot(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Object(r);(t?o--:++o<a)&&!1!==n(i[o],o,i););return r}},Nn=Fn(Dn);var Mn=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Un=function(e){return this.__data__.has(e)};function qn(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Ue;++t<r;)this.add(e[t])}qn.prototype.add=qn.prototype.push=Mn,qn.prototype.has=Un;var Ln=qn;var $n=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var Wn=function(e,t){return e.has(t)};var Bn=function(e,t,r,n,a,o){var i=1&r,s=e.length,c=t.length;if(s!=c&&!(i&&c>s))return!1;var u=o.get(e),l=o.get(t);if(u&&l)return u==t&&l==e;var f=-1,d=!0,p=2&r?new Ln:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var h=e[f],m=t[f];if(n)var v=i?n(m,h,f,t,e,o):n(h,m,f,e,t,o);if(void 0!==v){if(v)continue;d=!1;break}if(p){if(!$n(t,(function(e,t){if(!Wn(p,t)&&(h===e||a(h,e,r,n,o)))return p.push(t)}))){d=!1;break}}else if(h!==m&&!a(h,m,r,n,o)){d=!1;break}}return o.delete(e),o.delete(t),d};var zn=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var Vn=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},Kn=x?x.prototype:void 0,Hn=Kn?Kn.valueOf:void 0;var Gn=function(e,t,r,n,a,o,i){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Nr(e),new Nr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return be(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=zn;case"[object Set]":var c=1&n;if(s||(s=Vn),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=2,i.set(e,t);var l=Bn(s(e),s(t),n,a,o,i);return i.delete(e),l;case"[object Symbol]":if(Hn)return Hn.call(e)==Hn.call(t)}return!1},Jn=Object.prototype.hasOwnProperty;var Qn=function(e,t,r,n,a,o){var i=1&r,s=Rr(e),c=s.length;if(c!=Rr(t).length&&!i)return!1;for(var u=c;u--;){var l=s[u];if(!(i?l in t:Jn.call(t,l)))return!1}var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var p=!0;o.set(e,t),o.set(t,e);for(var h=i;++u<c;){var m=e[l=s[u]],v=t[l];if(n)var _=i?n(v,m,l,t,e,o):n(m,v,l,e,t,o);if(!(void 0===_?m===v||a(m,v,r,n,o):_)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var y=e.constructor,g=t.constructor;y==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof g&&g instanceof g||(p=!1)}return o.delete(e),o.delete(t),p},Yn="[object Arguments]",Xn="[object Array]",Zn="[object Object]",ea=Object.prototype.hasOwnProperty;var ta=function(e,t,r,n,a,o){var i=W(e),s=W(t),c=i?Xn:gt(e),u=s?Xn:gt(t),l=(c=c==Yn?Zn:c)==Zn,f=(u=u==Yn?Zn:u)==Zn,d=c==u;if(d&&Rt(e)){if(!Rt(t))return!1;i=!0,l=!1}if(d&&!l)return o||(o=new Yt),i||$t(e)?Bn(e,t,r,n,a,o):Gn(e,t,c,r,n,a,o);if(!(1&r)){var p=l&&ea.call(e,"__wrapped__"),h=f&&ea.call(t,"__wrapped__");if(p||h){var m=p?e.value():e,v=h?t.value():t;return o||(o=new Yt),a(m,v,r,n,o)}}return!!d&&(o||(o=new Yt),Qn(e,t,r,n,a,o))};var ra=function e(t,r,n,a,o){return t===r||(null==t||null==r||!F(t)&&!F(r)?t!==t&&r!==r:ta(t,r,n,a,e,o))};var na=function(e,t,r,n){var a=r.length,o=a,i=!n;if(null==e)return!o;for(e=Object(e);a--;){var s=r[a];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var c=(s=r[a])[0],u=e[c],l=s[1];if(i&&s[2]){if(void 0===u&&!(c in e))return!1}else{var f=new Yt;if(n)var d=n(u,l,c,e,t,f);if(!(void 0===d?ra(l,u,3,n,f):d))return!1}}return!0};var aa=function(e){return e===e&&!H(e)};var oa=function(e){for(var t=ur(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,aa(a)]}return t};var ia=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}};var sa=function(e){var t=oa(e);return 1==t.length&&t[0][2]?ia(t[0][0],t[0][1]):function(r){return r===e||na(r,e,t)}};var ca=function(e,t){return null!=e&&t in Object(e)};var ua=function(e,t){return null!=e&&Pn(e,t,ca)};var la=function(e,t){return K(e)&&aa(t)?ia(Qe(e),t):function(r){var n=Xe(r,e);return void 0===n&&n===t?ua(r,e):ra(t,n,3)}};var fa=function(e){return function(t){return null==t?void 0:t[e]}};var da=function(e){return function(t){return Ye(t,e)}};var pa=function(e){return K(e)?fa(Qe(e)):da(e)};var ha=function(e){return"function"==typeof e?e:null==e?bn:"object"==typeof e?W(e)?la(e[0],e[1]):sa(e):pa(e)};var ma=function(e,t,r,n,a){return a(e,(function(e,a,o){r=n?(n=!1,e):t(r,e,a,o)})),r};var va=function(e,t,r){var n=W(e)?Cn:ma,a=arguments.length<3;return n(e,ha(t,4),r,a,Nn)};var _a=function(e){return"function"==typeof e?e:bn},ya=/\s/;var ga=function(e){for(var t=e.length;t--&&ya.test(e.charAt(t)););return t},ba=/^\s+/;var wa=function(e){return e?e.slice(0,ga(e)+1).replace(ba,""):e},ka=/^[-+]0x[0-9a-f]+$/i,xa=/^0b[01]+$/i,ja=/^0o[0-7]+$/i,Ea=parseInt;var Sa=function(e){if("number"==typeof e)return e;if(B(e))return NaN;if(H(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=H(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=wa(e);var r=xa.test(e);return r||ja.test(e)?Ea(e.slice(2),r?2:8):ka.test(e)?NaN:+e},Oa=1/0;var Pa=function(e){return e?(e=Sa(e))===Oa||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var Aa=function(e){var t=Pa(e),r=t%1;return t===t?r?t-r:t:0},Ta=4294967295,Ca=Math.min;var Ra=function(e,t){if((e=Aa(e))<1||e>9007199254740991)return[];var r=Ta,n=Ca(e,Ta);t=_a(t),e-=Ta;for(var a=ar(n,t);++r<e;)t(r);return a};var Ia=function(e,t,r,n){if(!H(e))return e;for(var a=-1,o=(t=Je(t,e)).length,i=o-1,s=e;null!=s&&++a<o;){var c=Qe(t[a]),u=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(a!=i){var l=s[c];void 0===(u=n?n(l,c,s):void 0)&&(u=H(l)?l:ir(t[a+1])?[]:{})}rr(s,c,u),s=s[c]}return e};var Da=function(e,t,r){return null==e?e:Ia(e,t,r)};var Fa=function(e,t,r){var n=W(e),a=n||Rt(e)||$t(e);if(t=ha(t,4),null==r){var o=e&&e.constructor;r=a?n?new o:[]:H(e)&&G(o)?Hr(D(e)):{}}return(a?Xt:Dn)(e,(function(e,n,a){return t(r,e,n,a)})),r},Na=__webpack_require__(42699),Ma=__webpack_require__.n(Na);var Ua=function(e,t){return jn(yn(e,t,bn),e+"")};var qa=function(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1};var La=function(e){return e!==e};var $a=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1};var Wa=function(e,t,r){return t===t?$a(e,t,r):qa(e,La,r)};var Ba=function(e,t){return!!(null==e?0:e.length)&&Wa(e,t,0)>-1};var za=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1};var Va=function(){},Ka=it&&1/Vn(new it([,-0]))[1]==1/0?function(e){return new it(e)}:Va;var Ha=function(e,t,r){var n=-1,a=Ba,o=e.length,i=!0,s=[],c=s;if(r)i=!1,a=za;else if(o>=200){var u=t?null:Ka(e);if(u)return Vn(u);i=!1,a=Wn,c=new Ln}else c=t?[]:s;e:for(;++n<o;){var l=e[n],f=t?t(l):l;if(l=r||0!==l?l:0,i&&f===f){for(var d=c.length;d--;)if(c[d]===f)continue e;t&&c.push(f),s.push(l)}else a(c,f,r)||(c!==s&&c.push(f),s.push(l))}return s};var Ga=function(e){return F(e)&&Ot(e)},Ja=Ua((function(e){return Ha(hn(e,1,Ga,!0))}));var Qa=function(e){return on(e,5)},Ya=__webpack_require__(80184);__webpack_require__(27523);var Xa=function(e){return W(e)?ze(e,Qe):B(e)?[e]:wr(Be(Ge(e)))},Za=["if","then","else"],eo=["$ref"],to=["$ref"],ro=["allOf"],no=["oneOf","anyOf"],ao=["dependencies"],oo=["oneOf"],io=["oneOf"],so=["anyOf"];function co(e){return!("undefined"!==typeof File&&e instanceof File)&&(!("undefined"!==typeof Date&&e instanceof Date)&&("object"===typeof e&&null!==e&&!Array.isArray(e)))}var uo="__additional_property",lo="additionalProperties",fo="allOf",po="anyOf",ho="const",mo="default",vo="dependencies",_o="__errors",yo="$id",go="if",bo="items",wo="oneOf",ko="properties",xo="required",jo="$ref",Eo="__rjsf_additionalProperties",So="__rjsf_rootSchema",Oo="ui:widget",Po="ui:options";function Ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).filter((function(e){return 0===e.indexOf("ui:")})).reduce((function(t,r){var n=e[r];return r===Oo&&co(n)?(console.error("Setting options via ui:widget object is no longer supported, use ui:options instead"),t):r===Po&&co(n)?y(y({},t),n):y(y({},t),{},v({},r.substring(3),n))}),y({},t))}function To(e){var t,r=(v(t={},_o,[]),v(t,"addError",(function(e){this[_o].push(e)})),t);if(Array.isArray(e))return e.reduce((function(e,t,r){return y(y({},e),{},v({},r,To(t)))}),r);if($(e)){var n=e;return Object.keys(n).reduce((function(e,t){return y(y({},e),{},v({},t,To(n[t])))}),r)}return r}function Co(e,t){var r=t[e];return[En(t,[e]),r]}function Ro(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e||"";if(!r.startsWith("#"))throw new Error("Could not find a definition for ".concat(e,"."));r=decodeURIComponent(r.substring(1));var n=zt.get(t,r);if(void 0===n)throw new Error("Could not find a definition for ".concat(e,"."));if(n[jo]){var a=o(Co(jo,n),2),i=a[0],s=Ro(a[1],t);return Object.keys(i).length>0?y(y({},i),s):s}return n}function Io(e,t,r,n,a){if(void 0===t)return 0;for(var o=0;o<r.length;o++){var i=r[o];if(a&&An(i,[ko,a])){var s=Xe(t,a),c=Xe(i,[ko,a],{});if(e.isValid(c,s,n))return o}else if(i[ko]){var u={anyOf:Object.keys(i[ko]).map((function(e){return{required:[e]}}))},l=void 0;if(i.anyOf){var f=Object.assign({},(g(i),i));f.allOf?f.allOf=f.allOf.slice():f.allOf=[],f.allOf.push(u),l=f}else l=Object.assign({},i,u);if(delete l.required,e.isValid(l,t,n))return o}else if(e.isValid(i,t,n))return o}return 0}function Do(e,t,r,n,a){return Io(e,t,r,n,a)}function Fo(e){var t,r=Xe(e,"discriminator.propertyName",void 0);return Tn(r)?t=r:void 0!==r&&console.warn('Expecting discriminator to be a string, got "'.concat(typeof r,'" instead')),t}function No(e){return Array.isArray(e)?"array":"string"===typeof e?"string":null==e?"null":"boolean"===typeof e?"boolean":isNaN(e)?"object"===typeof e?"object":"string":"number"}function Mo(e){var t=e.type;return!t&&e.const?No(e.const):!t&&e.enum?"string":t||!e.properties&&!e.additionalProperties?(Array.isArray(t)&&2===t.length&&t.includes("null")&&(t=t.find((function(e){return"null"!==e}))),t):"object"}function Uo(e,t){var r=Object.assign({},e);return Object.keys(t).reduce((function(r,n){var a=e?e[n]:{},o=t[n];return e&&n in e&&co(o)?r[n]=Uo(a,o):e&&t&&("object"===Mo(e)||"object"===Mo(t))&&n===xo&&Array.isArray(a)&&Array.isArray(o)?r[n]=Ja(a,o):r[n]=o,r}),r)}function qo(e,t){return Bo(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},arguments.length>3?arguments[3]:void 0)[0]}function Lo(e){return e.reduce((function(e,t){return t.length>1?t.flatMap((function(t){return Ra(e.length,(function(r){return h(e[r]).concat(t)}))})):(e.forEach((function(e){return e.push(t[0])})),e)}),[[]])}function $o(e,t,r,n,a){var o=t.$ref,i=m(t,eo);return Bo(e,y(y({},Ro(o,r)),i),r,a,n)}function Wo(e,t){var r=e;if(jo in r){var n=r,a=n.$ref,o=m(n,to);r=y(y({},Ro(a,t)),o)}if(ko in r){var i=Fa(r[ko],(function(e,r,n){e[n]=Wo(r,t)}),{});r=y(y({},r),{},v({},ko,i))}return bo in r&&!Array.isArray(r.items)&&"boolean"!==typeof r.items&&(r=y(y({},r),{},{items:Wo(r.items,t)})),r}function Bo(t,r,n,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!co(r))return[{}];var i=function(e,t,r,n,a){return jo in t?$o(e,t,r,n,a):vo in t?Vo(e,t,r,n,a).flatMap((function(t){return Bo(e,t,r,a,n)})):fo in t&&Array.isArray(t.allOf)?Lo(t.allOf.map((function(t){return Bo(e,t,r,a,n)}))).map((function(e){return y(y({},t),{},{allOf:e})})):[t]}(t,r,n,o,a);return i.flatMap((function(r){var i=r;if(go in i)return function(e,t,r,n,a){var o=t.if,i=t.then,s=t.else,c=m(t,Za),u=e.isValid(o,a||{},r),l=[c],f=[];if(n)i&&"boolean"!==typeof i&&(f=f.concat(Bo(e,i,r,a,n))),s&&"boolean"!==typeof s&&(f=f.concat(Bo(e,s,r,a,n)));else{var d=u?i:s;d&&"boolean"!==typeof d&&(f=f.concat(Bo(e,d,r,a,n)))}return f.length&&(l=f.map((function(e){return Uo(c,e)}))),l.flatMap((function(t){return Bo(e,t,r,a,n)}))}(t,i,n,o,a);if(fo in i){if(o)return h(i.allOf);try{i=Ma()(i,{deep:!1})}catch(e){console.warn("could not merge subschemas in allOf:\n",e);var s=i;s.allOf;return m(s,ro)}}return lo in i&&!1!==i.additionalProperties?function(e,t,r,n){var a=y(y({},t),{},{properties:y({},t.properties)}),o=n&&co(n)?n:{};return Object.keys(o).forEach((function(t){if(!(t in a.properties)){var n={};n="boolean"!==typeof a.additionalProperties?jo in a.additionalProperties?qo(e,{$ref:Xe(a.additionalProperties,[jo])},r,o):"type"in a.additionalProperties?y({},a.additionalProperties):po in a.additionalProperties||wo in a.additionalProperties?y({type:"object"},a.additionalProperties):{type:No(Xe(o,[t]))}:{type:No(Xe(o,[t]))},a.properties[t]=n,Da(a.properties,[t,uo],!0)}})),a}(t,i,n,a):i}))}function zo(e,t,r,n,a){var o,i=t,s=i.oneOf,c=i.anyOf,u=m(i,no);if(Array.isArray(s)?o=s:Array.isArray(c)&&(o=c),o){var l=void 0===a&&n?{}:a,f=Fo(t),d=Do(e,l,o=o.map((function(e){return Wo(e,r)})),r,f);if(n)return o.map((function(e){return Uo(u,e)}));t=Uo(u,o[d])}return[t]}function Vo(e,t,r,n,a){var o=t.dependencies,i=m(t,ao);return zo(e,i,r,n,a).flatMap((function(t){return Ko(e,o,t,r,n,a)}))}function Ko(e,t,r,n,a,i){var s,c=[r],u=function(){if(!a&&void 0===Xe(i,[l]))return 0;if(r.properties&&!(l in r.properties))return 0;var s=o(Co(l,t),2),u=s[0],f=s[1];return Array.isArray(f)?c[0]=function(e,t){if(!t)return e;var r=Array.isArray(e.required)?Array.from(new Set([].concat(h(e.required),h(t)))):t;return y(y({},e),{},{required:r})}(r,f):co(f)&&(c=function(e,t,r,n,a,i,s){var c=Bo(e,a,r,s,i);return c.flatMap((function(a){var c=a.oneOf,u=m(a,oo);return t=Uo(t,u),void 0===c?t:Lo(c.map((function(t){return"boolean"!==typeof t&&jo in t?$o(e,t,r,i,s):[t]}))).flatMap((function(a){return function(e,t,r,n,a,i,s){var c=a.filter((function(t){if("boolean"===typeof t||!t||!t.properties)return!1;var a=t.properties[n];if(a){var o={type:"object",properties:v({},n,a)};return e.isValid(o,s,r)||i}return!1}));if(!i&&1!==c.length)return console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),[t];return c.flatMap((function(a){var c=a,u=o(Co(n,c.properties),1)[0],l=y(y({},c),{},{properties:u});return Bo(e,l,r,s,i).map((function(e){return Uo(t,e)}))}))}(e,t,r,n,a,i,s)}))}))}(e,r,n,l,f,a,i)),{v:c.flatMap((function(t){return Ko(e,u,t,n,a,i)}))}};for(var l in t)if(0!==(s=u())&&s)return s.v;return c}var Ho,Go={type:"object",$id:"_$junk_option_schema_id$_",properties:{__not_really_there__:{type:"number"}}};function Jo(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=0;return r&&(H(r.properties)?a+=va(r.properties,(function(r,a,o){var i=Xe(n,o);if("boolean"===typeof a)return r;if(An(a,jo)){var s=qo(e,a,t,i);return r+Jo(e,t,s,i||{})}if((An(a,wo)||An(a,po))&&i){var c=An(a,wo)?wo:po,u=Fo(a);return r+Qo(e,t,i,Xe(a,c),-1,u)}if("object"===a.type)return r+Jo(e,t,a,i||{});if(a.type===No(i)){var l=r+1;return a.default?l+=i===a.default?1:-1:a.const&&(l+=i===a.const?1:-1),l}return r}),0):Tn(r.type)&&r.type===No(n)&&(a+=1)),a}function Qo(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=arguments.length>5?arguments[5]:void 0,i=n.map((function(e){return Wo(e,t)})),s=i.reduce((function(n,a,i){return 1===Do(e,r,[Go,a],t,o)&&n.push(i),n}),[]);if(1===s.length)return s[0];s.length||Ra(i.length,(function(e){return s.push(e)}));var c=new Set,u=s.reduce((function(n,a){var o=n.bestScore,s=i[a],u=Jo(e,t,s,r);return c.add(u),u>o?{bestIndex:a,bestScore:u}:n}),{bestIndex:a,bestScore:0}),l=u.bestIndex;return 1===c.size&&a>=0?a:l}function Yo(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(t)){var n=Array.isArray(e)?e:[],a=t.map((function(e,t){return n[t]?Yo(n[t],e,r):e}));return r&&a.length<n.length&&a.push.apply(a,h(n.slice(a.length))),a}if(co(t)){var o=Object.assign({},e);return Object.keys(t).reduce((function(n,a){return n[a]=Yo(e?Xe(e,a):{},Xe(t,a),r),n}),o)}return t}function Xo(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object.keys(t).reduce((function(n,a){var o=e?e[a]:{},i=t[a];if(e&&a in e&&co(i))n[a]=Xo(o,i,r);else if(r&&Array.isArray(o)&&Array.isArray(i)){var s=i;"preventDuplicates"===r&&(s=i.reduce((function(e,t){return o.includes(t)||e.push(t),e}),[])),n[a]=o.concat(s)}else n[a]=i;return n}),Object.assign({},e))}function Zo(e,t){var r=qo(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},void 0),n=r.oneOf||r.anyOf;return!!Array.isArray(r.enum)||!!Array.isArray(n)&&n.every((function(e){return"boolean"!==typeof e&&function(e){return Array.isArray(e.enum)&&1===e.enum.length||ho in e}(e)}))}function ei(e,t,r){return!(!t.uniqueItems||!t.items||"boolean"===typeof t.items)&&Zo(e,t.items,r)}function ti(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ho.Ignore,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(r>=0){if(Array.isArray(e.items)&&r<e.items.length){var n=e.items[r];if("boolean"!==typeof n)return n}}else if(e.items&&!Array.isArray(e.items)&&"boolean"!==typeof e.items)return e.items;return t!==Ho.Ignore&&co(e.additionalItems)?e.additionalItems:{}}function ri(e,t,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],i=(arguments.length>6&&void 0!==arguments[6]?arguments[6]:{}).emptyObjectFields,s=void 0===i?"populateAllDefaults":i;if(n)e[t]=r;else if("skipDefaults"!==s)if(co(r)){var c=void 0===a?o.includes(t):a;Bt(r)&&!o.includes(t)||!c&&"populateRequiredDefaults"===s||(e[t]=r)}else void 0===r||"populateAllDefaults"!==s&&!o.includes(t)||(e[t]=r)}function ni(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.parentDefaults,a=r.rawFormData,o=r.rootSchema,i=void 0===o?{}:o,s=r.includeUndefinedValues,c=void 0!==s&&s,u=r._recurseList,l=void 0===u?[]:u,f=r.experimental_defaultFormStateBehavior,d=void 0===f?void 0:f,p=r.required,h=co(a)?a:{},v=co(t)?t:{},_=n,y=null,g=l;if(co(_)&&co(v.default))_=Xo(_,v.default);else if(mo in v)_=v.default;else if(jo in v){var b=v[jo];l.includes(b)||(g=l.concat(b),y=Ro(b,i))}else if(vo in v){y=Vo(e,v,i,!1,h)[0]}else if(function(e){return Array.isArray(e.items)&&e.items.length>0&&e.items.every((function(e){return co(e)}))}(v))_=v.items.map((function(t,r){return ni(e,t,{rootSchema:i,includeUndefinedValues:c,_recurseList:l,experimental_defaultFormStateBehavior:d,parentDefaults:Array.isArray(n)?n[r]:void 0,rawFormData:h,required:p})}));else if(wo in v){var w=v.oneOf,k=m(v,io);if(0===w.length)return;var x=Fo(v);y=Uo(k,y=w[Qo(e,i,Bt(h)?void 0:h,w,0,x)])}else if(po in v){var j=v.anyOf,E=m(v,so);if(0===j.length)return;var S=Fo(v);y=Uo(E,y=j[Qo(e,i,Bt(h)?void 0:h,j,0,S)])}if(y)return ni(e,y,{rootSchema:i,includeUndefinedValues:c,_recurseList:g,experimental_defaultFormStateBehavior:d,parentDefaults:_,rawFormData:h,required:p});switch(void 0===_&&(_=v.default),Mo(v)){case"object":var O=Object.keys(v.properties||{}).reduce((function(t,r){var n;return ri(t,r,ni(e,Xe(v,[ko,r]),{rootSchema:i,_recurseList:l,experimental_defaultFormStateBehavior:d,includeUndefinedValues:!0===c,parentDefaults:Xe(_,[r]),rawFormData:Xe(h,[r]),required:null===(n=v.required)||void 0===n?void 0:n.includes(r)}),c,p,v.required,d),t}),{});if(v.additionalProperties){var P,A=co(v.additionalProperties)?v.additionalProperties:{},T=new Set;co(_)&&Object.keys(_).filter((function(e){return!v.properties||!v.properties[e]})).forEach((function(e){return T.add(e)})),co(h)&&(P=[],Object.keys(h).filter((function(e){return!v.properties||!v.properties[e]})).forEach((function(e){T.add(e),P.push(e)}))),T.forEach((function(t){var r,n=ni(e,A,{rootSchema:i,_recurseList:l,experimental_defaultFormStateBehavior:d,includeUndefinedValues:!0===c,parentDefaults:Xe(_,[t]),rawFormData:Xe(h,[t]),required:null===(r=v.required)||void 0===r?void 0:r.includes(t)});ri(O,t,n,c,p,P)}))}return O;case"array":var C;if(Array.isArray(_)&&(_=_.map((function(t,r){var n=ti(v,Ho.Fallback,r);return ni(e,n,{rootSchema:i,_recurseList:l,experimental_defaultFormStateBehavior:d,parentDefaults:t,required:p})}))),Array.isArray(a)){var R=ti(v);_=a.map((function(t,r){return ni(e,R,{rootSchema:i,_recurseList:l,experimental_defaultFormStateBehavior:d,rawFormData:t,parentDefaults:Xe(_,[r]),required:p})}))}if("requiredOnly"===(null===d||void 0===d||null===(C=d.arrayMinItems)||void 0===C?void 0:C.populate)&&!p)return _||void 0;var I=Array.isArray(_)?_.length:0;if(!v.minItems||ei(e,v,i)||v.minItems<=I)return _||[];var D=_||[],F=ti(v,Ho.Invert),N=F.default,M=new Array(v.minItems-I).fill(ni(e,F,{parentDefaults:N,rootSchema:i,_recurseList:l,experimental_defaultFormStateBehavior:d,required:p}));return D.concat(M)}return _}function ai(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0;if(!co(t))throw new Error("Invalid schema: "+t);var i=ni(e,qo(e,t,n,r),{rootSchema:n,includeUndefinedValues:a,experimental_defaultFormStateBehavior:o,rawFormData:r});if(void 0===r||null===r||"number"===typeof r&&isNaN(r))return i;var s=((null===o||void 0===o?void 0:o.arrayMinItems)||{}).mergeExtraDefaults;return co(r)||Array.isArray(r)?Yo(i,r,s):r}!function(e){e[e.Ignore=0]="Ignore",e[e.Invert=1]="Invert",e[e.Fallback=2]="Fallback"}(Ho||(Ho={}));var oi=function(){function e(t){u(this,e),this.errorSchema={},this.resetAllErrors(t)}return p(e,[{key:"ErrorSchema",get:function(){return this.errorSchema}},{key:"getOrCreateErrorBlock",value:function(e){var t=Array.isArray(e)&&e.length>0||"string"===typeof e?Xe(this.errorSchema,e):this.errorSchema;return!t&&e&&(t={},Da(this.errorSchema,e,t)),t}},{key:"resetAllErrors",value:function(e){return this.errorSchema=e?Qa(e):{},this}},{key:"addErrors",value:function(e,t){var r,n=this.getOrCreateErrorBlock(t),a=Xe(n,_o);(Array.isArray(a)||(a=[],n[_o]=a),Array.isArray(e))?(r=a).push.apply(r,h(e)):a.push(e);return this}},{key:"setErrors",value:function(e,t){var r=this.getOrCreateErrorBlock(t),n=Array.isArray(e)?h(e):[e];return Da(r,_o,n),this}},{key:"clearErrors",value:function(e){var t=this.getOrCreateErrorBlock(e);return Da(t,_o,[]),this}}]),e}();var ii;function si(e){var t=new Set;return JSON.stringify(e,(function(e,r){return t.add(e),r})),function(e){for(var t=0,r=0;r<e.length;r+=1)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t.toString(16)}(JSON.stringify(e,Array.from(t).sort()))}function ci(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];var r=[];return _o in e&&(r=r.concat(e[_o].map((function(e){var r=".".concat(t.join("."));return{property:r,message:e,stack:"".concat(r," ").concat(e)}})))),Object.keys(e).reduce((function(r,n){if(n!==_o){var a=e[n];$(a)&&(r=r.concat(ci(a,[].concat(h(t),[n]))))}return r}),r)}function ui(e){return Object.keys(e).reduce((function(t,r){if("addError"===r)return t;var n=e[r];return $(n)?y(y({},t),{},v({},r,ui(n))):y(y({},t),{},v({},r,n))}),{})}function li(e){return Array.isArray(e)?function(e){for(var t=0;t<e.length;t++)e[t]=li(e[t]);return e}(h(e)):H(e)?function(e){for(var t in e){var r=e,n=r[t];t===jo&&"string"===typeof n&&n.startsWith("#")?r[t]=So+n:r[t]=li(n)}return e}(y({},e)):e}!function(e){e.ArrayItemTitle="Item",e.MissingItems="Missing items definition",e.YesLabel="Yes",e.NoLabel="No",e.CloseLabel="Close",e.ErrorsLabel="Errors",e.NewStringDefault="New Value",e.AddButton="Add",e.AddItemButton="Add Item",e.CopyButton="Copy",e.MoveDownButton="Move down",e.MoveUpButton="Move up",e.RemoveButton="Remove",e.NowLabel="Now",e.ClearLabel="Clear",e.AriaDateLabel="Select a date",e.PreviewLabel="Preview",e.DecrementAriaLabel="Decrease value by 1",e.IncrementAriaLabel="Increase value by 1",e.UnknownFieldType="Unknown field type %1",e.OptionPrefix="Option %1",e.TitleOptionPrefix="%1 option %2",e.KeyLabel="%1 Key",e.InvalidObjectField='Invalid "%1" object field configuration: <em>%2</em>.',e.UnsupportedField="Unsupported field schema.",e.UnsupportedFieldWithId="Unsupported field schema for field <code>%1</code>.",e.UnsupportedFieldWithReason="Unsupported field schema: <em>%1</em>.",e.UnsupportedFieldWithIdAndReason="Unsupported field schema for field <code>%1</code>: <em>%2</em>.",e.FilesInfo="<strong>%1</strong> (%2, %3 bytes)"}(ii||(ii={}));var fi=__webpack_require__(35254),di=__webpack_require__.n(fi),pi=__webpack_require__(90429),hi=__webpack_require__.n(pi),mi=["instancePath","keyword","params","schemaPath","parentSchema"],vi={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0},_i=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,yi=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function gi(e,t,r,n,a,o,i){var s=t.validationError,c=function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(t){var r=t.instancePath,n=t.keyword,a=t.params,o=t.schemaPath,i=t.parentSchema,s=m(t,mi).message,c=void 0===s?"":s,u=r.replace(/\//g,"."),l="".concat(u," ").concat(c).trim();if("missingProperty"in a){u=u?"".concat(u,".").concat(a.missingProperty):a.missingProperty;var f=a.missingProperty,d=Ao(Xe(e,"".concat(u.replace(/^\./,"")))).title;if(d)c=c.replace(f,d);else{var p=Xe(i,[ko,f,"title"]);p&&(c=c.replace(f,p))}l=c}else{var h=Ao(Xe(e,"".concat(u.replace(/^\./,"")))).title;if(h)l="'".concat(h,"' ").concat(c).trim();else{var v=null===i||void 0===i?void 0:i.title;v&&(l="'".concat(v,"' ").concat(c).trim())}}return{name:n,property:u,message:c,params:a,stack:l,schemaPath:o}}))}(t.errors,i);s&&(c=[].concat(h(c),[{stack:s.message}])),"function"===typeof o&&(c=o(c,i));var u=function(e){var t=new oi;return e.length&&e.forEach((function(e){var r=e.property,n=e.message,a="."===r?[]:Xa(r);a.length>0&&""===a[0]&&a.splice(0,1),n&&t.addErrors(n,a)})),t.ErrorSchema}(c);if(s&&(u=y(y({},u),{},{$schema:{__errors:[s.message]}})),"function"!==typeof a)return{errors:c,errorSchema:u};var l=ai(e,n,r,n,!0);return function(e,t){if(!t)return e;var r=e.errors,n=e.errorSchema,a=ci(t),o=t;return Bt(n)||(o=Xo(n,t,!0),a=h(r).concat(a)),{errorSchema:o,errors:a}}({errors:c,errorSchema:u},ui(a(l,To(l),i)))}var bi=function(){function t(e,r){u(this,t),this.ajv=void 0,this.localizer=void 0;var n=e.additionalMetaSchemas,a=e.customFormats,o=e.ajvOptionsOverrides,i=e.ajvFormatOptions,s=e.AjvClass;this.ajv=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,a=new(arguments.length>4&&void 0!==arguments[4]?arguments[4]:di())(y(y({},vi),r));return n?hi()(a,n):!1!==n&&hi()(a),a.addFormat("data-url",yi),a.addFormat("color",_i),a.addKeyword(uo),a.addKeyword(Eo),Array.isArray(e)&&a.addMetaSchema(e),H(t)&&Object.keys(t).forEach((function(e){a.addFormat(e,t[e])})),a}(n,a,o,i,s),this.localizer=r}return p(t,[{key:"toErrorList",value:function(e){return ci(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])}},{key:"rawValidation",value:function(e,t){var r,n,a=void 0;e[yo]&&(r=this.ajv.getSchema(e[yo]));try{void 0===r&&(r=this.ajv.compile(e)),r(t)}catch(o){a=o}return r&&("function"===typeof this.localizer&&this.localizer(r.errors),n=r.errors||void 0,r.errors=null),{errors:n,validationError:a}}},{key:"validateFormData",value:function(e,t,r,n,a){return gi(this,this.rawValidation(t,e),e,t,r,n,a)}},{key:"isValid",value:function(t,r,n){var a,o=null!==(a=n[yo])&&void 0!==a?a:So;try{var i;void 0===this.ajv.getSchema(o)&&this.ajv.addSchema(n,o);var s,c=li(t),u=null!==(i=c[yo])&&void 0!==i?i:si(c);return void 0===(s=this.ajv.getSchema(u))&&(s=this.ajv.addSchema(c,u).getSchema(u)||this.ajv.compile(c)),s(r)}catch(e){return console.warn("Error encountered compiling schema:",e),!1}finally{this.ajv.removeSchema(o)}}}]),t}();function wi(){return new bi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}var ki=wi(),xi='\n# ImJoy Plugin Form Guide\n\n## Introduction\nThis guide demonstrates how to use ImJoy plugin functions to create a custom form dialog with fields for name and age.\n\n## Steps to Create a Custom Form Dialog\n\n### 1. Define JSON Schema\nDefine a JSON schema for your custom form:\n\n```javascript\nconst testSchema = {\n    "title": "Test Form",\n    "type": "object",\n    "properties": {\n        "name": {\n            "type": "string",\n            "title": "Name",\n            "maxLength": 5,\n        },\n        "age": {\n            "type": "number",\n            "title": "Age"\n        }\n    }\n};\n```\n\n### 2. Show Dialog or Create Window\nUse the `api.showDialog` or `api.createWindow` method to display the custom form based on the defined schema:\n\n#### Using `api.showDialog`\n\n```javascript\nconst form = await api.showDialog({\n    src: `${currentLocationRoot}/index.html`,\n    name: "Form",\n    config: {\n        schema: testSchema,\n        /* Other configuration options */\n    }\n});\n```\n\n#### Using `api.createWindow` (if applicable)\n\n```javascript\nconst window = await api.createWindow({\n    src: `${currentLocationRoot}/index.html`,\n    name: "Window",\n    config: {\n        schema: testSchema,\n        /* Other configuration options */\n    }\n});\n```\n\n### 3. Handle Events\nProvide callback functions to handle events:\n\n```javascript\ncallback(data){\n    alert(`Received form data: ${JSON.stringify(data)}`);\n},\nonchange(data){\n    console.log("form data changed", data);\n},\nonerror(errors){\n    console.error("form error", errors);\n},\n```\n\n## Conclusion\nThis guide simplifies the process of creating a custom form dialog using the ImJoy plugin functions `api.createWindow` or `api.showDialog`. You can define a JSON schema to specify the fields and behaviors of the form, and utilize callback functions to handle interactions.\n\n';var ji=function(){var e=function(){var e=o((0,t.useState)(null),2),r=e[0],n=e[1],a=o((0,t.useState)({title:"Untitled",description:"No form data is available for display.",type:"object"}),2),s=a[0],c=a[1],u=o((0,t.useState)({}),2),l=u[0],f=u[1],d=o((0,t.useState)("Submit"),2),p=d[0],h=d[1],m=(0,t.useRef)(null),v=(0,t.useRef)(null),_=(0,t.useRef)(null);return(0,t.useEffect)((function(){window.self===window.top||window.loadImJoy||(window.loadImJoy=!0,i.imjoyRPC.setupRPC({name:"ImJoy JSON Schema Form",version:"0.1.0",description:"Displaying JSON schema form, powered by react-jsonschema-form"}).then((function(e){n(e),e.export({_rintf:!0,docs:xi,setup:function(){},run:function(e){e.config.schema&&c(e.config.schema),e.config.ui_schema&&f(e.config.ui_schema),e.config.submit_label&&h(e.config.submit_label),e.config.callback&&(m.current=e.config.callback),e.config.onchange&&(v.current=e.config.onchange),e.config.onerror&&(_.current=e.config.onerror)}})})).catch((function(e){console.error(e)})))}),[]),{schema:s,uiSchema:l,submitLabel:p,callbackRef:m,onchangeRef:v,onerrorRef:_,api:r}}(),r=e.schema,n=e.uiSchema,a=e.submitLabel,s=e.callbackRef,u=e.onchangeRef,l=e.onerrorRef,f=(0,t.useCallback)((function(e){s.current&&s.current(e)}),[s]);return(0,Ya.jsx)("div",{className:"App",children:(0,Ya.jsx)("div",{className:"container",children:(0,Ya.jsx)("div",{className:"row justify-content-center",children:(0,Ya.jsx)("div",{className:"col-md-8",children:(0,Ya.jsx)("div",{className:"my-5",children:(0,Ya.jsx)(c(),{schema:r,uiSchema:n,validator:ki,onError:function(e){return l.current&&l.current(e)},onChange:function(e){return u.current&&u.current(e.formData)},onSubmit:f,children:s.current&&(0,Ya.jsx)("button",{type:"submit",className:"btn btn-primary",children:a})})})})})})})},Ei=function(e){e&&e instanceof Function&&__webpack_require__.e(787).then(__webpack_require__.bind(__webpack_require__,787)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),o(e),i(e)}))};r.createRoot(document.getElementById("root")).render((0,Ya.jsx)(t.StrictMode,{children:(0,Ya.jsx)(ji,{})})),Ei()}()})();
//# sourceMappingURL=main.c4e15b4d.js.map